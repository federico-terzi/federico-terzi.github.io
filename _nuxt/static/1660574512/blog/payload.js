__NUXT_JSONP__("/blog", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN,fO,fP,fQ,fR,fS,fT,fU,fV,fW,fX,fY,fZ,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gu,gv,gw,gx,gy,gz,gA,gB,gC,gD,gE,gF,gG,gH,gI,gJ,gK,gL,gM,gN,gO,gP,gQ,gR,gS,gT,gU,gV,gW,gX,gY,gZ,g_,g$,ha,hb,hc,hd,he,hf,hg,hh,hi,hj,hk,hl,hm,hn,ho,hp,hq,hr,hs,ht,hu,hv,hw,hx,hy,hz,hA,hB,hC,hD,hE,hF,hG,hH,hI,hJ,hK,hL,hM,hN,hO,hP,hQ,hR,hS,hT,hU,hV,hW,hX,hY,hZ,h_,h$,ia,ib,ic,id,ie,if0,ig,ih,ii,ij,ik,il,im,in0,io,ip,iq,ir,is,it,iu,iv,iw,ix,iy,iz,iA,iB,iC,iD,iE,iF,iG,iH,iI,iJ,iK,iL,iM,iN,iO,iP,iQ,iR,iS,iT,iU,iV,iW,iX,iY,iZ,i_,i$,ja,jb,jc,jd,je,jf,jg,jh,ji,jj,jk,jl,jm,jn,jo,jp,jq,jr,js,jt,ju,jv,jw,jx,jy,jz,jA,jB,jC,jD,jE,jF,jG,jH,jI,jJ,jK,jL,jM,jN,jO,jP,jQ,jR,jS,jT,jU,jV,jW,jX,jY,jZ,j_,j$,ka,kb,kc,kd,ke,kf,kg,kh,ki,kj,kk,kl,km,kn,ko,kp,kq,kr,ks,kt,ku,kv,kw,kx,ky,kz,kA,kB,kC,kD,kE,kF,kG,kH,kI,kJ,kK,kL,kM,kN,kO,kP,kQ,kR,kS,kT,kU,kV,kW,kX,kY,kZ,k_,k$,la,lb,lc,ld,le,lf,lg,lh,li,lj,lk,ll,lm,ln,lo,lp,lq,lr,ls,lt,lu,lv,lw,lx,ly,lz){return {data:[{articles:[{slug:"2022-08-15-automatic-code-signing-and-notarization-for-macos-apps-using-github-actions",description:"After almost 3 years, we finally took the necessary steps to code-sign Espanso. This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice.",layout:aS,title:"Automatic Code-signing and Notarization for macOS apps using GitHub Actions",author:aT,date:"2022-08-15T00:00:00.000Z",categories:"ci github actions macos code sign signing notarize notarization automatic certificate",social_title:"Automatic Code-signing and Notarization for macOS apps",social_subtitle:"using GitHub Actions",toc:[{id:e_,depth:_,text:e$},{id:fa,depth:_,text:fb},{id:fc,depth:_,text:fd},{id:fe,depth:_,text:ff},{id:fg,depth:_,text:fh},{id:fi,depth:_,text:fj},{id:fk,depth:_,text:fl}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:fm},{type:b,tag:p,props:{href:dc,rel:[x,y,z],target:A},children:[{type:a,value:bR}]},{type:a,value:fn}]},{type:a,value:f},{type:a,value:f},{type:b,tag:at,props:{id:"prerequisites"},children:[{type:b,tag:p,props:{href:"#prerequisites",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Prerequisites"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Having a paid "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdeveloper.apple.com\u002Fprograms\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Apple Developer Program"}]},{type:a,value:" subscription. This costs about ~$99 per year depending on your country and is necessary to generate the required certificates."}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Having a CI that builds your final App bundle. This bundle can be generated in a lot of different ways, just keep in mind we’ll need the final "},{type:b,tag:l,props:{},children:[{type:a,value:"bundle.app"}]},{type:a,value:" inside the CI to perform the signing and notarization. This article won't cover the bundle generation, so please take care of that beforehand if you haven't already."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:at,props:{id:"generating-the-certificate"},children:[{type:b,tag:p,props:{href:"#generating-the-certificate",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Generating the Certificate"}]},{type:a,value:f},{type:b,tag:bS,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you have already generated a certificate for your app, feel free to skip this section"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In order to sign the app, we need a valid certificate issued from Apple. You can issue one following these steps:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Navigate to the Apple Developer portal into the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdeveloper.apple.com\u002Faccount\u002Fresources\u002Fcertificates\u002Flist",rel:[x,y,z],target:A},children:[{type:a,value:"Certificates, Identifiers & Profiles section"}]},{type:a,value:" and select “Create a New Profile”"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"You’ll be asked to choose a certificate type, select “Developer ID Application” from the options and then continue"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:fo,src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:fo}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"For the “Developer ID Certificate Intermediary” choose "},{type:b,tag:l,props:{},children:[{type:a,value:"G2 Sub-CA (Xcode 11.4.1 or later)"}]},{type:a,value:" and keep this webpage open, we’ll get back to it later"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Certificate Intermediary selection",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%201.png"},children:[]}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Then, we need to generate a "},{type:b,tag:T,props:{},children:[{type:a,value:"Certificate Signing Request (CSR)."}]},{type:a,value:" We can do so by opening the “Keychain Access” app on macOS, selecting "},{type:b,tag:l,props:{},children:[{type:a,value:"Certificate Assistant \u003E Request a Certificate From a Certificate Authority..."}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Generate a CSR",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%202.png"},children:[]}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"You’ll be prompted for some information, make sure to specify the same email you used for your paid Apple Developer subscription, then check the "},{type:b,tag:l,props:{},children:[{type:a,value:"Save to Disk"}]},{type:a,value:" option, and click "},{type:b,tag:l,props:{},children:[{type:a,value:"Continue"}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Certificate information",src:"\u002Fposts\u002Fmacos-code-sign\u002FScreenshot_2022-08-15_at_11.26.54.png"},children:[]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This will create a "},{type:b,tag:l,props:{},children:[{type:a,value:"CertificateSigningRequest.certSigningRequest"}]},{type:a,value:" file in your location of choice. Go back to the “Create a New Certificate” webpage we opened earlier and click on “Choose File”, selecting the certificate request file we just created. Finally, click “Continue”"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"On the Apple Developer portal, you should now see your new certificate. Download it and open it using the "},{type:b,tag:l,props:{},children:[{type:a,value:fp}]},{type:a,value:" app on your mac. It should look like this:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Final certificate inside Keychain Access",src:"\u002Fposts\u002Fmacos-code-sign\u002FScreenshot_2022-08-15_at_11.39.43.png"},children:[]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Please note down the full name of the certificate (such as "},{type:b,tag:l,props:{},children:[{type:a,value:"Developer ID Application: Your Name (K1234)"}]},{type:a,value:", as we will need it later)"}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This certificate is ready to be used locally, but we want to export it in a format that is usable inside an automated (and headless) CI environment. For this reason, we are going to use the same trick from "},{type:b,tag:p,props:{href:fq,rel:[x,y,z],target:A},children:[{type:a,value:"this great article"}]},{type:a,value:" by Localazy, exporting the certificate file and then encoding it as base64."}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Select both the certificate (Developer ID Application: …) and the private key (the item below), then right click and choose “Export 2 items…”"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In the panel that opens up, select a target location for the certificate file and choose "},{type:b,tag:l,props:{},children:[{type:a,value:"Personal Information Exchange (.p12)"}]},{type:a,value:" format."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"You’ll be asked for a password, generate a strong one using your tool of choice and note it down, as we’ll need it in the upcoming steps"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Open a terminal, "},{type:b,tag:l,props:{},children:[{type:a,value:"cd"}]},{type:a,value:" into the directory in which you created the certificate file, and convert it into base64 using this command:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,dP]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"base64 Certificates "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:" Certificates.base64\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This command will create a new "},{type:b,tag:l,props:{},children:[{type:a,value:fr}]},{type:a,value:" file with the certificate encoded as base64 string. Keep this file around, as we’ll need it when populating the GitHub Actions secrets."}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:at,props:{id:"gathering-the-notarization-information"},children:[{type:b,tag:p,props:{href:"#gathering-the-notarization-information",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Gathering the Notarization information"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Before diving into the GitHub Actions setup, we need to gather some more information for the notarization step:"}]},{type:a,value:f},{type:b,tag:$,props:{id:e_},children:[{type:b,tag:p,props:{href:"#generating-an-app-specific-password",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:e$}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We need to generate an Apple’s "},{type:b,tag:p,props:{href:"https:\u002F\u002Fsupport.apple.com\u002Fen-us\u002FHT204397",rel:[x,y,z],target:A},children:[{type:a,value:"app-specific password"}]},{type:a,value:" for the notarization step:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Navigate and sign in to "},{type:b,tag:p,props:{href:"https:\u002F\u002Fappleid.apple.com\u002Faccount\u002Fhome",rel:[x,y,z],target:A},children:[{type:a,value:"appleid.apple.com"}]},{type:a,value:" using the same account as your paid Apple Developer subscription"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"On the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fappleid.apple.com\u002Faccount\u002Fmanage",rel:[x,y,z],target:A},children:[{type:a,value:"Sign-in and Security page"}]},{type:a,value:", select “App-Specific Passwords”"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"App-specific password",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%203.png"},children:[]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Then select “Generate App-Specific Password”, and give it a meaningful name, such as “Project CI Notarization”"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Then, enter your account password and finally “Continue”"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"You should now see a generated password, please note it down as we’ll need it later."}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:$,props:{id:fa},children:[{type:b,tag:p,props:{href:"#getting-your-team-id",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:fb}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Head over to the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdeveloper.apple.com\u002Faccount\u002F#!\u002Fmembership",rel:[x,y,z],target:A},children:[{type:a,value:"membership page"}]},{type:a,value:", logging in if necessary"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Inside the page, you should see a "},{type:b,tag:l,props:{},children:[{type:a,value:fs}]},{type:a,value:" field. Note it down, as we will need it later"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:at,props:{id:"setting-up-the-github-actions-pipeline"},children:[{type:b,tag:p,props:{href:"#setting-up-the-github-actions-pipeline",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Setting up the GitHub Actions pipeline"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Now that we gathered all the necessary information, it’s time to set up the GitHub Actions steps that will code-sign and notarize our app."}]},{type:a,value:f},{type:b,tag:$,props:{id:fc},children:[{type:b,tag:p,props:{href:"#setting-up-the-secrets",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:fd}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Navigate to your GitHub project Settings \u003E Security \u003E Secrets \u003E Actions. Here we’ll need to register several secrets for the process to work correctly, so let’s start:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:l,props:{},children:[{type:a,value:"PROD_MACOS_CERTIFICATE"}]},{type:a,value:" should contain the base64 of the certificate we generated earlier. In particular, you should paste the content of the "},{type:b,tag:l,props:{},children:[{type:a,value:fr}]},{type:a,value:" file here"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:l,props:{},children:[{type:a,value:"PROD_MACOS_CERTIFICATE_NAME"}]},{type:a,value:" should contain the full certificate name, such as "},{type:b,tag:l,props:{},children:[{type:a,value:"Developer ID Application: Your Name (K1234567)"}]}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:l,props:{},children:[{type:a,value:"PROD_MACOS_CERTIFICATE_PWD"}]},{type:a,value:" should contain the password you choose when exporting the certificate from the "},{type:b,tag:l,props:{},children:[{type:a,value:fp}]},{type:a,value:" app"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:l,props:{},children:[{type:a,value:ft}]},{type:a,value:" should contain your apple developer email, the same you use for the Apple Developer subscription"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:l,props:{},children:[{type:a,value:fu}]},{type:a,value:" should contain the app-specific password we generated earlier"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:l,props:{},children:[{type:a,value:fv}]},{type:a,value:" should contain the "},{type:b,tag:l,props:{},children:[{type:a,value:fs}]},{type:a,value:" we got earlier from the membership page"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:l,props:{},children:[{type:a,value:"PROD_MACOS_CI_KEYCHAIN_PWD"}]},{type:a,value:" should contain a strong, randomly generated password. Feel free to use your tool of choice for this."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you did everything right, you should end up with these 7 secrets in your GitHub Actions:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Github Secrets",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%204.png"},children:[]}]},{type:a,value:f},{type:b,tag:$,props:{id:fe},children:[{type:b,tag:p,props:{href:"#defining-the-code-signing-step",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:ff}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Now that we have all our secrets in place, we are ready to define the code-signing step. For the sake of these examples, we assume that the app bundle will be placed in the "},{type:b,tag:l,props:{},children:[{type:a,value:fw}]},{type:a,value:" path inside the CI environment. Make sure to replace it with the appropriate location of your app."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This is what the GitHub Actions step should look like in the end, with comments explaining the various sections:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,dd]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:" Codesign app bundle\n  "},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:fx}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:fy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:" \n    "},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:"MACOS_CERTIFICATE"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" secrets.PROD_MACOS_CERTIFICATE "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:"MACOS_CERTIFICATE_PWD"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" secrets.PROD_MACOS_CERTIFICATE_PWD "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:"MACOS_CERTIFICATE_NAME"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" secrets.PROD_MACOS_CERTIFICATE_NAME "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:"MACOS_CI_KEYCHAIN_PWD"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" secrets.PROD_MACOS_CI_KEYCHAIN_PWD "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:fz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,fA,u]},children:[{type:a,value:"\n    # Turn our base64-encoded certificate back to a regular .p12 file"}]},{type:a,value:"\n    \n    echo $MACOS_CERTIFICATE "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:az}]},{type:a,value:" base64 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"decode "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:a,value:" certificate.p12\n\n    "},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# We need to create a new keychain, otherwise using the certificate will prompt"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# with a UI dialog asking for the certificate password, which we can't"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# use in a headless CI environment"}]},{type:a,value:"\n    \n    security create"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"p \"$MACOS_CI_KEYCHAIN_PWD\" build.keychain \n    security default"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"s build.keychain\n    security unlock"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"p \"$MACOS_CI_KEYCHAIN_PWD\" build.keychain\n    security import certificate.p12 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"k build.keychain "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"P \"$MACOS_CERTIFICATE_PWD\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"T \u002Fusr\u002Fbin\u002Fcodesign\n    security set"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"partition"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"list "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"S apple"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"tool"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:fB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:fC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"s "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"k \"$MACOS_CI_KEYCHAIN_PWD\" build.keychain\n\n    "},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# We finally codesign our app bundle, specifying the Hardened runtime option"}]},{type:a,value:"\n    \n    \u002Fusr\u002Fbin\u002Fcodesign "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"force "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"s \"$MACOS_CERTIFICATE_NAME\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"options runtime target\u002Fmac\u002FEspanso.app "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"v\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"A note before proceeding further:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Specifying the "},{type:b,tag:l,props:{},children:[{type:a,value:"--options runtime"}]},{type:a,value:" flag for the "},{type:b,tag:l,props:{},children:[{type:a,value:fC}]},{type:a,value:" command enables the "},{type:b,tag:p,props:{href:fD,rel:[x,y,z],target:A},children:[{type:a,value:"Hardened Runtime"}]},{type:a,value:" for our app. This is necessary to pass the following notarization step (otherwise it fails when notarizing), but this might interfere with your app, as it disables JIT and other dynamic features. If you need them, you’ll need to specify the exceptions in your app’s entitlement file, as explained in the "},{type:b,tag:p,props:{href:fD,rel:[x,y,z],target:A},children:[{type:a,value:"hardened runtime"}]},{type:a,value:" documentation."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:$,props:{id:fg},children:[{type:b,tag:p,props:{href:"#defining-the-notarization-step",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:fh}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"After the code-signing step, our app is ready to be Notarized, which is necessary to prevent macOS from showing a scary warning to our users when opening the app."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The GitHub Action step should look like the following. This again assumes that the app bundle is located in the "},{type:b,tag:l,props:{},children:[{type:a,value:fw}]},{type:a,value:" path, so adapt it accordingly:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,dd]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"Notarize app bundle\""}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:fx}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:fy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:ft}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" secrets.PROD_MACOS_NOTARIZATION_APPLE_ID "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:fv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" secrets.PROD_MACOS_NOTARIZATION_TEAM_ID "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:fu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" secrets.PROD_MACOS_NOTARIZATION_PWD "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:fz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,fA,u]},children:[{type:a,value:"\n    # Store the notarization credentials so that we can prevent a UI password dialog\n    # from blocking the CI"}]},{type:a,value:"\n\n    echo \"Create keychain profile\"\n    xcrun notarytool store"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"credentials \"notarytool"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:fE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:fB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"id \"$PROD_MACOS_NOTARIZATION_APPLE_ID\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"team"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"id \"$PROD_MACOS_NOTARIZATION_TEAM_ID\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"password \"$PROD_MACOS_NOTARIZATION_PWD\"\n\n    "},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# We can't notarize an app bundle directly, but we need to compress it as an archive."}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# Therefore, we create a zip file containing our app bundle, so that we can send it to the"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# notarization service"}]},{type:a,value:"\n\n    echo \"Creating temp notarization archive\"\n    ditto "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"c "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"k "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"keepParent \"target\u002Fmac\u002FEspanso.app\" \"notarization.zip\"\n\n    "},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# Here we send the notarization request to the Apple's Notarization service, waiting for the result."}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# This typically takes a few seconds inside a CI environment, but it might take more depending on the App"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# characteristics. Visit the Notarization docs for more information and strategies on how to optimize it if"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# you're curious"}]},{type:a,value:"\n\n    echo \"Notarize app\"\n    xcrun notarytool submit \"notarization.zip\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:fF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:fG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:fE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"wait\n\n    "},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# Finally, we need to \"attach the staple\" to our executable, which will allow our app to be"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# validated by macOS even when an internet connection is not available."}]},{type:a,value:"\n    echo \"Attach staple\"\n    xcrun stapler staple \"target\u002Fmac\u002FEspanso.app\"\n"}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:fi},children:[{type:b,tag:p,props:{href:"#bonus-troubleshooting-notarization-issues",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:fj}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"While you are testing the notarization process, it might happen that the above GitHub Action step fails, with an error like:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,dd]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:"Current status"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:" Invalid"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bw}]},{type:a,value:".Processing complete\n  "},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:cs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:" \u003CRANDOM"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:fH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,ax,aL]},children:[{type:a,value:"status"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:" Invalid\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In these cases, you can view the notarization logs by using the following command (replacing "},{type:b,tag:l,props:{},children:[{type:a,value:"\u003CRANDOM-ID\u003E"}]},{type:a,value:" with the actual one, which you can see in the step logs)"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,dd]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"xcrun notarytool log \u003CRANDOM"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:fH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:fF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:fG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Y}]},{type:a,value:"profile\"\n"}]}]}]},{type:a,value:f},{type:b,tag:at,props:{id:aO},children:[{type:b,tag:p,props:{href:bE,ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Your app should now be fully code-signed and notarized, great job! As a result, no more scary warnings will be shown to your users:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Warnings before and after",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%205.png"},children:[]}]},{type:a,value:f},{type:b,tag:$,props:{id:fk},children:[{type:b,tag:p,props:{href:"#acknowledgments",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:fl}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This article wouldn’t have been possible without "},{type:b,tag:p,props:{href:fq,rel:[x,y,z],target:A},children:[{type:a,value:"this awesome article"}]},{type:a,value:" by Localazy for the code-signing steps and "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Fakeru-inc\u002Fxcnotary\u002Fissues\u002F22#issuecomment-1179170957",rel:[x,y,z],target:A},children:[{type:a,value:"this GitHub comment"}]},{type:a,value:" for the Notarization part, kudos to "},{type:b,tag:p,props:{href:"https:\u002F\u002Ftwitter.com\u002Fhonzabilek4",rel:[x,y,z],target:A},children:[{type:a,value:"Jan Bílek"}]},{type:a,value:aU},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Fbradking",rel:[x,y,z],target:A},children:[{type:a,value:"Brad King"}]},{type:a,value:aY}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:fm},{type:b,tag:p,props:{href:dc,rel:[x,y,z],target:A},children:[{type:a,value:bR}]},{type:a,value:fn}]}]},dir:aV,path:"\u002Farticles\u002F2022-08-15-automatic-code-signing-and-notarization-for-macos-apps-using-github-actions",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"automatic-code-signing-and-notarization-for-macos-apps-using-github-actions"},{slug:"2022-05-02-building-robust-applications-by-making-invalid-states-unrepresentable",description:dR,layout:aS,title:fI,author:aT,date:"2022-05-02T00:00:00.000Z",categories:"react trick guide robust applications invalid states unrepresentable typescript static types",social_title:fI,social_subtitle:dS,toc:[{id:fJ,depth:_,text:fK},{id:fL,depth:_,text:fM},{id:fN,depth:_,text:fO},{id:fP,depth:_,text:dS},{id:fQ,depth:_,text:fR}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:dR}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this article, we are going to discuss a functional programming technique that can greatly improve the reliability of your front-end applications: making invalid states unrepresentable. Although these concepts can be applied to most frameworks and languages, we are going to focus on React applications written in TypeScript."}]},{type:a,value:f},{type:b,tag:$,props:{id:fJ},children:[{type:b,tag:p,props:{href:"#our-example",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:fK}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"To start our discussion, we are going to focus on a simple login form as an example (you can find the complete code in "},{type:b,tag:p,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Freactinvalidstatesunrepresentable-bad-tbwvi?file=\u002Fsrc\u002FApp.tsx",rel:[x,y,z],target:A},children:[{type:a,value:"this Codesanbox"}]},{type:a,value:").\nIn a nutshell, the example is composed of:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:fS},{type:b,tag:l,props:{},children:[{type:a,value:fT}]},{type:a,value:" component, which contains the input fields and invokes a callback when the user clicks on "},{type:b,tag:l,props:{},children:[{type:a,value:fU}]}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:fS},{type:b,tag:l,props:{},children:[{type:a,value:ct}]},{type:a,value:" function, which simulates a network call to a login endpoint. If successful, this function returns a "},{type:b,tag:T,props:{},children:[{type:a,value:d}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:dT},{type:b,tag:l,props:{},children:[{type:a,value:cd}]},{type:a,value:" component, which keeps the application state and displays the appropriate messages\u002Fcomponents."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Login example",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_1.gif"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Here's the complete code:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[bT,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:fV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ce}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:fT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n  onLogin\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:fW}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" setUser"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:fY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:fZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" setPass"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:fY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:"Insert login "},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"details"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"use "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'test'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"as"}]},{type:a,value:" password "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bF}]},{type:a,value:" correct logins"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:f_},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"user\""}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:"User"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:f$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:"input\n        type"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"text\""}]},{type:a,value:ga},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:gb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"setUser"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:gc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:dV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:f_},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gd}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:"Password"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:f$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:"input\n        name"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gd}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"password\""}]},{type:a,value:ga},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:fZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:gb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"setPass"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:gc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:dV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:fW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:fU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Simulate a login request"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ct}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:ge}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:ge}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:gf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" reject"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"setTimeout"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"pass "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Return a fake user token"}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:gf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"c6041ffc-5e13-4f6d-bb33-bf9d3ae20262\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cu}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"reject"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"Error"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"invalid password\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:"1000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:di}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cd}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:dj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" setLoading"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" setUserToken"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,gh]},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,gi,S]},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" setError"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,gh]},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,gi,S]},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:cf}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:bI}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F If we don't reset them here, we might have inconsistencies"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F after multiple logins"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ct}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:gj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:gk}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:ch}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:dX},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dY}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:dZ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:d_},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:d$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:gl},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:ea},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:a,value:gm},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:eb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:ec},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:a,value:ed},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ee}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:ef},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:fL},children:[{type:b,tag:p,props:{href:"#the-problem",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:fM}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The example proposed above works as expected, but it's not very maintainable. The main problem lies in the fact that the different app-state fields (loading, error, userToken) are stored and updated independently."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Suppose at some point, a coworker not particularly familiar with this area of the codebase changes the "},{type:b,tag:l,props:{},children:[{type:a,value:bI}]},{type:a,value:" logic to fit some new requirements. As part of the process, they mistakenly forget to reset the error state with "},{type:b,tag:l,props:{},children:[{type:a,value:gn}]},{type:a,value:t}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[bT,K]},children:[{type:b,tag:l,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:bI}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F The coworker deletes the following line"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F setError(undefined);  \u003C- this one gets deleted"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ct}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:gj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:gk}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The coworker now attempts to log in and it works as expected:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Login seems to work as expected",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_2.gif"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The happy coworker then proceeds to create PR and, with a non-zero probability, the PR gets approved and goes into staging\u002Fproduction."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Happy ending, right? Not exactly. The application can now enter an "},{type:b,tag:T,props:{},children:[{type:a,value:"inconsistent state"}]},{type:a,value:" when a user gets the first login wrong and the second one correct:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Login inconsistent state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_3.gif"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:go},{type:b,tag:P,props:{},children:[{type:a,value:"the error message is still being shown after a successful login attempt"}]},{type:a,value:".\nThis is happening because the "},{type:b,tag:l,props:{},children:[{type:a,value:gn}]},{type:a,value:" call has been removed, and as a result, the error message is not being reset when performing a new login attempt."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"It might be easy to blame the coworker for such an oversight, but actually, the problem lies in the way the application state was originally structured. By having the "},{type:b,tag:l,props:{},children:[{type:a,value:bh}]},{type:a,value:dn},{type:b,tag:l,props:{},children:[{type:a,value:dj}]},{type:a,value:aU},{type:b,tag:l,props:{},children:[{type:a,value:bH}]},{type:a,value:" states being updated independently, we made it easier to get into an inconsistent state."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Remember, "},{type:b,tag:P,props:{},children:[{type:a,value:"the best systems are the ones that make it harder to do wrong things."}]},{type:a,value:" In the following sections, we're going to analyze a design that could have prevented such mistakes."}]},{type:a,value:f},{type:b,tag:bS,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In the previous example, I chose an hypothetical coworker as the person doing the mistake. I'm definitely not implying that only coworkers make mistakes, everyone does. I do plenty of mistakes on a daily basis :)"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:$,props:{id:fN},children:[{type:b,tag:p,props:{href:"#a-better-approach-but-still-not-optimal",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:fO}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I hear some of you screaming: \""},{type:b,tag:T,props:{},children:[{type:a,value:"You should have used useReducer\u002FRedux\u002FZustand\u002F{random pokemon name} instead of those multiple useState!"}]},{type:a,value:ci}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Indeed, in real-world scenarios, you would have likely used a more structured approach to handle the app state, but "},{type:b,tag:P,props:{},children:[{type:a,value:"that doesn't necessarily solve the problem of invalid states"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For example, let's refactor the "},{type:b,tag:l,props:{},children:[{type:a,value:cd}]},{type:a,value:" code to use React's "},{type:b,tag:p,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#usereducer",rel:[x,y,z],target:A},children:[{type:a,value:cP}]},{type:a,value:" instead of multiple "},{type:b,tag:l,props:{},children:[{type:a,value:bg}]},{type:a,value:t}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[bT,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F This is the app state"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:do0}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:cf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:dr},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F The various actions we can use to update that state"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:dr},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gr}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:cf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gs}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cx}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gt}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:gu},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:gv},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:gw},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:gx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:gy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:gz},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:C}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:gB},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:gC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:eg},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:gD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cx}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:di}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cd}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:gE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:bI}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ct}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:gF},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:gG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:ch}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:dX},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dY}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:dZ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:d_},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:d$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:gl},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:ea},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:gm},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:eb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:ec},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:a,value:ed},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ee}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:ef},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This version improves our example on multiple fronts:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"The handlers ("},{type:b,tag:l,props:{},children:[{type:a,value:bI}]},{type:a,value:aU},{type:b,tag:l,props:{},children:[{type:a,value:ch}]},{type:a,value:") don't need to know about the internal state representation anymore, but can simply dispatch actions in a "},{type:b,tag:T,props:{},children:[{type:a,value:"declarative"}]},{type:a,value:" way."}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"It's harder to forget updating a slice of the state, as they are handled in a central place (the "},{type:b,tag:l,props:{},children:[{type:a,value:cQ}]},{type:a,value:" function) instead of being scattered around handlers."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"That said, despite making it harder to make the state inconsistent, it's still possible to do so."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let's say that our product manager requests to implement a \"failed attempts\" counter. In a rush, we modify the "},{type:b,tag:l,props:{},children:[{type:a,value:eh}]},{type:a,value:" case of the reducer to be based on the previous state:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[bT,K]},children:[{type:b,tag:l,props:{},children:[{type:a,value:gH},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bw}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:eg},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"\n        failedAttempts"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:" state"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"failedAttempts "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:gI}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As a result, the \"Loading...\" label is still shown after a failed login attempt:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Inconsistent state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Finvalid-state.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Of course, this is another silly oversight that would have been easy to spot. We forgot to set "},{type:b,tag:l,props:{},children:[{type:a,value:gJ}]},{type:a,value:", and instead took the previous state value ("},{type:b,tag:l,props:{},children:[{type:a,value:C}]},{type:a,value:") using the spread operator "},{type:b,tag:l,props:{},children:[{type:a,value:"...state"}]},{type:a,value:". Unfortunately, in real-world systems it's easy to make such mistakes when the state is made of many fields, and such oversights might not be as easy to spot."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Luckily, we can take this solution a step further. What if we let the compiler spot such mistakes? The answer is "},{type:b,tag:P,props:{},children:[{type:a,value:"making invalid states unrepresentable"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:$,props:{id:fP},children:[{type:b,tag:p,props:{href:"#making-invalid-states-unrepresentable",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:dS}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let's start from the previous state representation:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[bT,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:do0}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:cf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:dr},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The first question we should be asking ourselves is: "},{type:b,tag:T,props:{},children:[{type:a,value:"what are the possible states of this system?"}]},{type:a,value:" There is no single best answer, but a possible representation could be:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Idle"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Login pending"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Login success"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Login failure"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:bS,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If the "},{type:b,tag:l,props:{},children:[{type:a,value:"idle"}]},{type:a,value:" state doesn't make sense to you, keep in mind we are trying to model "},{type:b,tag:T,props:{},children:[{type:a,value:"all"}]},{type:a,value:" the possible states of this system. Idle represents the state of the system before the user makes a login attempt."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Then, we can think about which "},{type:b,tag:T,props:{},children:[{type:a,value:"fields and values"}]},{type:a,value:" those states can have:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Idle\n"},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:ei}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Login pending\n"},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"loading = true"}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Login success\n"},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:ei}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"userToken = string"}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Login failure\n"},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:ei}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"error = Error\u002Funknown\u002Fwhatever is relevant"}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"At this point, we can translate these states into code using Typescript's "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.typescriptlang.org\u002Fdocs\u002Fhandbook\u002Ftypescript-in-5-minutes-func.html#discriminated-unions",rel:[x,y,z],target:A},children:[{type:a,value:"Discriminated unions"}]},{type:a,value:" (also known as "},{type:b,tag:T,props:{},children:[{type:a,value:"Algebraic Data Types"}]},{type:a,value:"):"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[bT,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:do0}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ej}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:gK},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:gL},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:cf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Note how for each state, we are explicitly specifying which fields are present and, for some of them, even their value. Discriminated unions give us two superpowers:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"We don't need to add optional fields everywhere, nor do we need to check for undefined values. If a state has "},{type:b,tag:l,props:{},children:[{type:a,value:"type = \"success\""}]},{type:a,value:" then Typescript "},{type:b,tag:T,props:{},children:[{type:a,value:"guarantees"}]},{type:a,value:" that the "},{type:b,tag:l,props:{},children:[{type:a,value:bH}]},{type:a,value:" field will be available. In the same way, we won't be able to access the "},{type:b,tag:l,props:{},children:[{type:a,value:bH}]},{type:a,value:" if the state is "},{type:b,tag:l,props:{},children:[{type:a,value:eh}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[bT,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F This compiles correctly"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:dt},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:gM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:gN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F This doesn't (and it's good!)"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:dt},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:gM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:gN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"We won't be able to set inconsistent states in the reducer"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Updating our previous example with the new approach, we get:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[bT,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:do0}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ej}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:C}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:gK},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:gL},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:cf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ej}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:dr},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gr}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:cf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gs}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cx}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:aR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:gt}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:gu},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:gv},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:gw},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:az}]},{type:a,value:gx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:gy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:gz},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:gA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:C}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:gB},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:gC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bw}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:eg},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:gD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cx}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:di}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cd}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:gE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:bI}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ct}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:gF},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:gG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:ch}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:dX},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dY}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:dZ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:cg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:d_},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:d$},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bw}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:dt},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:ea},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:dt},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:br}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:eb},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:ec},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:a,value:ed},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ee}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:dg},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:ef},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ao}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"At this point, Typescript will make sure that the state is always in a consistent state. For example, the previous mistake (forgetting "},{type:b,tag:l,props:{},children:[{type:a,value:gJ}]},{type:a,value:gO},{type:b,tag:l,props:{},children:[{type:a,value:eh}]},{type:a,value:" case due to the spread operator) won't compile:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Typescript fails to compile an invalid state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Ftypescript1.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We made "},{type:b,tag:T,props:{},children:[{type:a,value:"invalid states unrepresentable"}]},{type:a,value:" 😎"}]},{type:a,value:f},{type:b,tag:bS,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Note: You might be wondering why we added the "},{type:b,tag:l,props:{},children:[{type:a,value:dj}]},{type:a,value:" field to all states. The reason is that I thought it would make the example easier to understand. But in this simple scenario, we could drop the "},{type:b,tag:l,props:{},children:[{type:a,value:dj}]},{type:a,value:" field entirely and only show the loading message when the state is pending ("},{type:b,tag:l,props:{},children:[{type:a,value:"state.type === 'pending'"}]},{type:a,value:gP}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:$,props:{id:fQ},children:[{type:b,tag:p,props:{href:"#final-thoughts",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:fR}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"All right! We started from a problematic example and gradually improved the way our state is represented, making the app more robust along the way."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"It's important to consider these techniques as an additional tool you have at your disposal rather than absolute truths. There might be cases where these techniques are impractical for several reasons. As always, use the right tool for the job!"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you're interested, you can find the complete code for our final solution in "},{type:b,tag:p,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Freactinvalidstatesunrepresentable-good-9l8pym?file=\u002Fsrc\u002FApp.tsx",rel:[x,y,z],target:A},children:[{type:a,value:"this Codesandbox"}]},{type:a,value:s}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:dR}]}]},dir:aV,path:"\u002Farticles\u002F2022-05-02-building-robust-applications-by-making-invalid-states-unrepresentable",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"building-robust-applications-by-making-invalid-states-unrepresentable"},{slug:"2022-02-04-optimizing-list-in-react-solving-performance-problems-and-anti-patterns",description:ek,layout:aS,title:"Optimizing Lists in React - Solving Performance Problems and Anti-patterns",author:aT,date:"2022-02-04T00:00:00.000Z",categories:"react list performance optimizations patterns anti-patterns",social_title:"Optimizing Lists in React",social_subtitle:"Solving Performance Problems and Anti-patterns",toc:[{id:gQ,depth:_,text:gR},{id:gS,depth:_,text:gT},{id:gU,depth:_,text:gV},{id:gW,depth:_,text:gX}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:ek}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"It’s easy to write inefficient code in React, with useless re-renders being the common enemy. Usually, you start from a simple application and gradually build features on top of it. At first, the application is small enough to make the inefficiencies unnoticeable, but as the complexity grows, so does the component hierarchy, and thus, the number of re-renders. Then, once the application speed becomes unbearable (according to your standards), you start profiling and optimizing the problematic areas."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this article, we are going to discuss the optimization process for lists, which are notorious sources of performance problems in React. Most of these techniques apply to both React and React Native applications."}]},{type:a,value:f},{type:b,tag:at,props:{id:"starting-from-a-problematic-example"},children:[{type:b,tag:p,props:{href:"#starting-from-a-problematic-example",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Starting from a problematic example"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We’ll start from a problematic example and gradually discuss the process of identifying and solving the different issues."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Problematic List example",src:"\u002Fposts\u002Freact-list\u002Freact_list_example.gif"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The proposed example is a simple list of selectable items, with a few performance problems. Clicking on an item toggles the selection status, but the operation is visibly laggy. Our goal is to make the selection feel snappy. You can find the complete code as follows (a "},{type:b,tag:p,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Fcommonreactlistmistakes-9f3ex",rel:[x,y,z],target:A},children:[{type:a,value:"Codesandbox"}]},{type:a,value:" is also available)."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m,cA]},children:[{type:a,value:ba}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,gY]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:fV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,cA]},children:[{type:a,value:ce}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Create mock data with elements containing increasing items"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:" data "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"Array"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:gZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:"fill"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:"_"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:el}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:du},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:gI}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:g_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,dv,aj]},children:[{type:a,value:cs}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:" n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,dv,aj]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"template-string"]},children:[{type:b,tag:c,props:{className:[d,g$,u]},children:[{type:a,value:ha}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"Item "}]},{type:b,tag:c,props:{className:[d,"interpolation"]},children:[{type:b,tag:c,props:{className:[d,hb,e]},children:[{type:a,value:"${"}]},{type:a,value:g_},{type:b,tag:c,props:{className:[d,hb,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,g$,u]},children:[{type:a,value:ha}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m,cA]},children:[{type:a,value:di}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,cA]},children:[{type:a,value:cL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:cd}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F An array containing the selected items"}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:hc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Select or unselect the given item"}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:aB}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:bx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,dw,h]},children:[{type:a,value:bw}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:cu}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:dx}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:dy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:dz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cS}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:D}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:"className"}]},{type:b,tag:c,props:{className:[d,em]},children:[{type:b,tag:c,props:{className:[d,e,en]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ci}]},{type:a,value:cd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ci}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:"List Example"}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:ck}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:bY}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:ck}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:eo},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:aM}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:aM}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:hd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:he},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:hf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:hg}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:hh}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:hi}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ep}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:O}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:hj}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:hk},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,dv,aj]},children:[{type:a,value:hl}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:hm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,hn]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F This is an example of an expensive JS operation that we might"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F execute in the render function to simulate a load."}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F In real-world applications, this operation could be either a custom"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F JS elaboration or just a complex render"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:a,value:ep}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Here we use selected just because we want to simulate"}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F an operation that depends on the props"}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" total "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:" selected "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:bF}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:du},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:du},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:"200000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:el},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"++"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n    total "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ho}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"known-class-name",S]},children:[{type:a,value:"Math"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:"random"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:" total"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z}]}]}]},{type:a,value:f},{type:b,tag:bS,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you want to practice, feel free to pause reading and try to spot the problems yourself first"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let’s dive into the analysis."}]},{type:a,value:f},{type:b,tag:at,props:{id:"missing-key-prop"},children:[{type:b,tag:p,props:{href:"#missing-key-prop",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Missing key prop"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The first thing we can notice from the console is that we are not passing the "},{type:b,tag:l,props:{},children:[{type:a,value:ax}]},{type:a,value:" prop when rendering the list items."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Missing key prop warning",src:"\u002Fposts\u002Freact-list\u002Fmissing_key_prop.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"which is caused by this code:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:aM}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you might already know, the "},{type:b,tag:l,props:{},children:[{type:a,value:ax}]},{type:a,value:" prop is critical for dynamic lists to work correctly in React, as it helps the framework identify which items have changed, are added, or are removed."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"A common beginners’ anti-pattern is to solve the problem by passing the item’s index:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" index"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:aM}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"index"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Despite working for simple use-cases, this approach leads to multiple unexpected behaviors when the list is dynamic, with items being added or removed. For example, if you delete an item in the middle of a list at index N, then all list items located at positions N+1 will now have a different key. That causes React to “confuse” which mapped component belongs to which items. If you want to know more about the potential pitfalls of using the index as key, "},{type:b,tag:p,props:{href:"https:\u002F\u002Frobinpokorny.medium.com\u002Findex-as-a-key-is-an-anti-pattern-e0349aece318",rel:[x,y,z],target:A},children:[{type:a,value:"this article"}]},{type:a,value:" is a great resource."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Therefore, you should specify a key prop with something that uniquely identifies the item being rendered. If the data you’re receiving is coming from a backend, you might be able to use the database’s unique id as key. Otherwise, you could generate a client-side random id with "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fnanoid",rel:[x,y,z],target:A},children:[{type:a,value:"nanoid"}]},{type:a,value:" when creating the items."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Luckily, each of our own items has it’s own id property, so we should handle it as follows:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:aM}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:cs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Adding the key solves the previous warning, but we still have a significant lag when selecting an item. It’s time to go serious and open the profiler."}]},{type:a,value:f},{type:b,tag:at,props:{id:"profiling-the-list"},children:[{type:b,tag:p,props:{href:"#profiling-the-list",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Profiling the list"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Now that we solved the "},{type:b,tag:l,props:{},children:[{type:a,value:ax}]},{type:a,value:" warning, we are ready to tackle the performance problem. At this stage, using a profiler can help to track down the slow areas and therefore guide our optimization, so that’s what we are going to do."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"When working with React, there are two main profilers you can use: the browser’s built-in profiler, such as the one available inside Chrome’s Dev Tools, and the profiler provided by the React DevTools extension. Both of them are useful in different scenarios. From my experience, the React DevTools’ profiler is a good starting point, as it gives you a component-aware performance representation, which is helpful to track down the specific components that are causing problems, whereas the browser’s profiler works at a lower level and it’s mostly helpful in those cases where the performance problems are not directly related to a component, for example, due to a slow method or Redux reducer."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For this reason, we are going to start with the React DevTools’ profiler, so make sure to have the extension installed. Then, you can access the Profiler tool from Chrome’s dev tools \u003E Profiler. Before starting, we are going to set up two settings that will help us in the optimization process:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"In Chrome’s Performance tab, set CPU throttling to x6. That will simulate a slower CPU, making slowdowns much more evident."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"CPU throttling",src:"\u002Fposts\u002Freact-list\u002Fprofiler_cpu_throttle.png"},children:[]}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"In React DevTools Profiler tab, click on the Gear icon \u003E Profiler \u003E “Record why each component rendered while profiling”. This will help us track down the causes for useless re-renders."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"React profiler settings",src:"\u002Fposts\u002Freact-list\u002Freact_profile_settings.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Once the configuration is done, we are ready to profile our sample todo app. Go ahead and click on the Record button, then select some items in the list and, finally, hit stop recording. This is the result we obtain after selecting 3 items:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"React profiler results",src:"\u002Fposts\u002Freact-list\u002Freact_app_profiler_result.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"On the top right side, you see highlighted in red the commits, which, in short, are the renders that caused the DOM to update. As you can see, the current commit took 2671 milliseconds to render. By hovering on the various elements, we can tell that most of the time is spent rendering the list items, with an average of 26 milliseconds per item."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Spending 26 milliseconds rendering a single item is not inherently bad. As long as the entire operation takes less than 100ms, the action would still be perceived as snappy by the user. Our biggest problem is that selecting a single item causes all the items to be re-rendered, and that’s what we are going to tackle in the next section."}]},{type:a,value:f},{type:b,tag:bS,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"A question we should ask ourselves at this point is: what’s the expected number of items to re-render after an action? In this particular case, the answer is one, as the result of a click is a new item being selected, with none of the others being affected. Another scenario might be a single-selection list, where at most one item could be selected at any given time. In that case, clicking on an item should cause the re-render of two items, as we need to render both the selected one and the one being unselected."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:at,props:{id:"preventing-re-renders-with-reactmemo"},children:[{type:b,tag:p,props:{href:"#preventing-re-renders-with-reactmemo",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Preventing re-renders with React.memo"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In the previous section, we discussed how selecting a single item causes the entire list to be re-rendered.\nIdeally, we would like to re-render only the items whose \"looks\" are affected by the new selection.\nWe can do that using the "},{type:b,tag:p,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Freact-api.html#reactmemo",rel:[x,y,z],target:A},children:[{type:a,value:bD}]},{type:a,value:" higher-order component."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In a nutshell, "},{type:b,tag:l,props:{},children:[{type:a,value:bD}]},{type:a,value:" compares the new props with the old ones and, if they are equal, it reuses the previous render.\nOtherwise, if the props are different, it re-renders the component.\nIt's important to note that React executes a "},{type:b,tag:P,props:{},children:[{type:a,value:hp}]},{type:a,value:" of the props, which must be taken\ninto account when passing objects and methods as props.\nYou can also override the comparison function, though I would advise against it, as it makes\nthe code less maintainable (more on this later)."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Now that we know the basics of "},{type:b,tag:l,props:{},children:[{type:a,value:bD}]},{type:a,value:", let's create another component by wrapping the "},{type:b,tag:l,props:{},children:[{type:a,value:aM}]},{type:a,value:" with it:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m,cA]},children:[{type:a,value:ba}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,gY]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:" memo "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,cA]},children:[{type:a,value:ce}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:bO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We can now use "},{type:b,tag:l,props:{},children:[{type:a,value:bO}]},{type:a,value:" instead of "},{type:b,tag:l,props:{},children:[{type:a,value:aM}]},{type:a,value:" in the list:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bO}]}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:cs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Nice! We now have memoized the "},{type:b,tag:l,props:{},children:[{type:a,value:aM}]},{type:a,value:". If you go ahead and try the application, you'll notice something is wrong...\nThe application is still slow!"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If we open up the profiler as we previously did and record a selection, we should be presented with something like the following:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"React profiler after memoizing",src:"\u002Fposts\u002Freact-list\u002Freact_app_memoized_profiler.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:go},{type:b,tag:P,props:{},children:[{type:a,value:"we are still re-rendering all the items"}]},{type:a,value:"! Why is it happening?\nIf you hover on one of the list items, you'll see the \"Why did this render?\" section. In our case, it says "},{type:b,tag:l,props:{},children:[{type:a,value:"Props changed: (onClick)"}]},{type:a,value:",\nwhich means our items are re-rendering due to the "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" callback we are passing to each item."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As we previously discussed, "},{type:b,tag:l,props:{},children:[{type:a,value:bD}]},{type:a,value:" does a "},{type:b,tag:T,props:{},children:[{type:a,value:hp}]},{type:a,value:" of the props by default.\nWhich basically means calling the strick equality operator "},{type:b,tag:l,props:{},children:[{type:a,value:bc}]},{type:a,value:" over each prop. In our case, the check would\nbe roughly equivalent to:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cm]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"arePropsEqual"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:eq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:" prevProps"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:hq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:hq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:aw}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:aw}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"While "},{type:b,tag:l,props:{},children:[{type:a,value:ai}]},{type:a,value:aU},{type:b,tag:l,props:{},children:[{type:a,value:as}]},{type:a,value:" are compared by "},{type:b,tag:T,props:{},children:[{type:a,value:dV}]},{type:a,value:" (because they are primitive types, string and boolean respectively), "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" is compared\nby "},{type:b,tag:T,props:{},children:[{type:a,value:"reference"}]},{type:a,value:" (being a function).\nWhen we created the list items, we passed the "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" callback as an anonymous closure:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:a,value:aw},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Every time the list re-renders, "},{type:b,tag:P,props:{},children:[{type:a,value:"each item receives a new callback function"}]},{type:a,value:".\nFrom an equality perspective, the callback "},{type:b,tag:T,props:{},children:[{type:a,value:"has changed"}]},{type:a,value:", and therefore the "},{type:b,tag:l,props:{},children:[{type:a,value:bO}]},{type:a,value:" is re-rendered."}]},{type:a,value:f},{type:b,tag:bS,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If the equality aspect is still unclear to you, go ahead and open the JS console inside your browser.\nIf you type "},{type:b,tag:l,props:{},children:[{type:a,value:"true === true"}]},{type:a,value:", you'll notice that the result is "},{type:b,tag:l,props:{},children:[{type:a,value:C}]},{type:a,value:".\nBut if you type "},{type:b,tag:l,props:{},children:[{type:a,value:"(() =\u003E {}) === (() =\u003E {})"}]},{type:a,value:", you'll get "},{type:b,tag:l,props:{},children:[{type:a,value:aK}]},{type:a,value:" as result.\nThat's because two functions are equal only if they share the same identity, and\nevery time we create a new closure we generate a new identity."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Therefore, we need a way to keep the identity of the "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" callback stable to prevent useless re-renders,\nand that's what we are going to discuss in the next sections."}]},{type:a,value:f},{type:b,tag:$,props:{id:gQ},children:[{type:b,tag:p,props:{href:"#a-common-anti-pattern",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:gR}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Before discussing the proposed solution, let's analyze a common (anti-)pattern being used in these cases.\nGiven that the "},{type:b,tag:l,props:{},children:[{type:a,value:bD}]},{type:a,value:" method accepts a custom comparator, you might be tempted to provide one that\nartifically "},{type:b,tag:T,props:{},children:[{type:a,value:"excludes"}]},{type:a,value:g},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" from the check. Something like the following:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:bO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:eq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:as}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F The onClick prop is not compared"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this case, even with a changing "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" callback, the list items won't be re-rendered unless "},{type:b,tag:l,props:{},children:[{type:a,value:ai}]},{type:a,value:cn},{type:b,tag:l,props:{},children:[{type:a,value:as}]},{type:a,value:" are updated.\nIf you go ahead and try this approach, you'll notice the list feels snappy now, but something is wrong:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"React list custom comparator",src:"\u002Fposts\u002Freact-list\u002Freact_list_example_custom_comparator.gif"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can see, selecting multiple items doesn't work as expected now, with items being randomly selected and unselected.\nThis is happening because the "},{type:b,tag:P,props:{},children:[{type:b,tag:l,props:{},children:[{type:a,value:aB}]},{type:a,value:" function is not pure"}]},{type:a,value:", as it depends on the previous value of the "},{type:b,tag:l,props:{},children:[{type:a,value:as}]},{type:a,value:" items.\nIf you exclude the "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" callback check from the "},{type:b,tag:l,props:{},children:[{type:a,value:bD}]},{type:a,value:" comparator, then your components might receive an outdated (stale)\nversion of the callback, causing all those glitches."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this particular case, the way the "},{type:b,tag:l,props:{},children:[{type:a,value:aB}]},{type:a,value:" is implemented is not optimal and we can easily convert it to a pure function\n(in fact, we are going to do that in the next section). But my point here is: "},{type:b,tag:P,props:{},children:[{type:a,value:"by excluding the "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" callback from the "},{type:b,tag:l,props:{},children:[{type:a,value:dB}]},{type:a,value:"\ncomparator, you're exposing the application to subtle staleness bugs"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Some might argue that as long as the "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" callback is kept "},{type:b,tag:T,props:{},children:[{type:a,value:"pure"}]},{type:a,value:", then this approach is perfectly acceptable.\nPersonally, I consider this an anti-pattern for two reasons:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"In complex codebases is relatively easy to transform a pure function into a non-pure one by mistake."}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"By writing a custom comparator,  you're creating an additional maintenance burden. What if the "},{type:b,tag:l,props:{},children:[{type:a,value:aM}]},{type:a,value:" needs to accept another "},{type:b,tag:l,props:{},children:[{type:a,value:er}]},{type:a,value:" parameter in the future?"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Then, you'll need to refactor to the comparator, as shown below. If you forget to add it (which is relatively easy in complex codebases with multiple contributors), then you are again exposing your component to staleness bugs."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:bO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:eq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bp}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:er}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bc}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:er}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If a custom comparator is not advisable, what should we do to solve this problem then?"}]},{type:a,value:f},{type:b,tag:at,props:{id:"making-callback-identities-stable"},children:[{type:b,tag:p,props:{href:"#making-callback-identities-stable",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Making callback identities stable"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Our goal is to use the \"base\" version of "},{type:b,tag:l,props:{},children:[{type:a,value:bD}]},{type:a,value:" without a custom comparator.\nChoosing this path will both improve the maintainability of the component and its robustness against future changes.\nFor the memoization to work correctly though, we'll need to "},{type:b,tag:P,props:{},children:[{type:a,value:"refactor the callback to keep its identity stable"}]},{type:a,value:", otherwise\nthe equality check performed by "},{type:b,tag:l,props:{},children:[{type:a,value:bD}]},{type:a,value:" will prevent the memoization."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The traditional way to keep function identities stable in React is to use the "},{type:b,tag:l,props:{},children:[{type:a,value:aX}]},{type:a,value:" hook.\nThe hook accepts a function and a dependency array, and as long as the dependencies won't change, neither will the identity of the callback.\nLet's refactor our example to use "},{type:b,tag:l,props:{},children:[{type:a,value:aX}]},{type:a,value:t}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Our first attempt is to move the anonymous closure "},{type:b,tag:l,props:{},children:[{type:a,value:"() =\u003E toggleItem(item)"}]},{type:a,value:" inside a separate method inside "},{type:b,tag:l,props:{},children:[{type:a,value:aX}]},{type:a,value:t}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:ck}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:eo},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:dC},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:es}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:es}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:es}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F How do we get the item?"}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bO}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:cs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:co},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We are now facing a problem: previously, the anonymous closure captured the current "},{type:b,tag:l,props:{},children:[{type:a,value:V}]},{type:a,value:gO},{type:b,tag:l,props:{},children:[{type:a,value:".map"}]},{type:a,value:" iteration and then passed it to the "},{type:b,tag:l,props:{},children:[{type:a,value:aB}]},{type:a,value:"\nfunction as an argument. But now, we are not declaring the "},{type:b,tag:l,props:{},children:[{type:a,value:co}]},{type:a,value:" handler inside the iteration, so how can we access the \"selected item\" in the callback?\nLet's discuss a possible solution:"}]},{type:a,value:f},{type:b,tag:$,props:{id:gS},children:[{type:b,tag:p,props:{href:"#refactoring-the-listitem-component",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:gT}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Currently, the "},{type:b,tag:l,props:{},children:[{type:a,value:aM}]},{type:a,value:dD},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" callback doesn't provide any information about the item being selected.\nIf it did, we would be able to easily solve this problem, so let's refactor the "},{type:b,tag:l,props:{},children:[{type:a,value:aM}]},{type:a,value:aU},{type:b,tag:l,props:{},children:[{type:a,value:ck}]},{type:a,value:" components to provide this information."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Firstly, we change the "},{type:b,tag:l,props:{},children:[{type:a,value:aM}]},{type:a,value:" component to accept the full "},{type:b,tag:l,props:{},children:[{type:a,value:V}]},{type:a,value:" object, and given that the "},{type:b,tag:l,props:{},children:[{type:a,value:ai}]},{type:a,value:" prop is now redundant we remove it.\nThen, we introduce an handler for the "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" event to also provide the "},{type:b,tag:l,props:{},children:[{type:a,value:V}]},{type:a,value:" as argument. This is our end result:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:aM}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:he},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:hf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:hg}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:hh}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:hi}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ep}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:O}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:hj}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:hk},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:bA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,dv,aj]},children:[{type:a,value:hl}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:hm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,hn]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:O}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can see, the "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" now provides the current item as a parameter."}]},{type:a,value:f},{type:b,tag:bS,props:{},children:[{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"But wait! You used an anonymous closure again in the "},{type:b,tag:l,props:{},children:[{type:a,value:O}]},{type:a,value:dD},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" handler, shouldn't we avoid them to prevent re-renderings?\nWhile we "},{type:b,tag:T,props:{},children:[{type:a,value:"could"}]},{type:a,value:" create another memoized callback with "},{type:b,tag:l,props:{},children:[{type:a,value:aX}]},{type:a,value:" inside the "},{type:b,tag:l,props:{},children:[{type:a,value:aM}]},{type:a,value:" component to handle the click event, that would offer no performance improvements in this case.\nThe problem with the anonymous closure we discussed earlier in the "},{type:b,tag:l,props:{},children:[{type:a,value:ck}]},{type:a,value:" item was that it broke the "},{type:b,tag:l,props:{},children:[{type:a,value:bD}]},{type:a,value:" memoization for the "},{type:b,tag:l,props:{},children:[{type:a,value:bO}]},{type:a,value:". Given that we are "},{type:b,tag:T,props:{},children:[{type:a,value:et}]},{type:a,value:" memoizing the "},{type:b,tag:l,props:{},children:[{type:a,value:O}]},{type:a,value:" element, then there is no performance benefit from having a stable identity for this callback."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We can then refactor the "},{type:b,tag:l,props:{},children:[{type:a,value:ck}]},{type:a,value:" component to pass the "},{type:b,tag:l,props:{},children:[{type:a,value:V}]},{type:a,value:" prop instead of "},{type:b,tag:l,props:{},children:[{type:a,value:ai}]},{type:a,value:" and to make use of the newly available "},{type:b,tag:l,props:{},children:[{type:a,value:V}]},{type:a,value:" information in the "},{type:b,tag:l,props:{},children:[{type:a,value:co}]},{type:a,value:" callback:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bl]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aQ,r]},children:[{type:b,tag:c,props:{className:[d,bm]},children:[{type:a,value:ck}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:eo},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:dC},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F We now receive the selected item"}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bO}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,W]},children:[{type:a,value:cs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F We pass the full item instead of the name"}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,ak,al]},children:[{type:b,tag:c,props:{className:[d,am,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:co},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,aZ]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Nice! Let's go ahead and try the refactored version:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"React list example, after changes",src:"\u002Fposts\u002Freact-list\u002Freact_list_example_2.gif"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"It works... but it's still slow! If we open up the profiler, we can see the whole list is still being rendered:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Profiler results after changes",src:"\u002Fposts\u002Freact-list\u002Freact_list_perf.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can see from the profiler, the "},{type:b,tag:l,props:{},children:[{type:a,value:aw}]},{type:a,value:" identity is still changing! That means our "},{type:b,tag:l,props:{},children:[{type:a,value:co}]},{type:a,value:" identity is being changed at every re-render."}]},{type:a,value:f},{type:b,tag:$,props:{id:gU},children:[{type:b,tag:p,props:{href:"#another-common-anti-pattern",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:gV}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Before diving into the proper solution, let's discuss a common anti-pattern used in these cases.\nGiven that the "},{type:b,tag:l,props:{},children:[{type:a,value:aX}]},{type:a,value:" accepts a dependency array, you could be tempted to specify an empty one to keep the identity fixed:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cm]},children:[{type:b,tag:l,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:dC},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Despite keeping the identity stable, "},{type:b,tag:P,props:{},children:[{type:a,value:"this approach suffers from the same staleness bugs we discussed in previous sections"}]},{type:a,value:".\nIf we run it, you'll notice the items get unselected as it happened when we specified the custom comparator:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"React list example with bugs",src:"\u002Fposts\u002Freact-list\u002Freact_list_example_3.gif"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In general, you should always specify the correct dependencies in "},{type:b,tag:l,props:{},children:[{type:a,value:aX}]},{type:a,value:dn},{type:b,tag:l,props:{},children:[{type:a,value:"useEffect"}]},{type:a,value:aU},{type:b,tag:l,props:{},children:[{type:a,value:hr}]},{type:a,value:", otherwise, you're\nexposing the application to potentially hard-to-debug staleness bugs."}]},{type:a,value:f},{type:b,tag:at,props:{id:"solving-the-toggleitem-identity-problem"},children:[{type:b,tag:p,props:{href:"#solving-the-toggleitem-identity-problem",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Solving the toggleItem identity problem"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As we previously discussed, the problem with our "},{type:b,tag:l,props:{},children:[{type:a,value:co}]},{type:a,value:" callback is that its "},{type:b,tag:l,props:{},children:[{type:a,value:aB}]},{type:a,value:" dependency identity changes at each render, causing it to re-render as well:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cm]},children:[{type:b,tag:l,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:dC},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Our first attempt is to wrap "},{type:b,tag:l,props:{},children:[{type:a,value:aB}]},{type:a,value:" with "},{type:b,tag:l,props:{},children:[{type:a,value:aX}]},{type:a,value:" as we did with "},{type:b,tag:l,props:{},children:[{type:a,value:co}]},{type:a,value:t}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cm]},children:[{type:b,tag:l,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:bx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,dw,h]},children:[{type:a,value:bw}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:cu}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:dx}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:dy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:dz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cS}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This does "},{type:b,tag:T,props:{},children:[{type:a,value:et}]},{type:a,value:" solve the problem though, as this callback depends on the external state variable "},{type:b,tag:l,props:{},children:[{type:a,value:as}]},{type:a,value:", which changes every time "},{type:b,tag:l,props:{},children:[{type:a,value:bX}]},{type:a,value:" is called. If we want its identity to remain stable, we need a way to make "},{type:b,tag:l,props:{},children:[{type:a,value:aB}]},{type:a,value:" pure. Luckily, we can use "},{type:b,tag:p,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#functional-updates",rel:[x,y,z],target:A},children:[{type:b,tag:l,props:{},children:[{type:a,value:bg}]},{type:a,value:"'s functional updates"}]},{type:a,value:" to accomplish our goal:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cm]},children:[{type:b,tag:l,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:cB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:bx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:a,value:cB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,dw,h]},children:[{type:a,value:bw}]},{type:a,value:cB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:cu}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:hs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:dx}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:dy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:dz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cS}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can see, we wrapped our previous logic inside the "},{type:b,tag:l,props:{},children:[{type:a,value:bX}]},{type:a,value:" call, which in turn provides the previous state value we need to compute the new selected items."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If we go ahead and run the refactored example, it works and it's also snappy! We can also run the usual profiler to get a sense of what's happening:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Hovering on the item being rendered:\n"},{type:b,tag:X,props:{alt:"Fixed react example",src:"\u002Fposts\u002Freact-list\u002Freact_list_memo_good_2.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Hovering on the other items:\n"},{type:b,tag:X,props:{alt:"Fixed react example 2",src:"\u002Fposts\u002Freact-list\u002Freact_list_memo_good_1.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can see, after selecting an item we only render the current one being selected now, while the others are being memoized."}]},{type:a,value:f},{type:b,tag:$,props:{id:gW},children:[{type:b,tag:p,props:{href:"#a-note-on-functional-state-updates",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:gX}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In the example we just discussed, converting our "},{type:b,tag:l,props:{},children:[{type:a,value:aB}]},{type:a,value:" method to the functional mode of "},{type:b,tag:l,props:{},children:[{type:a,value:bg}]},{type:a,value:" was relatively trivial.\nIn real-world scenarios, things might not be as straightforward."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For example, your function might depend on multiple state pieces:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cm]},children:[{type:b,tag:l,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:hc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:dE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" setEnabled"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Only toggle the items if enabled"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:bx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:dE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:cB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:bx}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:aY}]},{type:a,value:cB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:bs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,dw,h]},children:[{type:a,value:bw}]},{type:a,value:cB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:cu}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,m,aE]},children:[{type:a,value:av}]},{type:a,value:hs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,ay,r,W]},children:[{type:a,value:dx}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:dy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:dz},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cS}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:dE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Every time the "},{type:b,tag:l,props:{},children:[{type:a,value:dE}]},{type:a,value:" value changes, your "},{type:b,tag:l,props:{},children:[{type:a,value:aB}]},{type:a,value:" identity will change as well.\nIn these scenarios, you should either merge both sub-states into the same "},{type:b,tag:l,props:{},children:[{type:a,value:bg}]},{type:a,value:" call, or even better, convert it to a "},{type:b,tag:p,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#additional-hooks",rel:[x,y,z],target:A},children:[{type:b,tag:l,props:{},children:[{type:a,value:cP}]}]},{type:a,value:" one.\nGiven that "},{type:b,tag:l,props:{},children:[{type:a,value:cP}]},{type:a,value:dD},{type:b,tag:l,props:{},children:[{type:a,value:bk}]},{type:a,value:" function has a stable identity, you can scale this approach to complex states.\nMoreover, the same applies to "},{type:b,tag:p,props:{href:"https:\u002F\u002Fredux.js.org\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Redux"}]},{type:a,value:dD},{type:b,tag:l,props:{},children:[{type:a,value:bk}]},{type:a,value:" function, so you can move the item toggle logic at the Redux level and convert our "},{type:b,tag:l,props:{},children:[{type:a,value:aB}]},{type:a,value:" function to something as:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cm]},children:[{type:b,tag:l,props:{},children:[{type:a,value:bi},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:" dispatch "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"useDispatch"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Given that the dispatch identity is stable, the `toggleItem` will be stable as well"}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,an]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ad,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"toggleItemAction"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:V},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bk},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:at,props:{id:"virtualizing-the-list"},children:[{type:b,tag:p,props:{href:"#virtualizing-the-list",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Virtualizing the list?"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Before closing the article, I wanted to briefly cover "},{type:b,tag:T,props:{},children:[{type:a,value:"list virtualization"}]},{type:a,value:", a common technique used to improve performance for long lists.\nIn a nutshell, list virtualization is based on the idea of rendering just a sub-set of the items in a given list (generally the currently visible ones) and deferring the others.\nFor example, if you have a list with a thousand items but only 10 are visible at any given time, then we might only render these 10 first, and the others can be rendered "},{type:b,tag:T,props:{},children:[{type:a,value:"on-demand"}]},{type:a,value:" when needed (i.e. after scrolling)."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"List virtualization offers two main advantages compared to rendering the entire list:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Faster initial start time, as we only need to render a subset of the list"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Lower memory usage, as only a subset of the items is being rendered at any given time"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"That said, list virtualization is not a silver bullet you should always use, as it increases complexity and can be glitchy.\nPersonally, I'd avoid virtualized lists if you are only dealing with hundreds of items, as the memoization techniques we discussed in this article are often effective enough  (older mobile devices might require a lower threshold). As always, the right approach depends on the specific use case, so I'd highly recommend profiling your list before diving into more complex optimization techniques."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We are going to cover virtualization in a future article. In the meanwhile, you can read more about virtualized lists in React, with libraries like "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Fbvaughn\u002Freact-window",rel:[x,y,z],target:A},children:[{type:a,value:"react-window"}]},{type:a,value:", and in React Native, with the built-in "},{type:b,tag:p,props:{href:"https:\u002F\u002Freactnative.dev\u002Fdocs\u002Fflatlist",rel:[x,y,z],target:A},children:[{type:a,value:"FlatList"}]},{type:a,value:" component."}]},{type:a,value:f},{type:b,tag:at,props:{id:aO},children:[{type:b,tag:p,props:{href:bE,ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this article, we covered list optimization in depth. We started from a problematic example and gradually solved most of the performance problems.\nWe also discussed the main anti-patterns you should be aware of, along with potential ways to solve them."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In conclusion, lists are often the cause of performance problems in React, as all items are being re-rendered every time something changes by default.\n"},{type:b,tag:l,props:{},children:[{type:a,value:bD}]},{type:a,value:" is an effective tool to mitigate the issue, but you might need to refactor your application to make your props' identities stable."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The final code is available in "},{type:b,tag:p,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Fcommonreactlistmistakes-solved-7sn20?file=\u002Fsrc\u002FApp.js",rel:[x,y,z],target:A},children:[{type:a,value:"this CodeSandbox"}]},{type:a,value:" if you're interested."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"PS: there's one small "},{type:b,tag:l,props:{},children:[{type:a,value:hr}]},{type:a,value:" optimization left to add in our example, can you spot it yourself? :)"}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:ek}]}]},dir:aV,path:"\u002Farticles\u002F2022-02-04-optimizing-list-in-react-solving-performance-problems-and-anti-patterns",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"optimizing-list-in-react-solving-performance-problems-and-anti-patterns"},{slug:"2022-01-04-12-rust-tips-and-tricks-you-might-not-know-yet",description:"Rust is a great programming language: reliable, fast, enjoyable, but also rather complex. Over the past two years, I’ve been using it both professionally and on side projects (such as Espanso) and, over that time, I stumbled upon many useful patterns and crates that I wish I knew when I first started learning it.",layout:aS,title:"12 Rust Tips and Tricks you might not know yet",author:aT,date:"2022-01-04T00:00:00.000Z",categories:"rust tips tricks tip crates useful",toc:[{id:ht,depth:_,text:hu},{id:hv,depth:_,text:hw},{id:hx,depth:_,text:hy},{id:hz,depth:_,text:hA},{id:hB,depth:_,text:hC},{id:hD,depth:_,text:hE},{id:hF,depth:_,text:hG},{id:hH,depth:_,text:hI},{id:hJ,depth:_,text:hK},{id:hL,depth:_,text:hM},{id:hN,depth:_,text:hO},{id:hP,depth:_,text:hQ}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:hR},{type:b,tag:p,props:{href:dF,rel:[x,y,z],target:A},children:[{type:a,value:bR}]},{type:a,value:hS}]},{type:a,value:f},{type:a,value:f},{type:b,tag:$,props:{id:ht},children:[{type:b,tag:p,props:{href:"#using-cowstr-as-return-type",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hu}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Sometimes you need to write methods that accept a string slice (&str) and conditionally return either a modified version of it or the original one. For these cases, you might use "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fborrow\u002Fenum.Cow.html",rel:[x,y,z],target:A},children:[{type:a,value:"Cow\u003Cstr\u003E"}]},{type:a,value:", so that you only allocate new memory when necessary."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,b_]},children:[{type:a,value:eu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:a,value:"borrow"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:cU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:ev}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cC}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:dH}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:cU}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cV}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"match"}]},{type:a,value:hd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:hT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"nth"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:hU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:hV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bx}]},{type:a,value:hW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"is_uppercase"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F No allocation is necessary, as the string"}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F already starts with an uppercase char"}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:cU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:hX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:hU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:hV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F An allocation is necessary, as the old string"}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F does not start with an uppercase char"}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" new_string"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bz}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:hW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"to_uppercase"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:hY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"chain"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:hT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"skip"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:hY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"collect"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n            \n            "},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:cU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"Owned"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"new_string"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"None"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:cU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:hX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ev}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:hZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"   "},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Allocation"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ev}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"John\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F No allocation"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:hv},children:[{type:b,tag:p,props:{href:"#crossbeam-channels-instead-of-the-standard-ones",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hw}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:dT},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Fcrossbeam-rs\u002Fcrossbeam",rel:[x,y,z],target:A},children:[{type:a,value:"crossbeam crate"}]},{type:a,value:" offers a powerful alternative to standard channels with support for the Select operation, timeouts, and more. Similar to what you get out of the box in Golang and traditional Unix sockets."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,b_]},children:[{type:a,value:"crossbeam_channel"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"select"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" unbounded"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,b_]},children:[{type:a,value:eu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:a,value:"time"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:h_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" r1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ia}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ib}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"s2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" r2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ia}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ib}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"\n    s1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"send"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:ic}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ew}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:"select!"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:id}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"r1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:dH}]},{type:a,value:ie},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"r1 \u003E {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:if0},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ew}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:id}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"r2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:dH}]},{type:a,value:ie},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"r2 \u003E {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:if0},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ew}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:h_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"from_millis"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:gZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"timed out\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:hx},children:[{type:b,tag:p,props:{href:"#golang-like-defer-operator-with-scopeguard",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hy}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you are coming from Golang, you might miss the \"defer\" operator for certain use-cases (like freeing memory when working with raw pointers or closing a socket)."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In Rust (besides the RAII pattern), you can use the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdocs.rs\u002Fscopeguard\u002Flatest\u002Fscopeguard\u002F",rel:[x,y,z],target:A},children:[{type:a,value:ig}]},{type:a,value:" crate to easily implement \"cleaup\" logic."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,ih,ae]},children:[{type:a,value:"#[macro_use(defer)]"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ii}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"crate"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"module-declaration",b_]},children:[{type:a,value:ig}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"start\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F This action will run at the end of the current scope"}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:"defer!"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n           "},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"defer\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n\n        "},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"scope end\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"end\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:ex}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F start"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F scope end"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F defer"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F end"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:hz},children:[{type:b,tag:p,props:{href:"#cargo-make-for-packaging",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hA}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fcargo\u002Freference\u002Fbuild-scripts.html",rel:[x,y,z],target:A},children:[{type:a,value:"Build scripts"}]},{type:a,value:" are great for a lot of things, but usually not for packaging. My favorite solution for that is "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Fsagiegurari\u002Fcargo-make",rel:[x,y,z],target:A},children:[{type:a,value:"Cargo Make"}]},{type:a,value:" by "},{type:b,tag:p,props:{href:"https:\u002F\u002Fsagiegurari.github.io\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"sagiegurari"}]},{type:a,value:", a Rust-based task runner and build tool."}]},{type:a,value:f},{type:b,tag:$,props:{id:hB},children:[{type:b,tag:p,props:{href:"#customize-and-chain-panic-handlers",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hC}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fpanic\u002Ffn.set_hook.html",rel:[x,y,z],target:A},children:[{type:a,value:"Panic handlers (called hooks)"}]},{type:a,value:" can be overridden and chained, which becomes particularly useful when setting up custom error reporting and logging for your application."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:dG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,b_]},children:[{type:a,value:eu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ey},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" take_hook"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:ij},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ik}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ey}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:il}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:im}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ez]},children:[{type:b,tag:c,props:{className:[d,cD,e]},children:[{type:a,value:az}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,cD,e]},children:[{type:a,value:az}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"custom logging logic {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:in0},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:io},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ip}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:iq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:ij},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ik}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ey}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:il}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:im}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ez]},children:[{type:b,tag:c,props:{className:[d,cD,e]},children:[{type:a,value:az}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,cD,e]},children:[{type:a,value:az}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"custom error reporting logic {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:in0},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:io},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ip}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:iq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:"panic!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:ex}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F custom error reporting logic panicked at 'test', src\u002Fmain.rs:20:5"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F custom logging logic panicked at 'test', src\u002Fmain.rs:20:5"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:hD},children:[{type:b,tag:p,props:{href:"#use-rust-analyzer-on-vscode",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hE}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:dT},{type:b,tag:p,props:{href:"https:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=matklad.rust-analyzer",rel:[x,y,z],target:A},children:[{type:a,value:"Rust analyzer"}]},{type:a,value:" VSCode extension by "},{type:b,tag:p,props:{href:"https:\u002F\u002Fmatklad.github.io\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"matklad"}]},{type:a,value:" is significantly better than the “official” Rust one. Unfortunately, it’s still showing as a second result on the extensions marketplace, misguiding a lot of beginners."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Rust Analyzer extension",src:"\u002Fposts\u002Frustanalyzer.png"},children:[]}]},{type:a,value:f},{type:b,tag:$,props:{id:hF},children:[{type:b,tag:p,props:{href:"#use-impl-trait-when-working-with-closures",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hG}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Prefer impl Fn\u002FFnOnce\u002FFnMut to pass a closure to a function (called impl Trait) instead of a generic when possible to keep the signature clean. For non-trivial cases, you might need to box the closure with Box\u003CFn()\u003E, but keep in mind you’ll pay an additional overhead."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Instead of this"}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:"setup_teardown_generic"}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:ir}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:is}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:ir}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:it}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:iu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Use this"}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:iv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"impl"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:is}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:it}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:iu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F As a note, this pattern is very useful inside tests"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F to create\u002Fdestroy resources."}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:iv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ez]},children:[{type:b,tag:c,props:{className:[d,cD,e]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,cD,e]},children:[{type:a,value:az}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"Action!\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:ex}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F setting up..."}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Action!"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F tearing down..."}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:hH},children:[{type:b,tag:p,props:{href:"#enable-clippy-on-save-for-vscode",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hI}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you’re using VSCode + Rust Analyzer, I highly suggest going into the settings \u003E Rust Analyzer \u003E Check On Save: Command and setting \"clippy\" as the new default instead of \"check\". Same UX, better warnings."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Enable Clippy on Save",src:"\u002Fposts\u002Fclippyonsave.png"},children:[]}]},{type:a,value:f},{type:b,tag:$,props:{id:hJ},children:[{type:b,tag:p,props:{href:"#use-thiserror-and-anyhow-for-idiomatic-error-handling",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hK}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:eA},{type:b,tag:p,props:{href:"https:\u002F\u002Fdocs.rs\u002Fthiserror\u002Flatest\u002Fthiserror\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"thiserror"}]},{type:a,value:aU},{type:b,tag:p,props:{href:"https:\u002F\u002Fcrates.io\u002Fcrates\u002Fanyhow",rel:[x,y,z],target:A},children:[{type:a,value:"anyhow"}]},{type:a,value:" crates for idiomatic error handling. You should use thiserror when the consumer needs to conditionally act based on the error, anyhow otherwise. A good guideline is “use thiserror for libraries and anyhow for applications”."}]},{type:a,value:f},{type:b,tag:$,props:{id:hL},children:[{type:b,tag:p,props:{href:"#using-dbg-macro-instead-of-println",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hM}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:eA},{type:b,tag:p,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstable\u002Fstd\u002Fmacro.dbg.html",rel:[x,y,z],target:A},children:[{type:a,value:"dbg!() macro"}]},{type:a,value:" instead of println!() when debugging. Less code, more useful information."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" var1 "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Output: 2"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:iw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"var1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:"        "},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Output: [src\u002Fmain.rs:5] var1 = 2"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:iw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"var1 "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:dJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:gH},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Output: [src\u002Fmain.rs:6] var1 * 2 = 4"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:hN},children:[{type:b,tag:p,props:{href:"#include_str-and-include_bytes-macros",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hO}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:eA},{type:b,tag:p,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fmacro.include_str.html",rel:[x,y,z],target:A},children:[{type:a,value:"include_str!()"}]},{type:a,value:aU},{type:b,tag:p,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fmacro.include_bytes.html",rel:[x,y,z],target:A},children:[{type:a,value:"include_bytes!()"}]},{type:a,value:" macros to read the content of a file at "},{type:b,tag:T,props:{},children:[{type:a,value:"compile time"}]},{type:a,value:" and store it inside a const. Useful to avoid messing with multiline string literals."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Both of these files are read at *compile time*"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,eB]},children:[{type:a,value:ix}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cC}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:"include_str!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\".\u002Fpath\u002Fto\u002Fthe\u002Ffile.txt\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ab}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,eB]},children:[{type:a,value:"BINARY_FILE_CONTENT"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"u8"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:"include_bytes!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\".\u002Fpath\u002Fto\u002Fimage.png\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,eB]},children:[{type:a,value:ix}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Output: file content as string"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:hP},children:[{type:b,tag:p,props:{href:"#integrating-with-cc-code",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:hQ}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you need to integrate C\u002FC++ code with Rust, the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fcrates.io\u002Fcrates\u002Fcc",rel:[x,y,z],target:A},children:[{type:a,value:"cc crate"}]},{type:a,value:" and the proper build script can get you pretty far. For example, I’ve used them to integrate wxWidgets, a popular C++ gui framework, with my project "},{type:b,tag:p,props:{href:dF,rel:[x,y,z],target:A},children:[{type:a,value:bR}]},{type:a,value:" (see the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\u002Fblob\u002Fmaster\u002Fespanso-modulo\u002Fbuild.rs",rel:[x,y,z],target:A},children:[{type:a,value:"build script"}]},{type:a,value:j}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Inside the build script (build.rs)"}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"cargo:rerun-if-changed=src\u002Fnative.c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"cargo:rerun-if-changed=src\u002Fnative.h\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,b_]},children:[{type:a,value:"cc"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"Build"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aN}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"include"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"src\u002Fnative.h\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"file"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"src\u002Fnative.c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"compile"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:iy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"cargo:rustc-link-lib=static=nativemodule\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Then, in another Rust file (for example, ffi.rs)"}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,ih,ae]},children:[{type:a,value:"#[link(name = "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:iy}]},{type:a,value:", kind = "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"static\""}]},{type:a,value:")]"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ii}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"C\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"pub"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:"your_cool_c_module"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Thanks for reading! If you like these topics, make sure to follow me on "},{type:b,tag:p,props:{href:cF,rel:[x,y,z],target:A},children:[{type:a,value:cG}]},{type:a,value:aU},{type:b,tag:p,props:{href:cq,rel:[x,y,z],target:A},children:[{type:a,value:"YouTube"}]},{type:a,value:" to stay updated with the latest articles and videos."}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:hR},{type:b,tag:p,props:{href:dF,rel:[x,y,z],target:A},children:[{type:a,value:bR}]},{type:a,value:hS}]}]},dir:aV,path:"\u002Farticles\u002F2022-01-04-12-rust-tips-and-tricks-you-might-not-know-yet",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"12-rust-tips-and-tricks-you-might-not-know-yet"},{slug:"2021-05-04-rust-vs-cpp-which-is-better-and-why",description:eC,layout:aS,title:"Rust vs C++, which is better and why?",author:aT,date:"2021-05-04T00:00:00.000Z",categories:"rust cpp c comparison between difference similarity pro cons advantages",toc:[{id:iz,depth:_,text:iA},{id:iB,depth:_,text:iC},{id:iD,depth:_,text:iE},{id:iF,depth:_,text:iG},{id:iH,depth:_,text:iI},{id:aO,depth:_,text:aP}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:eC}]},{type:a,value:f},{type:a,value:f},{type:b,tag:$,props:{id:iz},children:[{type:b,tag:p,props:{href:"#similarities",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iA}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Both Rust and C++ are system programming languages, which means they can be used to write low-level code like kernels and firmware for microcontrollers. But compared with C, they offer a lot of abstractions that make it possible to go high-level as well, for example, writing games and web applications."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Another similarity is that neither of them uses a garbage collector to manage memory, which makes the code much more predictable, efficient, and in many cases faster. Of course, if you ever used C, you will know that managing memory yourself is hard. Besides the cognitive overhead, you are also running the risk of causing segmentation faults and undefined behaviors."}]},{type:a,value:f},{type:b,tag:$,props:{id:iB},children:[{type:b,tag:p,props:{href:"#memory-and-thread-safety",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iC}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For this reason, modern C++ introduced concepts like smart pointers as a way to mitigate those memory-related bugs, but despite the significant improvements, they are limited in the number of guarantees they can offer. Rust takes it a step further and introduces the borrow checker, a component bundled within the compiler itself that makes sure that a reference does not outlive the data they refer to, preventing entire classes of memory unsafety bugs."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Another big selling point for Rust is its rich type system, which makes it possible to prevent data races at compile time. It does so by introducing two special traits, Sync and Send, which are used by the compiler to determine whether a multi-threaded operation is safe or not. And while sharing some memory between threads is possible in Rust, the compiler will stop you from building a program that does so unsafely, preventing data races even before the program starts. For example, if you want to mutate a variable from multiple threads, the compiler will require you to wrap it with a Mutex or something equivalent, because in general, mutating an unsynchronized variable from multiple threads is unsafe, unless a synchronization primitive or atomic operation is used."}]},{type:a,value:f},{type:b,tag:$,props:{id:iD},children:[{type:b,tag:p,props:{href:"#unsafe-rust",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iE}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Up to this point, we discussed the features of the so-called “safe Rust”, which provides guarantees like memory safety and prevents undefined behavior, but there is also another “version” of the language known as unsafe Rust, which basically gives you superpowers at the price of losing all those safety guarantees."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Are you wondering why this is needed? Well, there are mainly two reasons: if you want to interact with the low-level aspects of the operating system or hardware, those operations are inherently unsafe, so the “safe Rust” compiler, which is the one that tries to give you guarantees, is not able to do so. Therefore, if you still want to execute them, you have to explicitly tell the compiler to trust you and give up those safety guarantees, entering the “unsafe” side of Rust."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The other reason is that when analyzing the code, the compiler is very conservative. From a guarantees point of view, it’s much better to block a valid program than to make an incorrect one pass the compilation step. Thus, there are times in which we might want to bypass those checks, and in order to do so, we need to enter the “unsafe” side as well."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In a way, unsafe Rust and C++ are very similar. The main difference is that Rust programmers usually avoid the “unsafe” side as much as possible unless interfacing with the low-level aspects of the operating systems or when absolutely certain that an operation is correct, and this greatly reduces the surface for memory problems."}]},{type:a,value:f},{type:b,tag:$,props:{id:iF},children:[{type:b,tag:p,props:{href:"#package-management-and-ecosystem",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iG}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"An area in which Rust is arguably better than C++ is package management. If you have ever worked with Python or JavaScript you will feel right at home with cargo, the official Rust package manager. Installing a package is just a matter of adding a line into cargo.toml file, whereas in C++ using an external library can be a huge pain, especially if targeting multiple operating systems. There have been some attempts to bring modern package management to C++, such as Conan and vcpkg, but they are far from being standardized or easy to use as cargo."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"With that being said, the C++ ecosystem is huge, much bigger than the Rust counterpart, as the former has been around for multiple decades. In other words, there are many more libraries for C++ than for Rust, with the latter sometimes lacking a suitable one."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The good news is that Rust has a very good Foreign Function Interface, which means you can interface with C code very easily from Rust, and thus, also interface with C++ libraries by exposing a C API from them. Unfortunately, this is not always possible, especially in complex cases, but there are some ongoing attempts to make creating bindings easier. An example is the autocxx library, which is being developed by the Google Chrome team to investigate whether parts of the browser could be developed using Rust in the future."}]},{type:a,value:f},{type:b,tag:$,props:{id:iH},children:[{type:b,tag:p,props:{href:"#macros",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iI}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Another interesting difference between the two languages is the macro system, which in Rust is much more powerful and safer. First of all, Rust ships with two kinds of macros: declarative and procedural. The former type is similar to the traditional C\u002FC++ macros, with the difference that macros are "},{type:b,tag:T,props:{},children:[{type:a,value:"hygenic"}]},{type:a,value:", meaning that they cannot interfere with variables outside their scope and therefore don’t cause any unwanted side effects. On the other hand, procedural macros are completely different, much more powerful and also complex. They can be basically thought of as compiler plugins that receive the program syntax tree as input, manipulate it, and then return the enriched syntax tree as output. This makes it possible to create annotations, similarly to Java, that enrich the code at compile time."}]},{type:a,value:f},{type:b,tag:$,props:{id:aO},children:[{type:b,tag:p,props:{href:bE,ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"To conclude, which of the two languages is better? As always, it depends! But these are the most important takeaways:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Rust is likely to be the future of system programming, and the proof is that many of the big players (Microsoft, Apple, Google) are moving in that direction, gradually integrating Rust with their products. Don’t get me wrong, C++ is far from being dead and is not going away anytime soon due to the incredibly vast amount of legacy code built with it, but an increasing number of companies are choosing Rust over C++ for new products."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"My theory is that in 10-years’ time, most C++ jobs will be focused on maintaining legacy software rather than creating new products. But of course, that’s only my opinion and I might be wrong :)"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you liked the article, you can follow me on "},{type:b,tag:p,props:{href:cF,rel:[x,y,z],target:A},children:[{type:a,value:cG}]},{type:a,value:cn},{type:b,tag:p,props:{href:cq,rel:[x,y,z],target:A},children:[{type:a,value:dK}]},{type:a,value:aY}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:eC}]}]},dir:aV,path:"\u002Farticles\u002F2021-05-04-rust-vs-cpp-which-is-better-and-why",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"rust-vs-cpp-which-is-better-and-why"},{slug:"2021-01-21-why-electron-is-a-necessary-evil",description:eD,layout:aS,title:"Why Electron is a Necessary Evil",author:aT,date:"2021-01-21T00:00:00.000Z",categories:"electron cross-platform cross platform desktop application app wxwidgets qt alternative localhost server sciter",toc:[{id:iJ,depth:aC,text:iK},{id:iL,depth:aC,text:iM},{id:iN,depth:aC,text:iO},{id:iP,depth:aC,text:iQ},{id:iR,depth:aC,text:iS},{id:iT,depth:aC,text:iU},{id:aO,depth:aC,text:aP}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:eD}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This Chrome-ception allows developers to build complete desktop applications using web technologies, including HTML, CSS, JS, and the ~500 MB of node_modules we all know and love."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Jokes aside, Electron offers several benefits that made it the preferred choice for most desktop applications developed today, including:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Truly free and open source"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Code once, deploy on Windows, macOS, and Linux"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Unlimited flexibility when it comes to rich user interfaces"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Vast adoption"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"That said, Electron often receives a great deal of criticism, especially among developers. Having worked on desktop development myself for a couple of years both professionally and for fun, I enjoy reading discussions about this topic and trying out different approaches. Over time, I developed the idea that Electron is a necessary evil, something that is (surprisingly) superior to the alternatives for many use-cases."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This article is all about discussing the different approaches you can use to create cross-platform applications, along with their pros and cons. Ultimately, you will have a basic understanding of the different alternatives and their ideal use-cases. Perhaps, in the end, you will agree with me: Electron is not that bad."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Before jumping to the various alternatives, we first need to define the main Electron’s downsides people usually complain about:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:P,props:{},children:[{type:a,value:"High RAM consumption"}]},{type:a,value:": Electron apps tend to use a minimum of 80 MB of RAM, with lightweight apps in the 130-250 MB range and monsters like Slack sometimes reaching multi-GB values."}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:P,props:{},children:[{type:a,value:"Large storage footprint"}]},{type:a,value:": Shipping with a full Chromium runtime, you can expect most Electron apps to consume "},{type:b,tag:T,props:{},children:[{type:a,value:"at least"}]},{type:a,value:" 150 MB of storage."}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:P,props:{},children:[{type:a,value:"Slow"}]},{type:a,value:": Some Electron apps are definitely slow, but that can depend on many factors. Overuse of animations, for example, can substantially increase the CPU usage and thus make the app feel slower. Did you notice that most desktop apps that feel snappy don’t include any animation? Just because you can with Electron, doesn’t mean you should."}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:P,props:{},children:[{type:a,value:"Lack of native UI\u002FUX"}]},{type:a,value:": Electron renders webpages and not native controls. On one hand, that gives complete freedom to designers, but on the other, the app looks different from the “native” ones. Unsurprisingly, this complaint usually comes from macOS users, where a single “native” framework exists: Cocoa. Due to the fragmentation of GUI frameworks on other platforms (especially Windows), non-macOS users are usually more tolerant of apps not sharing the same look and feel."}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:b,tag:P,props:{},children:[{type:a,value:"Worse security"}]},{type:a,value:": Compared to the average website running on your web browser, Electron apps are incredibly more powerful (and dangerous) thanks to the NodeJS integration. If not properly configured, web pages running inside Electron can gain access to the entire system, which is particularly dangerous when displaying third-party websites. Luckily, it doesn’t have to be that way, as Electron provides "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.electronjs.org\u002Fdocs\u002Ftutorial\u002Fcontext-isolation",rel:[x,y,z],target:A},children:[{type:a,value:"Context Isolation"}]},{type:a,value:" to shield the renderer from NodeJS APIs. Moreover, some believe that the NPM ecosystem is less secure than other counterparts."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"With them in mind, let’s see how the other approaches compare with Electron."}]},{type:a,value:f},{type:b,tag:aD,props:{id:iJ},children:[{type:b,tag:p,props:{href:"#cross-platform-core-native-ui",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iK}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Often considered as the gold-standard of cross-platform development, this approach consists in extracting the application’s business logic in a library (usually written in low level and cross-platform languages such as C++ or Rust), and then write a separate GUI for each platform, leveraging on the native frameworks. The resulting applications are fast, light-weight, and have an authentic look and feel."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If the results are so good, why doesn’t everyone follow this approach? Well, turns out this approach is very expensive from a development perspective. Not only you have to implement N different UIs (which is already not trivial, as you have to learn 3 different native frameworks, along with their quirks), but the interoperability between these low-level languages and the UI one is not exactly enjoyable. In a nutshell:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Every feature that has an impact on the GUI, will take N times as much to implement"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Interoperability with the low-level library is not always convenient, especially when you start dealing with strings or dynamically allocated memory. Who frees that memory? That’s a question you’ll ask yourself a lot. Moreover, the answer depends on the current platform, as some use garbage collection, some reference counting, and some manual management."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"So… should we discard this option? No, not always. If most of your application’s complexity is related to the business logic and the UI is simple, this approach might be absolutely feasible (and arguably, even preferred). An example I came across is Backblaze’s client UI, which according to "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.backblaze.com\u002Fblog\u002F10-rules-for-how-to-write-cross-platform-code\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"this old article"}]},{type:a,value:", uses this approach. This makes perfect sense, as the UI itself is rather simple, only composed of a few buttons and labels."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"On the other hand, if the UI is substantially complex or contains custom components, choosing Electron is generally a good choice. Some will surely argue that you don’t “need” custom components, but what about code editors then? Do you think something as complex and flexible as VSCode would have been feasible with native controls? I honestly don’t think so."}]},{type:a,value:f},{type:b,tag:aD,props:{id:iL},children:[{type:b,tag:p,props:{href:"#bonus",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iM}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Starting from the same premise, an intermediate approach I personally like is wxWidgets, a mature library that enables developers to create cross-platform apps from a single C++ codebase. What I particularly like about wxWidgets is that it uses native widgets as much as possible. For "},{type:b,tag:P,props:{},children:[{type:a,value:"simple"}]},{type:a,value:" UIs, the resulting apps are fast, lightweight, and look great."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This is the approach I personally used for "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fmodulo",rel:[x,y,z],target:A},children:[{type:a,value:"modulo"}]},{type:a,value:", a lightweight graphical extension for "},{type:b,tag:p,props:{href:dc,rel:[x,y,z],target:A},children:[{type:a,value:ca}]},{type:a,value:", for which I implemented the business logic in Rust and the UI code in C++."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"An example of wxWidgets interfaces in modulo",src:"\u002Fposts\u002Fmodulo.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Again, I would only consider this approach for simple UIs, as there is a substantial development overhead. Moreover, as the UI gets more complex, the resulting apps start to look increasingly “off” compared to native ones."}]},{type:a,value:f},{type:b,tag:aD,props:{id:iN},children:[{type:b,tag:p,props:{href:"#qt",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iO}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"“Just use QT, it’s much better than Electron!”"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you browse discussions about newly-released Electron apps, that comment is guaranteed to be present. In a nutshell, QT is a cross-platform app development framework that was particularly popular a few years ago. With QT, you can support the 3 major platforms from a single C++ codebase, or if you don’t like the language, there is a strong possibility some bindings might exist for your favorite one (notably Python)."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Apps made with QT are usually less resource hungry and faster (when using C++), but how much?"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Taking as a reference my favorite QT-application, Telegram Desktop, we can see that:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"It uses 130 MB of RAM"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"It occupies 70.8 MB of storage"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For reference, these are the values from a comparable Electron application, Whatsapp Desktop:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"254 MB of RAM"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"450 MB of storage (this is a lot, I know, but this is WhatsApp's fault rather than Electron’s. Many Electron apps I use daily, such as Bitwarden and Obsidian, use ~170 MB)"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can see, the QT counterpart is usually consuming roughly half the resources. But is it worth it?"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In a system with 8 GB of RAM, which is pretty common today, 250 MB of RAM represents roughly ~3% of the total. For short-running applications, arguably that number is pretty much insignificant. Of course, not everybody will agree on this point."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"At the same time, choosing QT means accepting some less-than-ideal compromises, with the first and foremost being the license. QT is dual-licensed: you can either choose the open-source license or the commercial one (spoiler alert, be prepared to spend thousands of dollars on this one). If you are creating an open-source project, then you are in luck, QT is free to use as long as you release your code as GPL (although recently with some "},{type:b,tag:p,props:{href:"https:\u002F\u002Fnews.ycombinator.com\u002Fitem?id=22821050",rel:[x,y,z],target:A},children:[{type:a,value:"controversies"}]},{type:a,value:"). But what if you are a small software company looking to release commercial software? There might be a chance to dynamically link the LGPL version and avoid paying for the complete license, but that’s not always possible. I’m sure some people will disagree, but I think QT is a viable option only for open-source projects or large enterprises, everything in-between won’t be financially sustainable."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Moreover, although QT tries to resemble the platform’s look and feel, you can definitely tell something is wrong. Just check the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fsqlitebrowser.org\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"DB Browser for SQLite"}]},{type:a,value:" macOS version (which I think is a great piece of software, I’m only pointing out how the “look and feel” is definitely off)."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Keeping in mind that a well-written Electron application will use twice the resources of the equivalent QT counterpart, is it really worth it? Only you can answer this question, but I honestly don’t think the gains (or better, the resource savings) are significant enough to ditch Electron."}]},{type:a,value:f},{type:b,tag:aD,props:{id:iP},children:[{type:b,tag:p,props:{href:"#localhost-server",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iQ}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For long-running processes, another common approach is to provide a web GUI in the user’s browser connected to a localhost-only HTTP server. This solution, currently used by "},{type:b,tag:p,props:{href:"https:\u002F\u002Fsyncthing.net\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Syncthing"}]},{type:a,value:aU},{type:b,tag:p,props:{href:"https:\u002F\u002Fjupyter.org\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Jupyter Notebook"}]},{type:a,value:" to name a few, shares many of Electron’s advantages regarding rich user interfaces, while being significantly light-weight (no need to bundle an entire Chromium runtime). That said, there are two major downsides:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Less-than-ideal integration with the OS, as the GUI will appear as a website rather than an application. This also means no menu bar, for example."}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"No control over the user’s browser, which means having to support widely different rendering behaviors. To be fair, as long as you are not committed to supporting IE or you need some fancy new features, this problem is becoming less and less relevant."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Although I consider this approach viable in a number of use-cases, I’m far from considering it the optimal one. I know this is highly subjective, but I really appreciate having a separate window for each application, along with good OS integrations such as native menu bars and dialogs."}]},{type:a,value:f},{type:b,tag:aD,props:{id:iR},children:[{type:b,tag:p,props:{href:"#embedding-the-systems-webview",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iS}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"One of the usual complaints against Electron is that every application ships with a separate Chromium runtime, wasting ~100\u002F200 MB of storage per app. A natural question arises: "},{type:b,tag:T,props:{},children:[{type:a,value:"why isn’t this runtime extracted into a single, system-wide module that is then shared between all applications (similar to the JVM)?"}]},{type:a,value:" Actually, I’m going to take it even further: "},{type:b,tag:T,props:{},children:[{type:a,value:"given that most OSes ship with an embeddable webview component, why don’t we use it instead of a separate runtime?"}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"On paper, this approach sounds like the ideal solution: the resulting binary is very light-weight (few megabytes) and can still leverage web technologies to create rich and cross-platform user interfaces. Moreover, direct OS integration is also possible, as the resulting programs can access the native facilities (menu bars, dialogs, etc) from the “wrapper” code. Many projects are trying to overcome Electron’s drawbacks using this approach, such as "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Fpojala\u002Felectrino",rel:[x,y,z],target:A},children:[{type:a,value:"Electrino"}]},{type:a,value:dn},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebview\u002Fwebview",rel:[x,y,z],target:A},children:[{type:a,value:"webview"}]},{type:a,value:dn},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Ftauri-apps\u002Ftauri",rel:[x,y,z],target:A},children:[{type:a,value:"Tauri"}]},{type:a,value:", and many more."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For many months, I considered this approach superior to Electron, with development convenience being the only downside. You see, if you choose this approach, you will need to do a lot of “plumbing” yourself, as you don’t have access to any of the convenient APIs exposed by Electron. Do you want a menu bar? You have to write the low-level bindings yourself, often multiple times depending on the number of platforms you are looking to support."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"At that time, I wanted to create a GUI for "},{type:b,tag:p,props:{href:cX,rel:[x,y,z],target:A},children:[{type:a,value:ca}]},{type:a,value:", and that seemed like the perfect opportunity to experiment with these technologies. I forked the original webview project (as I wanted to add a few features) and created a first, very alpha version for Windows:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"An example of Embeddable Webview GUI",src:"\u002Fposts\u002Fespanso-gui.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As expected, implementing the business logic was trickier than Electron, having to manually glue together a mix of C++, Rust and JavaScript, but the application was very lightweight, with a consumption of ~2 MB of storage and ~70 MB of RAM. Sounds like a success right? Well, turns out I overlooked a crucial aspect: compatibility."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Imagine building an application that relies on a complex library to perform the core-functionality. This library is not really compatible with all the platforms you are trying to support, so you choose some local ports of this library, which are all roughly compliant with a common specification. The “only” downside is that you cannot control the library version. Turns out there is a bug in the Windows port of the library, what do you do? Even if a fix is shipped in the next library version, you can’t control the version used by users. As you might have understood, this “complex library” is nothing more than the embedded webview."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Last year, the situation was even worse, as Windows supported only subpar webviews. Besides the IE-based one, which I would only recommend to your greatest enemies, Windows offered the old-Edge-based one, which was “kind of” decent, but definitely worse than the WebKit-based ones included in macOS and Linux. Luckily, with the new Chromium-based Edge browser, Windows will also ship with a modern, embeddable webview called "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdeveloper.microsoft.com\u002Fen-us\u002Fmicrosoft-edge\u002Fwebview2\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"WebView2"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As we previously said, depending on a component that you can’t control is risky, as the version is locked and so are its bugs. That’s also part of why companies like Slack moved away from this approach (more on this "},{type:b,tag:p,props:{href:"https:\u002F\u002Fnews.ycombinator.com\u002Fitem?id=18761840",rel:[x,y,z],target:A},children:[{type:a,value:"here"}]},{type:a,value:gP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Should we always discard this approach? Definitely not. But I would personally consider it only when the complexity of the application is relatively low, especially when it comes to styling."}]},{type:a,value:f},{type:b,tag:aD,props:{id:iT},children:[{type:b,tag:p,props:{href:"#notable-mentions",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iU}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Another promising alternative is "},{type:b,tag:p,props:{href:"https:\u002F\u002Fsciter.com\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Sciter"}]},{type:a,value:", which makes it possible to create very lightweight and cross-platform applications using HTML\u002FCSS and any language that supports C bindings (most do). The biggest drawback is that the engine is not open-source, although it "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.kickstarter.com\u002Fprojects\u002Fc-smile\u002Fopen-source-sciter-engine",rel:[x,y,z],target:A},children:[{type:a,value:"might become in the future"}]},{type:a,value:". Don’t get me wrong, I totally understand the author’s desire to offer a commercial license to fund its development, but I tend to prefer open-source alternatives when possible."}]},{type:a,value:f},{type:b,tag:aD,props:{id:aO},children:[{type:b,tag:p,props:{href:bE,ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The goal of this article wasn’t to prove how Electron is always the best choice (it isn’t), but rather, to provide a broad overview of the areas in which it is best suited. For example, you shouldn’t use it for applications with simple UIs, or if you don’t need to go cross-platform. In such cases, choosing the native frameworks will most likely be the best choice. That said, if you need to go cross-platform and your application is sufficiently complex, then Electron is really not bad at all compared to the alternatives, especially when done right. Of course, there are some very bloated Electron apps out there and I don’t like them either, but that’s mostly due to careless developers, not Electron."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Finally, keep in mind that without Electron some developers might not be able to manage the burden of cross-platform development, and thus, some great apps might not even exist. That’s why I consider it a "},{type:b,tag:T,props:{},children:[{type:a,value:"necessary evil."}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:iV},{type:b,tag:p,props:{href:cF,rel:[x,y,z],target:A},children:[{type:a,value:cG}]},{type:a,value:cn},{type:b,tag:p,props:{href:cq,rel:[x,y,z],target:A},children:[{type:a,value:dK}]},{type:a,value:aY}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:eD}]}]},dir:aV,path:"\u002Farticles\u002F2021-01-21-why-electron-is-a-necessary-evil",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"why-electron-is-a-necessary-evil"},{slug:"2021-01-01-understanding-strings-in-rust",description:"When I started learning Rust a couple of years ago, the first thing that really got me thinking was strings. You see, in Rust, there are 2 string types: the String and the &str types.",layout:aS,title:"Understanding Strings in Rust",author:aT,date:"2021-01-01T00:00:00.000Z",categories:"strings str rust tutorial guide understand understanding ownership",toc:[{id:iW,depth:_,text:cY},{id:iX,depth:aC,text:iY},{id:iZ,depth:aC,text:i_},{id:aO,depth:aC,text:aP}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:i$},{type:b,tag:l,props:{},children:[{type:a,value:bz}]},{type:a,value:ja},{type:b,tag:l,props:{},children:[{type:a,value:cH}]},{type:a,value:jb}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you go on with examples and tutorials, you see that both of them are thoroughly used, so my natural question was: when should I use one over the other?"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this article, we are going to explore the differences between the two, but first, we will need to discuss the way strings are kept in memory."}]},{type:a,value:f},{type:b,tag:$,props:{id:iW},children:[{type:b,tag:p,props:{href:"#memory-model",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:cY}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let's first start with a basic example (don’t pay attention to the language itself, the following considerations apply to Python, Go, Java, and many others). We want to create a string surrounded by spaces, such as:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:a,value:jc},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jd}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"From a memory standpoint, the situation is characterized by 2 memory entities:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"A memory region in the heap containing the actual string content"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"A string record on the stack containing the memory location of the first element in the heap (and generally, its length)"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:cY,src:"\u002Fposts\u002Fstring1.JPEG"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Looking at our example, we can say that "},{type:b,tag:l,props:{},children:[{type:a,value:"s"}]},{type:a,value:" does not contain the actual string content, but instead, it is simply a reference to the memory region containing the content."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This is in contrast with the other basic data types such as integers, for which their value is usually stored on the stack, due to their fixed size."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let's say that we want to apply the "},{type:b,tag:l,props:{},children:[{type:a,value:je}]},{type:a,value:" operation to the string (or "},{type:b,tag:l,props:{},children:[{type:a,value:"strip()"}]},{type:a,value:" in Python) to obtain its content, but without the surrounding spaces. We could do:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:a,value:jc},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jd}]},{type:a,value:"\nvar t "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:" s"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:je}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this case, the variable "},{type:b,tag:l,props:{},children:[{type:a,value:"t"}]},{type:a,value:" will hold the value "},{type:b,tag:l,props:{},children:[{type:a,value:eE}]},{type:a,value:", without any surrounding space."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In most garbage collected languages that operation causes a separate string being created, so you end-up with two memory blocks on the heap:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:cY,src:"\u002Fposts\u002Fstring2.JPEG"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This is where Rust magic happens. If we assume that neither "},{type:b,tag:l,props:{},children:[{type:a,value:"T"}]},{type:a,value:" nor "},{type:b,tag:l,props:{},children:[{type:a,value:jf}]},{type:a,value:" will be modified (they are immutable), we can optimize the previous operation by simply creating another string record having the start index at the second cell of "},{type:b,tag:l,props:{},children:[{type:a,value:jf}]},{type:a,value:" and having a length of 5 instead of 7."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:cY,src:"\u002Fposts\u002Fstring3.JPEG"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"From the user perspective, T will be a string with length 5 and with content \"hello\",  but no additional allocation will be necessary, greatly improving memory efficiency."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In Rust, what we called \"string record\" is referred to as "},{type:b,tag:l,props:{},children:[{type:a,value:cH}]},{type:a,value:" type, and represents a reference to a contiguous char array, along with its length. Technically, this is called a reference to a string slice."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Of course, this technique cannot be applied to every situation. For example, if we call the "},{type:b,tag:l,props:{},children:[{type:a,value:"to_uppercase()"}]},{type:a,value:" method, the resulting string will not be a different view of the same string, but instead, it will be an entirely different one. In this case, an additional allocation will be needed."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The powerful aspect of &str types is that the location of the string content can vary based on the situation. It can reference a memory region on the heap, a location on the stack, or even a static portion of the executable itself."}]},{type:a,value:f},{type:b,tag:aD,props:{id:iX},children:[{type:b,tag:p,props:{href:"#string-literals",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:iY}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"One thing that often confuses beginners are string literals. In particular, when you write the following code in Rust:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" str1 "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:eE}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"you are not allocating a string in the heap. Instead,  you're creating an immutable string literal, whose content is stored inside the binary itself. This is possible because its content is known at compile-time, which, on the other hand, is not the case with the following:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:du},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:ic}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" str2 "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:el},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:jg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this case, the string content is not known at compile-time, so it causes an allocation on the heap, creating the string “10”."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If we now analyze the type of the two previous variables, we notice that "},{type:b,tag:l,props:{},children:[{type:a,value:"str1"}]},{type:a,value:jh},{type:b,tag:l,props:{},children:[{type:a,value:cH}]},{type:a,value:aU},{type:b,tag:l,props:{},children:[{type:a,value:"str2"}]},{type:a,value:jh},{type:b,tag:l,props:{},children:[{type:a,value:bz}]},{type:a,value:". This is because the first string does not allocate any memory on the heap, whereas the second one does. As a rule of thumb,  anytime you allocate new memory you will need to use the String type, whereas if you only need a different view of an existing string, the &str type will be more adequate."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Technically, the "},{type:b,tag:l,props:{},children:[{type:a,value:bz}]},{type:a,value:" type is an "},{type:b,tag:T,props:{},children:[{type:a,value:"owned"}]},{type:a,value:" type, whereas the "},{type:b,tag:l,props:{},children:[{type:a,value:cH}]},{type:a,value:" type is not. To really understand the difference between the two, you will need to grasp the concepts of ownership and borrowing. If you need some help, "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=N2SgcDO0QL4",rel:[x,y,z],target:A},children:[{type:a,value:"I made a video"}]},{type:a,value:" on the topic a few months ago."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In a nutshell, when you allocate some memory on the heap, there must be a way to free it when not used anymore, otherwise, you’ll produce a memory leak. In Java or Go, that’s the responsibility of the garbage collector, but in Rust, the ownership system takes care of freeing the memory once the owner goes out of scope."}]},{type:a,value:f},{type:b,tag:aD,props:{id:iZ},children:[{type:b,tag:p,props:{href:"#tips-for-beginners",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:i_}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Now that you know the basics, let me give you a couple of tips:"}]},{type:a,value:f},{type:b,tag:dL,props:{id:"convert-between-the-two"},children:[{type:b,tag:p,props:{href:"#convert-between-the-two",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Convert between the two"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"You can easily convert between the two by using the "},{type:b,tag:l,props:{},children:[{type:a,value:"to_string()"}]},{type:a,value:" method and the borrow operator (&), such as:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Start from a string literal &str"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" foo "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:eE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Convert to a owned String"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" bar "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:" foo"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:jg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Get the string literal &str of bar"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:a_}]},{type:a,value:" car "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cC}]},{type:a,value:"bar\n"}]}]}]},{type:a,value:f},{type:b,tag:dL,props:{id:"strings-in-function-signatures"},children:[{type:b,tag:p,props:{href:"#strings-in-function-signatures",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Strings in function signatures"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"When you are designing function signatures, keep in mind that generally, strings are passed as "},{type:b,tag:l,props:{},children:[{type:a,value:cH}]},{type:a,value:" slices and returned as owned Strings, such as:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[a$,K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,be,r]},children:[{type:a,value:"concatenate_strings"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cC}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:ji},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:cC}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:dH}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bz}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,au,aj]},children:[{type:a,value:"format!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"{}{}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:" s1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:ji},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This prevents unnecessary copies when passing the parameters, but also guarantees that the output string will live long enough to be received by the calling code. Moreover, it allows the function to accept both string slices and owned Strings. Of course, there are many exceptions to this rule, but for most cases, and most importantly until you really understand ownership and borrowing, this approach will serve you well."}]},{type:a,value:f},{type:b,tag:aD,props:{id:aO},children:[{type:b,tag:p,props:{href:bE,ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This was just a quick introduction to Rust strings, thank you for reading!"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:iV},{type:b,tag:p,props:{href:cq,rel:[x,y,z],target:A},children:[{type:a,value:dK}]},{type:a,value:cn},{type:b,tag:p,props:{href:cF,rel:[x,y,z],target:A},children:[{type:a,value:cG}]},{type:a,value:aY}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:i$},{type:b,tag:l,props:{},children:[{type:a,value:bz}]},{type:a,value:ja},{type:b,tag:l,props:{},children:[{type:a,value:cH}]},{type:a,value:jb}]}]},dir:aV,path:"\u002Farticles\u002F2021-01-01-understanding-strings-in-rust",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"understanding-strings-in-rust"},{slug:"2020-05-29-regex101-the-ultimate-tool-for-regular-expressions",description:"If you've been programming for a while, you will surely know how useful regular expressions can be when dealing with text.\nYou may want to validate a string (such as checking whether an email field is valid) or extract some information from formatted text. In both cases, building the right regex can take many attempts.",layout:aS,title:"Regex101 - The Ultimate Tool for Regular Expressions",author:aT,date:"2020-05-29T00:00:00.000Z",categories:"regex tutorial visual debugger regex101 regular expression",toc:[{id:jj,depth:_,text:jk},{id:jl,depth:_,text:jm},{id:jn,depth:_,text:jo},{id:jp,depth:_,text:jq},{id:aO,depth:_,text:aP}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:jr},{type:b,tag:P,props:{},children:[{type:a,value:js}]},{type:a,value:jt}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:ju}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Today I'm going to introduce you to an incredibly useful tool called "},{type:b,tag:p,props:{href:jv,rel:[x,y,z],target:A},children:[{type:a,value:jw}]},{type:a,value:", which makes working with Regexes a breeze."}]},{type:a,value:f},{type:b,tag:$,props:{id:jj},children:[{type:b,tag:p,props:{href:"#validating-a-regex",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:jk}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As an example, let's create a very simple regex to validate email addresses. Please note that this is only a toy example, as "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.regular-expressions.info\u002Femail.html",rel:[x,y,z],target:A},children:[{type:a,value:"validating email addresses is harder than it seems"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We consider the following 5 input strings:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[aF,K]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"example@example.com\nexample.com\nexample@\njohn@company.net\ninfo@example\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can already tell, only the first and fourth addresses are correct.\nA first attempt would be using the "},{type:b,tag:l,props:{},children:[{type:a,value:"[a-zA-Z]+\\@[a-zA-Z]+\\.[a-z]+"}]},{type:a,value:" Regex (which doesn't account for many things, but for this example is enough)."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Open "},{type:b,tag:p,props:{href:jv,rel:[x,y,z],target:A},children:[{type:a,value:jw}]},{type:a,value:" and paste the input in the "},{type:b,tag:T,props:{},children:[{type:a,value:"TEST STRING"}]},{type:a,value:" field, then type the regex on the "},{type:b,tag:T,props:{},children:[{type:a,value:"REGULAR EXPRESSION"}]},{type:a,value:" field.\nAs a result, we will see:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Validation Regex",src:"\u002Fposts\u002Fvalidation-regex.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Regex101 highlighted the lines that matched our regex, which makes experimenting with it a breeze! That said, this is just the tip of the iceberg."}]},{type:a,value:f},{type:b,tag:$,props:{id:jl},children:[{type:b,tag:p,props:{href:"#extracting-data",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:jm}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Another common task involves extracting a substring (group) from a formatted text and this is one of the areas in which Regex101 shines."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let's start from another example, a simple CSV formatted list of entries:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[aF,K]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"John;Snow;5\nEddard;Stark;3\nTyrion;Lannister;6\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We now want to extract the name of each character,  and to do that we can use a simple regex:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[aF,K]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"^([a-zA-Z]+);\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Typing this regex on Regex101 along with the example produces the following result:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Extracting Data Regex 1",src:"\u002Fposts\u002Fextracting-data-regex1.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can see, the names are highlighted. But the most important thing can be found on the right side:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Extracting Data Regex 2",src:"\u002Fposts\u002Fextracting-data-regex2.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"All the group contents are extracted and displayed in a very convenient way, making working with them a piece of cake!"}]},{type:a,value:f},{type:b,tag:$,props:{id:jn},children:[{type:b,tag:p,props:{href:"#substitution",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:jo}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"You may even want to take it a step further, extracting the content of a group and "},{type:b,tag:T,props:{},children:[{type:a,value:"replacing"}]},{type:a,value:" it with something else. With Regex101 you can indeed do that by opening the "},{type:b,tag:T,props:{},children:[{type:a,value:jx}]},{type:a,value:" panel (on the bottom) and typing your replace string:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Replace Regex 1",src:"\u002Fposts\u002Freplace-regex-1.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Moreover, if you use the "},{type:b,tag:l,props:{},children:[{type:a,value:"\\1"}]},{type:a,value:" operators, we can also restructure the lines completely. Change the original regex as follows:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[aF,K]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"^([a-zA-Z]+);.*\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Then, in the "},{type:b,tag:l,props:{},children:[{type:a,value:jx}]},{type:a,value:" field, type:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[aF,K]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"Hello $1\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The result is:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Substitution Regex 2",src:"\u002Fposts\u002Fsubstitution-regex-2.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"You have no idea how many times this feature saved my day (which by the way is also available in most advanced text editors, such as Sublime Text)."}]},{type:a,value:f},{type:b,tag:$,props:{id:jp},children:[{type:b,tag:p,props:{href:"#code-generation",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:jq}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Another very useful feature is the automatic "},{type:b,tag:T,props:{},children:[{type:a,value:"code generation"}]},{type:a,value:", available for a ton of languages out of the box. By clicking on the "},{type:b,tag:l,props:{},children:[{type:a,value:"Code Generation"}]},{type:a,value:" tab, we can access a section that will generate the regex boilerplate for us, so that we can use it in our programs\u002Fscripts with minimal effort:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Code Generator",src:"\u002Fposts\u002Fcode-generator-regex.png"},children:[]}]},{type:a,value:f},{type:b,tag:$,props:{id:aO},children:[{type:b,tag:p,props:{href:bE,ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This was just a quick introduction to Regex101, thank you for reading through!"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you want to stay updated with those neat developer tricks and tools, follow me on "},{type:b,tag:p,props:{href:cq,rel:[x,y,z],target:A},children:[{type:a,value:dK}]},{type:a,value:cn},{type:b,tag:p,props:{href:cF,rel:[x,y,z],target:A},children:[{type:a,value:cG}]},{type:a,value:aY}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:jr},{type:b,tag:P,props:{},children:[{type:a,value:js}]},{type:a,value:jt}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:ju}]}]},dir:aV,path:"\u002Farticles\u002F2020-05-29-regex101-the-ultimate-tool-for-regular-expressions",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"regex101-the-ultimate-tool-for-regular-expressions"},{slug:"2020-02-07-how-to-promote-open-source-project-on-github",description:"As a developer myself, I know how hard it can be to promote a project. You spent weeks, months, or even years, developing your idea, only to find out later that nobody is noticing it.\nTurns out that promotion, probably the least favourable thing for a programmer, is important as well.",layout:aS,title:"How to Promote Your Open Source Project",author:aT,date:"2020-02-07T00:00:00.000Z",categories:"github project promotion opensource how to tutorial",toc:[],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:jy}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:jz}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this article I’m going to summarize the things I learned with "},{type:b,tag:p,props:{href:dF,rel:[x,y,z],target:A},children:[{type:a,value:ca}]},{type:a,value:", my latest open-source project which, by the time I’m writing this article, reached more than 500 GitHub stars in about 4 months."}]},{type:a,value:f},{type:b,tag:at,props:{id:"1-first-impressions-matter"},children:[{type:b,tag:p,props:{href:"#1-first-impressions-matter",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"#1: First impressions matter"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Later in the article we’ll talk about "},{type:b,tag:T,props:{},children:[{type:a,value:"how"}]},{type:a,value:" to actually reach people, but first, it’s crucial to setup a nice landing page. For the majority of projects, a nicely written Readme on GitHub will serve the purpose just fine. The important things to include are:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"A screenshot of the project, or even better, an animated GIF"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"A general description, explaining the project goal and the features"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"A getting started section, explaining the "},{type:b,tag:T,props:{},children:[{type:a,value:"minimum"}]},{type:a,value:" amount of steps required to use your project"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you want to take it a step further, building an actual website is a good idea. Nowadays, building project websites is pretty easy (as well as free), thanks to modern tools and services such as Jekyll and GitHub Pages. I personally took this approach with espanso by building the "},{type:b,tag:p,props:{href:dc,rel:[x,y,z],target:A},children:[{type:a,value:"website"}]},{type:a,value:", which has proven to be an effective way to attract users."}]},{type:a,value:f},{type:b,tag:at,props:{id:"2-make-users-life-easy"},children:[{type:b,tag:p,props:{href:"#2-make-users-life-easy",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"#2: Make users’ life easy"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I’ll never stress this enough. How many times have you enountered a super interesting project and wanted to try it out, just to later find out that to run it you need a 3gb compiler as well as all the required libraries. This problem is especially painful in languages such as Java, Golang, C or Rust, in which the compilation process can be far from trivial."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"There are many possible solutions, ranging from the easy to the complex ones. If you are using a compiled language, the bare minimum I would recommend is creating prebuilt binaries for the OS you are targeting, so that users can try out your project without installing the whole build system."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"A more complex step could be integrating with package managers, so that the installation becomes just a couple of commands in the terminal. The situation here really depends on your target. For example, getting a package in PIP or Homebrew is super easy, whereas publishing on APT (the official Ubuntu\u002FDebian manager) is an enormous task."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Another important detail which is often overlooked is documentation. Unless your project is super trivial, you should write instructions on how to use\u002Fconfigure it, even just a section in the Readme. Ideally, users should never have to read the sources to understand the basic functionality, because most often than not, they won't even try and will leave the project instead."}]},{type:a,value:f},{type:b,tag:at,props:{id:"3-reddit-is-your-friend-and-enemy"},children:[{type:b,tag:p,props:{href:"#3-reddit-is-your-friend-and-enemy",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"#3: Reddit is your friend and enemy"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"When it comes to promotion, social networks are usually the first place to go in order to reach potential users. Of course, every social network has its quirks, and some are more versed to software than others. From my experience, I can tell Reddit is the most powerful one, as well as the most dangerous. In particular, promotion there has to be done "},{type:b,tag:P,props:{},children:[{type:a,value:"very"}]},{type:a,value:" carefully, as a spammy behavior will trigger waves of haters against your project."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The easiest way to get some early feedback is to post your GitHub page on "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.reddit.com\u002Fr\u002Fcoolgithubprojects\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"r\u002Fcoolgithubprojects"}]},{type:a,value:aU},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.reddit.com\u002Fr\u002Fopensource",rel:[x,y,z],target:A},children:[{type:a,value:"r\u002Fopensource"}]},{type:a,value:". Then things get a bit tricky, as posting on other subreddits would usually result in a ghost ban. To overcome this problem, the key is to provide value. Does your project solve some interesting technical challenges? If the answer is yes, it may be a good idea to write an "},{type:b,tag:P,props:{},children:[{type:a,value:"article"}]},{type:a,value:" and posting it on a related subreddit. Inside the article, you can "},{type:b,tag:P,props:{},children:[{type:a,value:"mention"}]},{type:a,value:" your project, so that new people get to know it, without looking spammy. For example, because I couldn’t find any resource about publishing a Rust project on Homebrew when working on espanso, I decided to "},{type:b,tag:p,props:{href:"https:\u002F\u002Ffedericoterzi.com\u002Fblog\u002Fhow-to-publish-your-rust-project-on-homebrew\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"write an article"}]},{type:a,value:" about the process and then I published it on "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.reddit.com\u002Fr\u002FRust",rel:[x,y,z],target:A},children:[{type:a,value:"r\u002Frust"}]},{type:a,value:". In this way, you are providing value to the user without being spammy."}]},{type:a,value:f},{type:b,tag:at,props:{id:"4-other-sources"},children:[{type:b,tag:p,props:{href:"#4-other-sources",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"#4: Other sources"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Beside Reddit, there are other viable alternatives to promote a project. If you are lucky enough to get featured in the homepage of "},{type:b,tag:P,props:{},children:[{type:a,value:"Hackernews"}]},{type:a,value:", your GitHub page will generally experience a ton of traffic. Personally, I never had any success posting espanso there, getting almost no traction at all. That said, last weekend something pretty interesting happened: someone posted the espanso's GitHub page on HN and, for about a couple of hours, it remained in the front page. The results were astonishing: 200 stars and more than a thousand user visits."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Star history of the project",src:"\u002Fposts\u002Fstargazers.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Another powerful website is YouTube. In particular, getting featured in the right video can drive a significant amount of traffic to your project. The key here is to find YouTubers interested in the problems you are trying to solve, and ask them if they could be interested in covering your project. Most won't even respond, but with some luck you may get good results."}]},{type:a,value:f},{type:b,tag:at,props:{id:"0-build-something-interestinguseful"},children:[{type:b,tag:p,props:{href:"#0-build-something-interestinguseful",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"#0: Build something interesting\u002Fuseful"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This may sound overly simplicistic, but it’s actually the most important concept. Perhaps  you have built something technically remarkable, but if it’s not interesting or useful to someone, then it’s unlikely to generate a following. Don’t get me wrong, it doesn’t have to target a wide audience, niche projects are fine. In fact, they are often more successful than general ones, solving the needs of a relatively small group of users."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I fell in this trap many times in my life, and in the beginning it’s easy to get hurt. After all, spending weeks in something that doesn’t generate any interest it’s pretty frustrating. In the end, the only reasonable thing to do is being realistic: it’s totally fine to build something just for yourself, but don’t expect a ton of users if you build the next todo app :)"}]},{type:a,value:f},{type:b,tag:at,props:{id:"bonus-be-nice"},children:[{type:b,tag:p,props:{href:"#bonus-be-nice",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"#Bonus: Be nice"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Open Source is one of the greatest things happening in our planet, and we must preserve it. It's very important to remember that at the other side of the screen there are humans, with a busy life and emotions as everybody else. For this reason, when interacting with a user asking for help or a project maintainer, remember to be nice."}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:jy}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:jz}]}]},dir:aV,path:"\u002Farticles\u002F2020-02-07-how-to-promote-open-source-project-on-github",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"how-to-promote-open-source-project-on-github"},{slug:"2019-10-06-how-to-publish-your-rust-project-on-homebrew",description:"Last week I finally released the first version of espanso, a cross-platform, system-wide Text Expander written in Rust.",layout:aS,title:"How to Publish your Rust project on Homebrew",author:aT,date:"2019-10-06T00:00:00.000Z",categories:"rust homebrew macos publish project cli app github manager",toc:[{id:jA,depth:aC,text:jB},{id:jC,depth:aC,text:jD},{id:jE,depth:aC,text:jF},{id:jG,depth:aC,text:jH},{id:jI,depth:aC,text:jJ},{id:aO,depth:aC,text:aP}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:jK},{type:b,tag:p,props:{href:cX,rel:[x,y,z],target:A},children:[{type:a,value:ca}]},{type:a,value:jL},{type:b,tag:T,props:{},children:[{type:a,value:jM}]},{type:a,value:jN}]},{type:a,value:f},{type:a,value:f},{type:b,tag:eF,props:{},children:[{type:a,value:B},{type:b,tag:X,props:{src:"\u002Fassets\u002Fimages\u002Fespanso.gif"},children:[]},{type:a,value:B},{type:b,tag:eG,props:{},children:[{type:a,value:"Example of espanso in action."}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I've built many projects in my life, but this time I wanted to create something people would actually use. Therefore, one of the key aspects to consider was the installation process: "},{type:b,tag:P,props:{},children:[{type:a,value:"it has to be easy"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Being a cross-platform tool, I had to consider the best installation method for each platform and when it comes to "},{type:b,tag:P,props:{},children:[{type:a,value:"macOS"}]},{type:a,value:", the de-facto way to install a cli tool is by using "},{type:b,tag:p,props:{href:"https:\u002F\u002Fbrew.sh\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Homebrew"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In this article I will show you the publishing process I used for my tool,  "},{type:b,tag:p,props:{href:cX,rel:[x,y,z],target:A},children:[{type:a,value:ca}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:aD,props:{id:jA},children:[{type:b,tag:p,props:{href:"#preparing-the-binary",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:jB}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In order to create an Homebrew package, you have to provide a "},{type:b,tag:P,props:{},children:[{type:a,value:"binary executable"}]},{type:a,value:". Luckly for us, Rust makes it super easy.  In your project directory, the following command will create an optimized, release-ready, version of your tool:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"cargo build --release\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"You will now have a binary executable in the "},{type:b,tag:l,props:{},children:[{type:a,value:"target\u002Frelease\u002F"}]},{type:a,value:" directory, in my case:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"target\u002Frelease\u002Fespanso\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Homebrew expects a "},{type:b,tag:P,props:{},children:[{type:a,value:"TAR archive"}]},{type:a,value:", and it's easy to create one using the commands:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"cd target\u002Frelease\ntar -czf espanso-mac.tar.gz espanso\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"At this point, you should have the "},{type:b,tag:l,props:{},children:[{type:a,value:eH}]},{type:a,value:" archive in your "},{type:b,tag:l,props:{},children:[{type:a,value:"target\u002Frelease"}]},{type:a,value:" directory."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We will later need the "},{type:b,tag:P,props:{},children:[{type:a,value:"SHA256 hash"}]},{type:a,value:" of the archive, so let's calculate it using:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"shasum -a 256 espanso-mac.tar.gz\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:jO}]},{type:a,value:f},{type:b,tag:aD,props:{id:jC},children:[{type:b,tag:p,props:{href:"#uploading-to-github-releases",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:jD}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Homebrew requires a "},{type:b,tag:P,props:{},children:[{type:a,value:"URL to download your binary"}]},{type:a,value:". There are plenty of ways to host your executable, but for my project I used "},{type:b,tag:p,props:{href:"https:\u002F\u002Fhelp.github.com\u002Fen\u002Farticles\u002Fcreating-releases",rel:[x,y,z],target:A},children:[{type:a,value:"GitHub Releases"}]},{type:a,value:", mainly because it's free and easy to use."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Open your project's GitHub page, navigate to the "},{type:b,tag:T,props:{},children:[{type:a,value:"Releases"}]},{type:a,value:" section and then click on "},{type:b,tag:T,props:{},children:[{type:a,value:"Create a new release"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Insert a "},{type:b,tag:T,props:{},children:[{type:a,value:"tag version"}]},{type:a,value:", such as "},{type:b,tag:l,props:{},children:[{type:a,value:"v0.1.0"}]},{type:a,value:", a title and then drag the previously created archive ( in my case "},{type:b,tag:l,props:{},children:[{type:a,value:eH}]},{type:a,value:" ) into the upload section. You should have something like this:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Github Release",src:"\u002Fposts\u002Fgithubrelease.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Now click "},{type:b,tag:l,props:{},children:[{type:a,value:"Publish release"}]},{type:a,value:"   to complete the process."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In the Release page, you'll need to grab the archive URL. Expand the "},{type:b,tag:l,props:{},children:[{type:a,value:"Assets"}]},{type:a,value:" section and copy the url of the "},{type:b,tag:l,props:{},children:[{type:a,value:eH}]},{type:a,value:" archive you've just uploaded. In my case:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\u002Freleases\u002Fdownload\u002Fv0.1.0\u002Fespanso-mac.tar.gz\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:jO}]},{type:a,value:f},{type:b,tag:aD,props:{id:jE},children:[{type:b,tag:p,props:{href:"#preparing-the-github-repository",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:jF}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Homebrew offers a way to create third-party repositories, "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdocs.brew.sh\u002FTaps",rel:[x,y,z],target:A},children:[{type:a,value:"Taps"}]},{type:a,value:".  In a nutshell, "},{type:b,tag:P,props:{},children:[{type:a,value:"Taps are just GitHub repositories"}]},{type:a,value:" with specific names and a few configuration files."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We will need to create one to host our project. Go ahead and create a new "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Fnew",rel:[x,y,z],target:A},children:[{type:a,value:"GitHub repository"}]},{type:a,value:", having the following name:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"homebrew-\u003Cprojectname\u003E\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:jP},{type:b,tag:l,props:{},children:[{type:a,value:"\u003Cprojectname\u003E"}]},{type:a,value:" is the name of your project. In my case:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"homebrew-espanso\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"After cloning your brand new repository on your local machine, you are ready for the next step."}]},{type:a,value:f},{type:b,tag:aD,props:{id:jG},children:[{type:b,tag:p,props:{href:"#preparing-the-formula",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:jH}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"You'll now need to create a  "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdocs.brew.sh\u002FFormula-Cookbook",rel:[x,y,z],target:A},children:[{type:a,value:jQ}]},{type:a,value:" for your project, a very simple "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.ruby-lang.org\u002Fen\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Ruby"}]},{type:a,value:" file containing the instructions to install your binary on the user computers. In fact, Ruby knowledge is "},{type:b,tag:P,props:{},children:[{type:a,value:et}]},{type:a,value:" required."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In the cloned "},{type:b,tag:l,props:{},children:[{type:a,value:eI}]},{type:a,value:" directory, we will need the following file structure:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"- Formula\u002F\n    - espanso.rb\n- README.md\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"So go ahead and create the "},{type:b,tag:l,props:{},children:[{type:a,value:jQ}]},{type:a,value:" directory, containing the "},{type:b,tag:l,props:{},children:[{type:a,value:jR}]},{type:a,value:" file ( using the name of your project )."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:jS},{type:b,tag:l,props:{},children:[{type:a,value:jR}]},{type:a,value:" file, paste the following content:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cb]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# Documentation: https:\u002F\u002Fdocs.brew.sh\u002FFormula-Cookbook"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"#                https:\u002F\u002Frubydoc.brew.sh\u002FFormula"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# PLEASE REMOVE ALL GENERATED COMMENTS BEFORE SUBMITTING YOUR PULL REQUEST!"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:" Formula\n  desc "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jT}]}]},{type:a,value:"\n  homepage "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jU}]}]},{type:a,value:"\n  url "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jV}]}]},{type:a,value:"\n  sha256 "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jW}]}]},{type:a,value:"\n  version "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jX}]}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:jY}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,jZ]},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:j_}]}]},{type:a,value:j$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:ka},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:kb}]}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eK}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let's analyze it step by step. In the first line you have to change "},{type:b,tag:l,props:{},children:[{type:a,value:bR}]},{type:a,value:" with your projects name ( without spaces ):"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cb]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:N}]},{type:a,value:" Formula\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Then add a short description for your project:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cb]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"desc "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jT}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Then insert your project repository or website:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cb]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"homepage "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jU}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:jS},{type:b,tag:l,props:{},children:[{type:a,value:"url"}]},{type:a,value:" field insert the archive URL we obtained in the second section:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cb]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"url "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jV}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"And then the archive SHA256 hash we calculated earlier:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cb]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"sha256 "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jW}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Then insert your project version ( the same you used in the release tag ):"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cb]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"version "},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:jX}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"And finally, change "},{type:b,tag:l,props:{},children:[{type:a,value:ca}]},{type:a,value:" with your "},{type:b,tag:P,props:{},children:[{type:a,value:"binary executable filename"}]},{type:a,value:", obtained from the first section:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,cb]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:jY}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,jZ]},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:j_}]}]},{type:a,value:j$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:ka},{type:b,tag:c,props:{className:[d,bf]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:kb}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eK}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The last step is to "},{type:b,tag:P,props:{},children:[{type:a,value:"push"}]},{type:a,value:" the "},{type:b,tag:l,props:{},children:[{type:a,value:eI}]},{type:a,value:" repo to GitHub:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"git add -A\ngit commit -m \"First release\"\ngit push\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Here you can check the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fhomebrew-espanso",rel:[x,y,z],target:A},children:[{type:a,value:eI}]},{type:a,value:" repository."}]},{type:a,value:f},{type:b,tag:aD,props:{id:jI},children:[{type:b,tag:p,props:{href:"#installing-the-package",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:jJ}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"All right, if you followed me until here, your users are ready to install the package using Homebrew:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"brew tap federico-terzi\u002Fespanso\nbrew install espanso\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:jP},{type:b,tag:l,props:{},children:[{type:a,value:"federico-terzi\u002Fespanso"}]},{type:a,value:" is your GitHub username combined with the project name."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As an example, let's say your username is "},{type:b,tag:l,props:{},children:[{type:a,value:"jon-snow"}]},{type:a,value:", your project is called "},{type:b,tag:l,props:{},children:[{type:a,value:"wolf"}]},{type:a,value:" and your "},{type:b,tag:l,props:{},children:[{type:a,value:"homebrew-wolf"}]},{type:a,value:" repository url is:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"https:\u002F\u002Fgithub.com\u002Fjon-snow\u002Fhomebrew-wolf\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"the users will install your package using:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"brew tap jon-snow\u002Fwolf\nbrew install wolf\n"}]}]}]},{type:a,value:f},{type:b,tag:aD,props:{id:aO},children:[{type:b,tag:p,props:{href:bE,ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This was a basic way to publish your package on Homebrew, but things can get much better. In fact, on "},{type:b,tag:p,props:{href:cX,rel:[x,y,z],target:A},children:[{type:a,value:ca}]},{type:a,value:" I "},{type:b,tag:P,props:{},children:[{type:a,value:"automated the whole process"}]},{type:a,value:" using "},{type:b,tag:p,props:{href:"https:\u002F\u002Fazure.microsoft.com\u002Fen-us\u002Fservices\u002Fdevops\u002Fpipelines\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Azure Pipelines"}]},{type:a,value:" so that everytime I push an update to the "},{type:b,tag:l,props:{},children:[{type:a,value:kc}]},{type:a,value:" branch on GitHub, my project is automatically built, tested and published on Homebrew. Let me know if you're interested to know more about that :)"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you liked the article and want to stay up to date, follow me on "},{type:b,tag:p,props:{href:cF,rel:[x,y,z],target:A},children:[{type:a,value:cG}]},{type:a,value:cn},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi",rel:[x,y,z],target:A},children:[{type:a,value:"GitHub"}]},{type:a,value:" :)"}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:jK},{type:b,tag:p,props:{href:cX,rel:[x,y,z],target:A},children:[{type:a,value:ca}]},{type:a,value:jL},{type:b,tag:T,props:{},children:[{type:a,value:jM}]},{type:a,value:jN}]}]},dir:aV,path:"\u002Farticles\u002F2019-10-06-how-to-publish-your-rust-project-on-homebrew",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"how-to-publish-your-rust-project-on-homebrew"},{slug:"2019-09-03-3-great-python-tricks-you-may-not-know",description:"Python is a wonderful language. Other than being simple to learn and fast to write, it’s also very powerful thanks to its huge ecosystem. In fact, it has so many features that it’s easy to miss some good ones. In this article I’m going to show you 3 great Python tricks you may have missed:",layout:aS,title:"3 Great Python Tricks You May Not Know",author:aT,date:"2019-09-03T00:00:00.000Z",categories:"python tricks randomdevtricks development",toc:[{id:cI,depth:_,text:cI},{id:cr,depth:_,text:cr},{id:kd,depth:_,text:ke},{id:aO,depth:_,text:aP}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:kf},{type:b,tag:T,props:{},children:[{type:a,value:kg}]},{type:a,value:kh},{type:b,tag:P,props:{},children:[{type:a,value:ki}]},{type:a,value:kj}]},{type:a,value:f},{type:a,value:f},{type:b,tag:$,props:{id:cI},children:[{type:b,tag:p,props:{href:"#tqdm",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:cI}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you ever use Python to do some sort of elaboration, chances are you find yourself writing a for loop, iterating through a list of items to process each one them. For example:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bP]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bF}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:eL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:eM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:eN},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:dJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cE}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"But how could you track the status of the process if the code took more than a few seconds to complete? You probably would start adding some prints:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bP]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bF}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:eL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:eM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"Processing:\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:eN},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:dJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"Done!\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"While this is a working solution, a smarter approach would be using tqdm."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:P,props:{},children:[{type:a,value:cI}]},{type:a,value:" is a Python library that makes it easy to show a smart progress bar for almost any kind of loop processing. Let’s see an example:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The first thing to do is installing the package using pip:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"pip install tqdm\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Then we can use it in our code by simply wrapping the iterable inside the "},{type:b,tag:l,props:{},children:[{type:a,value:"tqdm()"}]},{type:a,value:" call:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bP]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ce}]},{type:a,value:" tqdm "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:" tqdm\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bF}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:a,value:" tqdm"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:eL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:eM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:eN},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:dJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cE}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Now if you execute this code, you will see a nice progress bar appear in your terminal."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"tqdm Progress Bar",src:"\u002Fposts\u002Ftqdmanimated.gif"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can see, besides the progress, it also shows the speed and the expected remaining time. The great thing is that you can use "},{type:b,tag:P,props:{},children:[{type:a,value:cI}]},{type:a,value:" with any iterable, making it trivial to improve your existing scripts!"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This library has many more features, so if you haven’t already, check out the"},{type:b,tag:p,props:{href:"https:\u002F\u002Ftqdm.github.io\u002F",rel:[x,y,z],target:A},children:[{type:a,value:" official documentation"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:$,props:{id:cr},children:[{type:b,tag:p,props:{href:"#defaultdict",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:cr}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"One of the best things about Python is its simplicity. Once you know the basic structures of the language, you can immediately start writing code with it. While being a great aspect, it sometimes causes people to miss some neat data structures, such as "},{type:b,tag:l,props:{},children:[{type:a,value:cr}]},{type:a,value:". Let’s see where it can be useful with an example:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Given a text, you want to group words by their initials. The structure we’re looking for here is a "},{type:b,tag:P,props:{},children:[{type:a,value:"dictionary of lists"}]},{type:a,value:", having the initials as key and a list of words as value, something like this:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"{\n    \"a\": [\"all\", \"although\", \"average\"],\n    \"b\": [\"best\", \"both\"],\n    ...\n}\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"So you start writing code, and you come up with something like this:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bP]},children:[{type:b,tag:l,props:{},children:[{type:a,value:kk},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"a long text but very interesting and fun\""}]},{type:a,value:"\ndata "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:eO}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bF}]},{type:a,value:dM},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:kl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:eP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"But then you get the following error:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"Traceback (most recent call last):\n  File \"main.py\", line 5, in \u003Cmodule\u003E\n    data[word[0]].append(word)\nKeyError: 'a'\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Of course, the first time you see an initial, the associated list is not initialized. Easy to fix, we must first check if the key is present and, if not, initialize the list:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bP]},children:[{type:b,tag:l,props:{},children:[{type:a,value:kk},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:km}]},{type:a,value:kn},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:eO}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bF}]},{type:a,value:dM},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bx}]},{type:a,value:" word"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:a,value:dA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:ko},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:eP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:ko},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"And now it is working, but the code became bloated with the check. "},{type:b,tag:P,props:{},children:[{type:a,value:cr}]},{type:a,value:" is meant to solve that problem. In particular, we can specify the "},{type:b,tag:T,props:{},children:[{type:a,value:"default value"}]},{type:a,value:" of a key that has never been accessed, such as an empty list. The code now becomes:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bP]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ce}]},{type:a,value:eQ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:" defaultdict\ntext "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:km}]},{type:a,value:kn},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:" defaultdict"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,af]},children:[{type:a,value:kp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:eO}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bF}]},{type:a,value:dM},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:kl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:eP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"As you can see, we completely removed the check, and the code is still working! This is possible because we replaced the dictionary with a "},{type:b,tag:T,props:{},children:[{type:a,value:"defaultdict,"}]},{type:a,value:" specifying "},{type:b,tag:T,props:{},children:[{type:a,value:kp}]},{type:a,value:" as the default value ( meaning an empty list )."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"A similar problem arises when we want to count the number of occurrences of each word in a text. While we could use a "},{type:b,tag:P,props:{},children:[{type:a,value:cr}]},{type:a,value:" with 0 as the default value, there’s a class made exactly for that purpose:"}]},{type:a,value:f},{type:b,tag:$,props:{id:kd},children:[{type:b,tag:p,props:{href:"#counter",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:ke}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The Counter class was specifically made to solve those kinds of problems, adding also a couple of extra goodies to the mix. For example:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We want to count the number of occurrences of each word in a text. With the Counter class, this is easily accomplished:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bP]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ce}]},{type:a,value:eQ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:" Counter\ntext "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:kq}]},{type:a,value:"\n\nc "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:kr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bF}]},{type:a,value:dM},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bq}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:"\n  c"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ag}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ho}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:cR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:eR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Actually we can do even better using the Counter’s constructor:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bP]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ce}]},{type:a,value:eQ},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:" Counter\n\ntext "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:kq}]},{type:a,value:"\nc "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:kr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:a},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:eR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"At this point, we can use some neat features such as the "},{type:b,tag:l,props:{},children:[{type:a,value:ks}]},{type:a,value:" method:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,bP]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"# Print the 3 most common words, along with their count"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:eR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:ks},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:"3"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:$,props:{id:aO},children:[{type:b,tag:p,props:{href:bE,ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"There are many other great tools hidden under the surface and I recommend you to check out the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdocs.python.org\u002F3\u002Flibrary\u002Fcollections.html",rel:[x,y,z],target:A},children:[{type:a,value:"official documentation of the collections package"}]},{type:a,value:" to see many more."}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:kf},{type:b,tag:T,props:{},children:[{type:a,value:kg}]},{type:a,value:kh},{type:b,tag:P,props:{},children:[{type:a,value:ki}]},{type:a,value:kj}]}]},dir:aV,path:"\u002Farticles\u002F2019-09-03-3-great-python-tricks-you-may-not-know",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"3-great-python-tricks-you-may-not-know"},{slug:"2019-08-27-how-to-build-remote-camera-app-android",description:"I love automating things, especially the boring ones. Having a Youtube channel, I found that editing videos can be very time-consuming and so I started thinking about ways to improve my workflow.",layout:aS,title:"Building a Remote Camera App for Android",author:aT,date:"2019-08-27T00:00:00.000Z",categories:"android development",toc:[{id:kt,depth:aC,text:ku},{id:kv,depth:aC,text:kw},{id:kx,depth:_,text:ky},{id:kz,depth:_,text:kA},{id:kB,depth:_,text:kC}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:kD},{type:b,tag:p,props:{href:cq,rel:[x,y,z],target:A},children:[{type:a,value:kE}]},{type:a,value:kF}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"My main bottlenecks are "},{type:b,tag:P,props:{},children:[{type:a,value:"cutting the video clips"}]},{type:a,value:aU},{type:b,tag:P,props:{},children:[{type:a,value:"transferring the videos to the PC"}]},{type:a,value:". Because I record those videos with my smartphone, I wanted an app that could:"}]},{type:a,value:f},{type:b,tag:ac,props:{},children:[{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Control the camera from my PC"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Organize the clip files in a way that makes editing easier"}]},{type:a,value:f},{type:b,tag:O,props:{},children:[{type:a,value:"Send the clips automatically to my computer"}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I searched for a while on the Play Store, but I couldn’t find an app that completely satisfied my needs and so, being a developer, "},{type:b,tag:T,props:{},children:[{type:a,value:"I decided to create my own"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:aD,props:{id:kt},children:[{type:b,tag:p,props:{href:"#forking-open-camera",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:ku}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Creating a Camera App isn’t a trivial task, so it made sense to start from an existing project. Luckily for me, Mark Harman created "},{type:b,tag:p,props:{href:"https:\u002F\u002Fopencamera.sourceforge.io\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Open Camera"}]},{type:a,value:", an awesome open-source camera App for Android that I used as a starting point."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The goal at this point was clear, "},{type:b,tag:P,props:{},children:[{type:a,value:"forking Open Camera"}]},{type:a,value:" and adding the "},{type:b,tag:P,props:{},children:[{type:a,value:"remote control"}]},{type:a,value:aU},{type:b,tag:P,props:{},children:[{type:a,value:"file transfer"}]},{type:a,value:" functionality."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The Open Camera repository is hosted on "},{type:b,tag:P,props:{},children:[{type:a,value:"Sourceforge"}]},{type:a,value:" but I wanted to fork it on "},{type:b,tag:P,props:{},children:[{type:a,value:"Github"}]},{type:a,value:". Thanks to the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Fnew\u002Fimport",rel:[x,y,z],target:A},children:[{type:a,value:"Github Importer"}]},{type:a,value:" utility, the process was painless."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Forking Open Camera on Github",src:"\u002Fposts\u002Fopencameraimport.png"},children:[]}]},{type:a,value:f},{type:b,tag:aD,props:{id:kv},children:[{type:b,tag:p,props:{href:"#compile-the-sources",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:kw}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"After cloning the repository, I was ready to open the project with Android Studio to study the source, but first, I had to check if I could compile the app."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I started the compilation process, but as I already had Open Camera installed on my smartphone, "},{type:b,tag:P,props:{},children:[{type:a,value:"I got a naming conflict"}]},{type:a,value:t}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Naming Conflict Package Android",src:"\u002Fposts\u002Fandroidnamingconflict.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This happened because both the original and my forked version "},{type:b,tag:T,props:{},children:[{type:a,value:"shared the same package id"}]},{type:a,value:". To fix this problem, all I had to do was to rename the package. All occurrences of "},{type:b,tag:l,props:{},children:[{type:a,value:"net.sourceforge.opencamera"}]},{type:a,value:" had been replaced with "},{type:b,tag:l,props:{},children:[{type:a,value:"com.federicoterzi.opencamerastudio"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This was easily accomplished with the "},{type:b,tag:P,props:{},children:[{type:a,value:"refactoring functions"}]},{type:a,value:" of Android Studio, combined with the very useful "},{type:b,tag:T,props:{},children:[{type:a,value:"Find in Path"}]},{type:a,value:" action."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"It’s also necessary to "},{type:b,tag:P,props:{},children:[{type:a,value:"change the folder structure"}]},{type:a,value:" to reflect the new package name. "},{type:b,tag:p,props:{href:"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F16804093\u002Frename-package-in-android-studio",rel:[x,y,z],target:A},children:[{type:a,value:"This StackOverflow question"}]},{type:a,value:" helped me in the process."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"At this point, I had a shiny new app on my smartphone, "},{type:b,tag:T,props:{},children:[{type:a,value:"Open Camera Studio"}]},{type:a,value:", ready to be tweaked."}]},{type:a,value:f},{type:b,tag:$,props:{id:kx},children:[{type:b,tag:p,props:{href:"#studying-the-source",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:ky}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I wanted to manage the camera app remotely, so the next thing to do was to find out "},{type:b,tag:P,props:{},children:[{type:a,value:"how Open Camera controlled the recordings"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I started digging in the source code. I wanted to find the UI code that triggered the recording and the class "},{type:b,tag:l,props:{},children:[{type:a,value:"MainUI"}]},{type:a,value:" caught my attention."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Open Camera MainUI class",src:"\u002Fposts\u002Fopencameraui.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Scrolling through the source, I stumbled upon the "},{type:b,tag:l,props:{},children:[{type:a,value:"onKeyDown"}]},{type:a,value:" method, apparently used to manage the events from volume buttons and selfie sticks, which in turn called the MainActivity’s takePicture method."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Open Camera Take Picture",src:"\u002Fposts\u002Fopencameratakepicture.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"After a bit of experimenting, I determined that the "},{type:b,tag:l,props:{},children:[{type:a,value:da}]},{type:a,value:" method enabled both the start and the stop of a video recording, so I was ready for the next phase."}]},{type:a,value:f},{type:b,tag:$,props:{id:kz},children:[{type:b,tag:p,props:{href:"#adding-remote-superpowers",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:kA}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"There are many ways to make the app capable of receiving remote commands, but I found that the most versatile one is the "},{type:b,tag:P,props:{},children:[{type:a,value:"bundled web server"}]},{type:a,value:" approach: a basic "},{type:b,tag:T,props:{},children:[{type:a,value:"HTTP web server"}]},{type:a,value:" is started in the app itself and other devices in the network can send requests ( such as commands ) and get responses ( such as video files )."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This solution also has the additional advantage that it could be possible to create a "},{type:b,tag:P,props:{},children:[{type:a,value:"Web App"}]},{type:a,value:", hosted by the web server itself, to control the smartphone from any web browser in the network. I chose a different route though because I wanted to keep things simple."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The easiest way to bundle a web server on Android is the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002FNanoHttpd\u002Fnanohttpd",rel:[x,y,z],target:A},children:[{type:a,value:"NanoHTTPD Library"}]},{type:a,value:", which can be used by including the following dependency in the Gradle config file:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"implementation 'org.nanohttpd:nanohttpd:2.3.1'\n"}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I was also necessary to add the following permissions in the "},{type:b,tag:l,props:{},children:[{type:a,value:"AndroidManifest.xml"}]},{type:a,value:t}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,"language-xml"]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:kG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ae]},children:[{type:b,tag:c,props:{className:[d,b_]},children:[{type:a,value:kH}]},{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,em]},children:[{type:b,tag:c,props:{className:[d,e,en]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ci}]},{type:a,value:"android.permission.ACCESS_WIFI_STATE"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ci}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:kG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ae]},children:[{type:b,tag:c,props:{className:[d,b_]},children:[{type:a,value:kH}]},{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,em]},children:[{type:b,tag:c,props:{className:[d,e,en]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ci}]},{type:a,value:"android.permission.INTERNET"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ci}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bC}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I then created the "},{type:b,tag:l,props:{},children:[{type:a,value:db}]},{type:a,value:" class extending the "},{type:b,tag:l,props:{},children:[{type:a,value:kI}]},{type:a,value:" class and overriding the "},{type:b,tag:l,props:{},children:[{type:a,value:dO}]},{type:a,value:" method. This function will be called anytime a client makes an HTTP request to the bundled webserver."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"At this point, I needed a way to trigger the "},{type:b,tag:l,props:{},children:[{type:a,value:da}]},{type:a,value:" method when the "},{type:b,tag:l,props:{},children:[{type:a,value:dO}]},{type:a,value:" method was called. Unfortunately, I could not call it directly as the "},{type:b,tag:l,props:{},children:[{type:a,value:da}]},{type:a,value:" method must be called from the "},{type:b,tag:P,props:{},children:[{type:a,value:"main thread"}]},{type:a,value:". So I used the powerful "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdeveloper.android.com\u002Freference\u002Fandroid\u002Fsupport\u002Fv4\u002Fcontent\u002FLocalBroadcastManager",rel:[x,y,z],target:A},children:[{type:a,value:eS}]},{type:a,value:" class to setup a receiver in the MainActivity that called the "},{type:b,tag:l,props:{},children:[{type:a,value:da}]},{type:a,value:" method and a "},{type:b,tag:P,props:{},children:[{type:a,value:"broadcast"}]},{type:a,value:" from the "},{type:b,tag:l,props:{},children:[{type:a,value:dO}]},{type:a,value:" method to trigger it:"}]},{type:a,value:f},{type:b,tag:dL,props:{id:"broadcastreceiver"},children:[{type:b,tag:p,props:{href:"#broadcastreceiver",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:eT}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In the MainActivity I added the receiver code:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,eU]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:kJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:eT}]},{type:a,value:" studioCommandReceiver "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:eT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,"annotation",e]},children:[{type:a,value:"@Override"}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:kK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:fX}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"onReceive"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"Context"}]},{type:a,value:" context"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:kL}]},{type:a,value:" intent"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:cp},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:da}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aA]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"And the code to register\u002Funregister it:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,eU]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:kK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"static"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"final"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:bz}]},{type:a,value:" STUDIO_BROADCAST_ID "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"STUDIO_BROADCAST\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Inside the onResume() method"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:eS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:eV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"registerReceiver"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:kM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:"\n                "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"IntentFilter"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:kN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F Inside the onPause() method"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:eS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:eV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"unregisterReceiver"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:kM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:dL,props:{id:"server"},children:[{type:b,tag:p,props:{href:"#server",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:"Server"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:l,props:{},children:[{type:a,value:db}]},{type:a,value:" class:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,"language-kotlin"]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"package"}]},{type:a,value:kO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:kP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:kQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"studio\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:kR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:kS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"Intent\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:kR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"support"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"v4"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:kS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"LocalBroadcastManager\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:kO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:kP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:kQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"MainActivity\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:" fi"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"iki"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"elonen"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"NanoHTTPD\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:kT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:kU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"File\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:ba}]},{type:a,value:kT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:kU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"IOException\n\n"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:db}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eX}]},{type:a,value:" mainActivity"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:" MainActivity"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eX}]},{type:a,value:" port "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:" Int"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:kI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"port"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"override"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:"fun"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"session"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:" IHTTPSession"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:t}]},{type:a,value:" Response "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eX}]},{type:a,value:" intent "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:kL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"MainActivity"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:kN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"\n        LocalBroadcastManager"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:eV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"mainActivity"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"sendBroadcast"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"intent"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"newFixedLengthResponse"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,bf,"singleline"]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"OK\""}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"And finally, the code to start the StudioServer in the MainActivity:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,eU]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:kJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:db}]},{type:a,value:" studioServer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F In the onCreate() method"}]},{type:a,value:"\nstudioServer "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:v}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:bG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:db}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:eW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:E}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:"8000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F In the onResume() method"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n    studioServer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"start"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:cO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,S]},children:[{type:a,value:"IOException"}]},{type:a,value:" e"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\n    e"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"printStackTrace"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:Z},{type:b,tag:c,props:{className:[d,L]},children:[{type:a,value:"\u002F\u002F In the onPause() method"}]},{type:a,value:"\nstudioServer"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"stop"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:q}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Now every time the MainActivity is opened, a "},{type:b,tag:P,props:{},children:[{type:a,value:"WebServer is started on port 8000"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let’s say the smartphone has 192.168.1.100 as IP, then any other device in the same network can access the server at the address: "},{type:b,tag:p,props:{href:kV,rel:[x,y,z],target:A},children:[{type:a,value:kV}]},{type:a,value:". Anytime a request is made, the app should start\u002Fstop a recording."}]},{type:a,value:f},{type:b,tag:$,props:{id:kB},children:[{type:b,tag:p,props:{href:"#whats-next",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:kC}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This was a very basic proof of concept you can use as a starting point when building something similar. I also added many features to the app, such as file transfer and clip naming, that you can check out in the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002FOpenCameraStudio",rel:[x,y,z],target:A},children:[{type:a,value:"Github Repository"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"In the next article, we will see how to create the Desktop control panel in Go."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Open Camera Studio Remote Desktop App",src:"\u002Fposts\u002FOCSDesktopGui.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Stay tuned :)"}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:kD},{type:b,tag:p,props:{href:cq,rel:[x,y,z],target:A},children:[{type:a,value:kE}]},{type:a,value:kF}]}]},dir:aV,path:"\u002Farticles\u002F2019-08-27-how-to-build-remote-camera-app-android",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"how-to-build-remote-camera-app-android"},{slug:"2019-08-23-how-to-force-github-pages-to-rebuild-jekyll-website",description:"A month ago I decided to rebuild my website using Jekyll for a couple of reasons: it’s the official tool used by Github Pages and it supports blogging. Considering also that Github Pages is free, this is pretty much one of the best ways to build a personal website nowadays and I'm very happy with the result.",layout:aS,title:"How to Force Github Pages to Rebuild Jekyll Website",author:aT,date:"2019-08-23T00:00:00.000Z",categories:"jekyll github pages",toc:[{id:kW,depth:aC,text:kX},{id:kY,depth:aC,text:kZ}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:k_},{type:b,tag:p,props:{href:k$,rel:[x,y,z],target:A},children:[{type:a,value:la}]},{type:a,value:lb},{type:b,tag:T,props:{},children:[{type:a,value:lc}]},{type:a,value:ld},{type:b,tag:P,props:{},children:[{type:a,value:le}]},{type:a,value:lf}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you plan to deploy a Jekyll website on Github Pages the process is straightforward: you "},{type:b,tag:P,props:{},children:[{type:a,value:"push your website source on the correct branch"}]},{type:a,value:" ( "},{type:b,tag:l,props:{},children:[{type:a,value:kc}]},{type:a,value:" for a personal website or "},{type:b,tag:l,props:{},children:[{type:a,value:"gh-pages"}]},{type:a,value:" for a project website ) and then the site gets compiled automatically by the Github Servers."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"While this works almost always correctly, "},{type:b,tag:P,props:{},children:[{type:a,value:"sometimes the servers don’t compile the source"}]},{type:a,value:", and the website gets stuck on the old version."}]},{type:a,value:f},{type:b,tag:aD,props:{id:kW},children:[{type:b,tag:p,props:{href:"#force-a-rebuild",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:kX}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Luckily for us, we can force a website rebuild using the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fdeveloper.github.com\u002Fv3\u002Frepos\u002Fpages\u002F#request-a-page-build",rel:[x,y,z],target:A},children:[{type:a,value:"Github API v3"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"We will use "},{type:b,tag:l,props:{},children:[{type:a,value:eY}]},{type:a,value:" to make the request. If you’re using "},{type:b,tag:P,props:{},children:[{type:a,value:"Linux"}]},{type:a,value:cn},{type:b,tag:P,props:{},children:[{type:a,value:"Mac OS"}]},{type:a,value:", it comes preinstalled with the system. If you’re using "},{type:b,tag:P,props:{},children:[{type:a,value:"Windows"}]},{type:a,value:", you can "},{type:b,tag:p,props:{href:"https:\u002F\u002Fcurl.haxx.se\u002Fwindows\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"download curl here"}]},{type:a,value:" or use "},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.getpostman.com\u002F",rel:[x,y,z],target:A},children:[{type:a,value:"Postman"}]},{type:a,value:" to make the request."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Open a Terminal and paste the following code, replacing "},{type:b,tag:l,props:{},children:[{type:a,value:"USER"}]},{type:a,value:" with your Github username and "},{type:b,tag:l,props:{},children:[{type:a,value:"REPOSITORY"}]},{type:a,value:" with your repository name."}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,dP]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:eY}]},{type:a,value:lg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:cK}]},{type:a,value:lh},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:li}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:cK}]},{type:a,value:lj},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"USER\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:cK}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'https:\u002F\u002Fapi.github.com\u002Frepos\u002FUSER\u002FREPOSITORY\u002Fpages\u002Fbuilds'"}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The command will prompt for your Github password, type it and press enter. If everything was correct, you should see a response like:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,aF]},children:[{type:b,tag:l,props:{},children:[{type:a,value:"{\n  \"url\": \"https:\u002F\u002Fapi.github.com\u002Frepos\u002Fgithub\u002Fdeveloper.github.com\u002Fpages\u002Fbuilds\u002Flatest\",\n  \"status\": \"queued\"\n}\n"}]}]}]},{type:a,value:f},{type:b,tag:aD,props:{id:kY},children:[{type:b,tag:p,props:{href:"#example",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:kZ}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let’s suppose my Github username is “bob” and therefore my personal website has a repository called “bob.github.io”. We use the command:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:[K,dP]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:eY}]},{type:a,value:lg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:cK}]},{type:a,value:lh},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:li}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:cK}]},{type:a,value:lj},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:hZ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:cK}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'https:\u002F\u002Fapi.github.com\u002Frepos\u002Fbob\u002Fbob.github.io\u002Fpages\u002Fbuilds'"}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"And then type the password."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:P,props:{},children:[{type:a,value:"If you encounter a 404 error"}]},{type:a,value:", double-check the URL and the credentials that you inserted, as they are probably incorrect."}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:k_},{type:b,tag:p,props:{href:k$,rel:[x,y,z],target:A},children:[{type:a,value:la}]},{type:a,value:lb},{type:b,tag:T,props:{},children:[{type:a,value:lc}]},{type:a,value:ld},{type:b,tag:P,props:{},children:[{type:a,value:le}]},{type:a,value:lf}]}]},dir:aV,path:"\u002Farticles\u002F2019-08-23-how-to-force-github-pages-to-rebuild-jekyll-website",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"how-to-force-github-pages-to-rebuild-jekyll-website"},{slug:"2019-08-22-turn-telegram-into-a-static-web-server-with-tlgur",description:"Telegram is one of the most popular messaging apps and probably the most loved by developers. The reasons are many, but I think that it mostly boils down to their openness, which led many programmers to create unique and interesting projects around it. Today I want to share one of those: TLGUR.",layout:aS,title:"Turn Telegram into a Static Web Server with TLGUR",author:aT,date:"2019-08-22T00:00:00.000Z",categories:"telegram randomdevtricks",toc:[{id:aO,depth:aC,text:aP}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:b,tag:T,props:{},children:[{type:a,value:lk}]},{type:a,value:ll},{type:b,tag:P,props:{},children:[{type:a,value:eZ}]},{type:a,value:s}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{href:lm,rel:[x,y,z],target:A},children:[{type:a,value:eZ}]},{type:a,value:" is a very simple Telegram bot, originally designed to share files and images with people who don’t use Telegram. In a nutshell, "},{type:b,tag:P,props:{},children:[{type:a,value:"after sending a file to the bot you receive a URL"}]},{type:a,value:", that you can then share with everyone."}]},{type:a,value:f},{type:b,tag:eF,props:{},children:[{type:a,value:"\n "},{type:b,tag:"video",props:{width:376,height:646,loop:ln,autoPlay:ln,style:"object-fit: cover"},children:[{type:a,value:"\n                                "},{type:b,tag:"source",props:{src:"\u002Fassets\u002Fvideos\u002Ftlgur.mp4",type:"video\u002Fmp4"},children:[]},{type:a,value:"\n                                Your browser does not support the video tag.\n                            "}]},{type:a,value:B},{type:b,tag:eG,props:{},children:[{type:a,value:lo},{type:b,tag:p,props:{href:lm},children:[{type:a,value:"TLGUR Official Website"}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This is already amazing, but for a developer, things can get even more interesting. Turns out that "},{type:b,tag:T,props:{},children:[{type:a,value:"the given link can be served as a static asset"}]},{type:a,value:" in a browser, such as a web page."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Let’s build a quick working example:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Create a \"test.html\" file with the following content:"}]},{type:a,value:f},{type:b,tag:D,props:{className:[I]},children:[{type:b,tag:J,props:{className:["language-html",K]},children:[{type:b,tag:l,props:{},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:lp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:lq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:lq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:lr}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:N}]},{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:"TLGUR is amazing"},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:lr}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,R]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bt}]},{type:a,value:lp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:M}]}]},{type:a,value:f}]}]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"And send it to the bot:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Bot Response",src:"\u002Fposts\u002Ftelegrambot.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:p,props:{href:"https:\u002F\u002Ftlgur.com\u002Fd\u002F89eJjoO8",rel:[x,y,z],target:A},children:[{type:a,value:"The result link"}]},{type:a,value:" can be visited with any web browser, and works as expected:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Web Page",src:"\u002Fposts\u002Ftelegrambotpage.png"},children:[]}]},{type:a,value:f},{type:b,tag:aD,props:{id:aO},children:[{type:b,tag:p,props:{href:bE,ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:aP}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"This opens a world of possibilities for quick experiments and, combined with the rest of Telegram APIs, could theoretically make it possible to host a full-blown website, possibly even a dynamic one. That said, this is not suited for production use and should not be abused."}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:b,tag:T,props:{},children:[{type:a,value:lk}]},{type:a,value:ll},{type:b,tag:P,props:{},children:[{type:a,value:eZ}]},{type:a,value:s}]}]},dir:aV,path:"\u002Farticles\u002F2019-08-22-turn-telegram-into-a-static-web-server-with-tlgur",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"turn-telegram-into-a-static-web-server-with-tlgur"},{slug:"2019-08-10-learning-how-to-type-properly-makes-you-a-better-programmer",description:"Like many people, I wasn’t a good typer. I started using computers when I was a kid and, by the time I grew into an adult, I developed my personal typing style, using only 5 fingers.",layout:aS,title:"Learning How to Type Properly Makes You a Better Programmer",author:aT,date:"2019-08-20T00:00:00.000Z",categories:"keyboard productivity",toc:[{id:ls,depth:aC,text:lt},{id:lu,depth:aC,text:lv},{id:lw,depth:aC,text:lx}],body:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:ly},{type:b,tag:T,props:{},children:[{type:a,value:lz}]},{type:a,value:s}]},{type:a,value:f},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Fingers",src:"\u002Fposts\u002Fhands.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Surprisingly, the biggest problem wasn’t the speed ( I achieved about 56 words per minute, an average speed ) but the "},{type:b,tag:T,props:{},children:[{type:a,value:"wrist movements"}]},{type:a,value:" I had to make. Other than being very inefficient, that would have probably caused me "},{type:b,tag:P,props:{},children:[{type:a,value:"pain"}]},{type:a,value:" in the long run."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"So about a year ago, I decided to relearn how to type "},{type:b,tag:P,props:{},children:[{type:a,value:"properly"}]},{type:a,value:", embracing the "},{type:b,tag:p,props:{href:"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FTouch_typing",rel:[x,y,z],target:A},children:[{type:a,value:"Touch Typing"}]},{type:a,value:" technique."}]},{type:a,value:f},{type:b,tag:aD,props:{id:ls},children:[{type:b,tag:p,props:{href:"#learning-touch-typing",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:lt}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"The first thing I did was "},{type:b,tag:P,props:{},children:[{type:a,value:"printing a keyboard layout diagram and sticking it on my monitor"}]},{type:a,value:", so each time I had a doubt, I could check the correct finger at a glance by watching the color."}]},{type:a,value:f},{type:b,tag:eF,props:{},children:[{type:a,value:B},{type:b,tag:X,props:{src:"\u002Fassets\u002Fimages\u002Fkeyboardlayout.png"},children:[]},{type:a,value:B},{type:b,tag:eG,props:{},children:[{type:a,value:lo},{type:b,tag:p,props:{href:"https:\u002F\u002Fwww.typing-lessons.org\u002F"},children:[{type:a,value:"Peter's Online Typing Course"}]}]},{type:a,value:f}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"At the same time, I started practicing on "},{type:b,tag:p,props:{href:"https:\u002F\u002F10fastfingers.com\u002Ftyping-test\u002Fenglish",rel:[x,y,z],target:A},children:[{type:a,value:"10 Fast Fingers"}]},{type:a,value:aU},{type:b,tag:p,props:{href:"http:\u002F\u002Fwww.speedcoder.net",rel:[x,y,z],target:A},children:[{type:a,value:"Speedcoder"}]},{type:a,value:" about 20 minutes a day."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"But the most important thing I did was to "},{type:b,tag:P,props:{},children:[{type:a,value:"force myself to write properly from that moment on"}]},{type:a,value:", even if it was difficult. And for the first week, it was very difficult."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"I started tracking my progress and after about 2 weeks I was achieving the same speed as my old method. Then, as time went on, my fluency kept improving, as you can tell from this graph:"}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:b,tag:X,props:{alt:"Typing Speed Graph",src:"\u002Fposts\u002Ftypingspeedgraph.png"},children:[]}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"After 2 months "},{type:b,tag:P,props:{},children:[{type:a,value:"I was comfortable with touch typing"}]},{type:a,value:", my speed greatly improved and I was ready for the next step:"}]},{type:a,value:f},{type:b,tag:aD,props:{id:lu},children:[{type:b,tag:p,props:{href:"#moving-to-the-us-keyboard-layout",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:lv}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"If you live in the US this may sound obvious to you, but "},{type:b,tag:P,props:{},children:[{type:a,value:"the English US Keyboard Layout is the best for programming"}]},{type:a,value:". Why? Because the people who invented most programming languages used that layout."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Being Italian, I always used the Italian layout and, while the letters and digits were arranged in the same way as the US layout (QWERTY), the symbols were not. "},{type:b,tag:P,props:{},children:[{type:a,value:"Most of the symbols commonly used in programming were difficult"}]},{type:a,value:", if not impossible, to write on an Italian keyboard ( looking at you ~ )."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"So I decided to learn the US layout by using the same approach as before: stick a layout picture on my monitor, practicing on training websites and forcing myself to type with it."}]},{type:a,value:f},{type:b,tag:aD,props:{id:lw},children:[{type:b,tag:p,props:{href:"#conclusions",ariaHidden:C,tabIndex:F},children:[{type:b,tag:c,props:{className:[G,H]},children:[]}]},{type:a,value:lx}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"After more than a year of touch typing on the US layout, I can say that "},{type:b,tag:P,props:{},children:[{type:a,value:"my overall productivity increased a lot"}]},{type:a,value:". Programming and other tasks, like using the terminal, are now a smoother experience."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"Of course, living in a non-English country, I still need to type with the Italian layout sometimes. Luckily for me, most operating systems offer a "},{type:b,tag:P,props:{},children:[{type:a,value:"quick shortcut to switch between layouts"}]},{type:a,value:" ( For example Win+Space on Windows )."}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"For those of you who are considering if learning how to type properly is worth it or not: "},{type:b,tag:P,props:{},children:[{type:a,value:"do it, it takes a little effort, but the reward is huge"}]},{type:a,value:s}]},{type:a,value:f},{type:b,tag:i,props:{},children:[{type:a,value:"PS: There are some other super-advanced layouts out there ( like Colemak and Dvorak ), but I’m not ready for those yet :)"}]}]},excerpt:{type:ap,children:[{type:b,tag:i,props:{},children:[{type:a,value:ly},{type:b,tag:T,props:{},children:[{type:a,value:lz}]},{type:a,value:s}]}]},dir:aV,path:"\u002Farticles\u002F2019-08-10-learning-how-to-type-properly-makes-you-a-better-programmer",extension:aW,createdAt:aq,updatedAt:aq,cleanedSlug:"learning-how-to-type-properly-makes-you-a-better-programmer"}]}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation","\n"," ","operator","p",")","(","code","keyword","}","{","a",";","function",".",":","string","=","\n    ","nofollow","noopener","noreferrer","_blank","\n  ","true","div",",",-1,"icon","icon-link","nuxt-content-highlight","pre","line-numbers","comment","\u003E","\u003C","li","strong","\n      ","tag","class-name","em","=\u003E","item","property-access","img","-","\n\n",2,"h2","\n        ","const","ul","arrow","attr-name","builtin","[","]","name","property","script","language-javascript","script-punctuation","parameter","\u002F","root","2022-08-15T14:40:33.457Z","number","selected","h1","macro","return","onClick","key","method","|","boolean","toggleItem",3,"h3","control-flow","language-text","println!","state","\n\n  ","\n          ","false","atrule","ListItem","::","conclusion","Conclusion","function-variable","type","post","Federico Terzi"," and ","\u002Farticles",".md","useCallback","!","plain-text","let","language-rust","import","user","===","fn","function-definition","string-literal","useState","error","  ","\"failure\"","dispatch","language-jsx","maybe-class-name"," pass","\n\n    ","&&","in","\"success\"","includes","\u003C\u002F"," nextProps","\n    \n    ","...","if","undefined","String","?"," item","\u002F\u003E","React.memo","#conclusion","for","new","userToken","handleLogin","\n  type","\"pending\"","case","map","data","MemoizedListItem","language-python","word","Espanso","blockquote","language-ts"," type","\n      type","\n      loading","setSelected","selectedItems","0","namespace","main","espanso","language-ruby"," $","App","from","unknown","\n\n      ","handleLogout","\""," action","List"," toggleItem ","language-js"," or ","handleClick","\n            ","https:\u002F\u002Fwww.youtube.com\u002Fc\u002FFedericoTerzi","defaultdict","id","login","else"," newUserToken "," initialState","\"logout\"","action","\n        loading","module","prevSelected","&","closure-punctuation","2","https:\u002F\u002Ftwitter.com\u002Fterzi_federico","Twitter","&str","tqdm"," item ","\\","default","setUserToken","try","catch","useReducer","reducer","1","!==","\n    prevProps","Cow","str","panic","https:\u002F\u002Fespanso.org","Memory model","print","split","\" \"","takePicture","StudioServer","https:\u002F\u002Fespanso.org\u002F","language-yaml","e","\n        type","button onClick","button","export","loading","async","setLoading","await",", ","State","\n  loading","\n  error","\n  userToken"," State ","type "," i ","literal-property","spread","filter","current"," current "," data","memo"," handleClick ","'s ","isEnabled","https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso","use","-\u003E","\"{}\"","*","Youtube","h4"," word "," text","serve","language-bash","keychain ","In the last decade, many functional programming concepts have been making their way into modern, non-functional languages. Instead of going all-in, developers can choose to gradually adopt some of the paradigms in their applications, enjoying the best of both worlds.","Making invalid states unrepresentable","The ","\"react\"","value","setError","div className","\"App\"","Login Example","loading ","Loading","An error occurred","LoginBox onLogin","You're logged "," Your user token ","is","Logout","\n        error","failure","loading = false","\"idle\"","React is the most popular front-end framework, and that’s for a reason. Besides being funded by one of the largest companies on the planet, it’s also built around a few key concepts (one-way data flow, immutable data, functional components, hooks) that make it easier than ever to create robust applications. That said, it’s not without pitfalls."," i","attr-value","attr-equals"," selectedItems","expensiveOperation","prevProps","color","??","not","std","capitalize","unwrap","\u002F\u002F Output:","set_hook","closure-params","Use the ","constant","This question comes up a lot lately, especially when considering if learning Rust is worth it or not, and so I thought it could be a wonderful opportunity to write a new article, discussing the differences between the two, as well as what they share in common.","Unless you’ve been living under a rock for the past 5 years, chances are you have used an Electron-based application at least once in your life. For those (probably few) who don’t know what Electron is, it’s a cross-platform desktop app framework built on top of Chromium and NodeJS (which in turn is based on Chrome’s V8 engine).","\"hello\"","figure","figcaption","espanso-mac.tar.gz","homebrew-espanso","class","end","range","10000000","\n    result ","# Cycle through each word, appending it to the correct list","append"," collections ","c","LocalBroadcastManager","BroadcastReceiver","language-java","getInstance","this","val","curl","TLGUR","generating-an-app-specific-password","Generating an app-specific password","getting-your-team-id","Getting your Team ID","setting-up-the-secrets","Setting up the Secrets","defining-the-code-signing-step","Defining the Code-signing step","defining-the-notarization-step","Defining the Notarization step","bonus-troubleshooting-notarization-issues","Bonus: troubleshooting Notarization issues","acknowledgments","Acknowledgments","After almost 3 years, we finally took the necessary steps to code-sign ",". This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice.","Selecting the right option from the “Create a New Certificate” section","Keychain Access","https:\u002F\u002Flocalazy.com\u002Fblog\u002Fhow-to-automatically-sign-macos-apps-using-github-actions","Certificates.base64","Team ID","PROD_MACOS_NOTARIZATION_APPLE_ID","PROD_MACOS_NOTARIZATION_PWD","PROD_MACOS_NOTARIZATION_TEAM_ID","target\u002Fmac\u002FEspanso.app","# Extract the secrets we defined earlier as environment variables","env","run","scalar","apple","codesign","https:\u002F\u002Fdeveloper.apple.com\u002Fdocumentation\u002Fsecurity\u002Fhardened_runtime","profile\" ","keychain","profile \"notarytool","ID","The single, most important trick to build robust applications","our-example","Our example","the-problem","The problem","a-better-approach-but-still-not-optimal","A better approach (but still not optimal)","making-invalid-states-unrepresentable","final-thoughts","Final thoughts","A ","LoginBox","Login"," useState ","onLogin","void","\"\"","pass","label htmlFor","label","\n        value","\n        onChange","target","\"pass\"","Promise","resolve","\"test\"","generic-function","generic","newUserToken","\u002F\u002F We need to explicitly tell react that we are not loading anymore","error ","userToken ","setError(undefined)","As you can see, ","PendingAction","SuccessAction","FailureAction","LogoutAction","Action"," PendingAction "," SuccessAction "," FailureAction "," LogoutAction"," State"," Action","switch","\n        userToken","userToken\n      ","error\n      "," dispatch"," userToken"," error ","    ","+","loading: false","\n      userToken","\n      error","console","log"," in the ",").","a-common-anti-pattern","A common anti-pattern","refactoring-the-listitem-component","Refactoring the ListItem component","another-common-anti-pattern","Another common anti-pattern","a-note-on-functional-state-updates","A note on functional state updates","imports","100","n","template-punctuation","`","interpolation-punctuation"," setSelected"," name"," selected"," onClick ","\u002F\u002F Run an expensive operation to simulate a load","\u002F\u002F In real-world JS applications, this could be either a custom","\u002F\u002F JS elaboration or a complex render.","style","selected ","textDecoration","\"line-through\"","nil","+=","shallow comparison","\n         prevProps","useMemo"," prevSelected","using-cowstr-as-return-type","Using Cow\u003Cstr\u003E as return type","crossbeam-channels-instead-of-the-standard-ones","Crossbeam channels instead of the standard ones","golang-like-defer-operator-with-scopeguard","Golang-like defer operator with Scopeguard","cargo-make-for-packaging","Cargo-make for packaging","customize-and-chain-panic-handlers","Customize and chain Panic handlers","use-rust-analyzer-on-vscode","Use Rust Analyzer on VSCode","use-impl-trait-when-working-with-closures","Use impl Trait when working with Closures","enable-clippy-on-save-for-vscode","Enable Clippy on Save for VSCode","use-thiserror-and-anyhow-for-idiomatic-error-handling","Use “thiserror” and “anyhow” for idiomatic error handling","using-dbg-macro-instead-of-println","Using dbg!() macro instead of println!()","include_str-and-include_bytes-macros","include_str!() and include_bytes!() macros","integrating-with-cc-code","Integrating with C\u002FC++ code","Rust is a great programming language: reliable, fast, enjoyable, but also rather complex. Over the past two years, I’ve been using it both professionally and on side projects (such as ",") and, over that time, I stumbled upon many useful patterns and crates that I wish I knew when I first started learning it.","chars","Some","first_char"," first_char","Borrowed","\n              ","\"bob\"","Duration","s1","unbounded","i32","10","recv"," msg "," msg","scopeguard","attribute","extern"," prev_hook ","take_hook","Box","move"," panic","\n        \n        ","prev_hook","    \n    ","A","FnOnce","\"setting up...\"","\"tearing down...\"","setup_teardown","dbg!","FILE_CONTENT","\"nativemodule\"","similarities","Similarities","memory-and-thread-safety","Memory and Thread safety","unsafe-rust","Unsafe Rust","package-management-and-ecosystem","Package management and ecosystem","macros","Macros","cross-platform-core-native-ui","Cross-platform Core, Native UI","bonus","Bonus:","qt","QT","localhost-server","Localhost server","embedding-the-systems-webview","Embedding the system’s webview","notable-mentions","Notable mentions","If you liked the article, follow me on ","memory-model","string-literals","String literals","tips-for-beginners","Tips for beginners","When I started learning Rust a couple of years ago, the first thing that really got me thinking was strings. You see, in Rust, there are 2 string types: the "," and the "," types.","var s ","\" hello \"","trim","S","to_string"," is of type "," s2","validating-a-regex","Validating a Regex","extracting-data","Extracting data","substitution","Substitution","code-generation","Code generation","If you've been programming for a while, you will surely know how useful ","regular expressions"," can be when dealing with text.","You may want to validate a string (such as checking whether an email field is valid) or extract some information from formatted text. In both cases, building the right regex can take many attempts.","https:\u002F\u002Fregex101.com\u002F","Regex101","SUBSTITUTION","As a developer myself, I know how hard it can be to promote a project. You spent weeks, months, or even years, developing your idea, only to find out later that nobody is noticing it.","Turns out that promotion, probably the least favourable thing for a programmer, is important as well.","preparing-the-binary","Preparing the binary","uploading-to-github-releases","Uploading to Github Releases","preparing-the-github-repository","Preparing the Github Repository","preparing-the-formula","Preparing the Formula","installing-the-package","Installing the Package","Last week I finally released the first version of ",", a cross-platform, system-wide ","Text Expander"," written in Rust.","Save it somewhere, we will need it later.","Where ","Formula","espanso.rb","In the ","\"Cross-platform Text Expander written in Rust\"","\"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\"","\"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\u002Freleases\u002Flatest\u002Fdownload\u002Fespanso-mac.tar.gz\"","\"2473866b99eef9ea983200b7aac91592b938404ffaa1fb8c72beacb2ebd3203a\"","\"0.1.0\"","def","method-definition","install","\n    bin","install ","\"espanso\"","master","counter","Counter","Python is a ","wonderful"," language. Other than being simple to learn and fast to write, it’s also very powerful thanks to its ","huge ecosystem",". In fact, it has so many features that it’s easy to miss some good ones. In this article I’m going to show you 3 great Python tricks you may have missed:","text ","\n    data","'a long text but very interesting and fun'","\n\ndata ","\n        data","list","'and another long text but interesting and fun'"," Counter","most_common","forking-open-camera","Forking Open Camera","compile-the-sources","Compile the Sources","studying-the-source","Studying the Source","adding-remote-superpowers","Adding Remote Superpowers","whats-next","What’s next?","I love automating things, especially the boring ones. Having a ","Youtube channel",", I found that editing videos can be very time-consuming and so I started thinking about ways to improve my workflow.","uses-permission","android:","NanoHTTPD","private","public","Intent","studioCommandReceiver","STUDIO_BROADCAST_ID"," com","federicoterzi","opencamerastudio"," android","content"," java","io","http:\u002F\u002F192.168.1.100:8000\u002F","force-a-rebuild","Force a Rebuild","example","Example","A month ago I decided to rebuild my website using ","https:\u002F\u002Fjekyllrb.com","Jekyll"," for a couple of reasons: it’s the official tool used by ","Github Pages"," and it supports ","blogging",". Considering also that Github Pages is free, this is pretty much one of the best ways to build a personal website nowadays and I'm very happy with the result."," -X POST ","\n    --header ","'Accept: application\u002Fvnd.github.mister-fantastic-preview+json'","\n    -u ","Telegram"," is one of the most popular messaging apps and probably the most loved by developers. The reasons are many, but I think that it mostly boils down to their openness, which led many programmers to create unique and interesting projects around it. Today I want to share one of those: ","https:\u002F\u002Ftlgur.com\u002F",true,"Image from ","html","head","body","learning-touch-typing","Learning Touch Typing","moving-to-the-us-keyboard-layout","Moving to the US Keyboard layout","conclusions","Conclusions","Like many people, I wasn’t a good typer. I started using computers when I was a kid and, by the time I grew into an adult, I developed my personal typing style, using ","only 5 fingers")));
__NUXT_JSONP__("/", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH){return {data:[{articles:[{slug:"2022-08-15-automatic-code-signing-and-notarization-for-macos-apps-using-github-actions",description:"After almost 3 years, we finally took the necessary steps to code-sign Espanso. This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice.",layout:cw,title:"Automatic Code-signing and Notarization for macOS apps using GitHub Actions",author:cx,date:"2022-08-15T00:00:00.000Z",categories:"ci github actions macos code sign signing notarize notarization automatic certificate",social_title:"Automatic Code-signing and Notarization for macOS apps",social_subtitle:"using GitHub Actions",toc:[{id:di,depth:aB,text:dj},{id:dk,depth:aB,text:dl},{id:dm,depth:aB,text:dn},{id:do0,depth:aB,text:dp},{id:dq,depth:aB,text:dr},{id:ds,depth:aB,text:dt},{id:du,depth:aB,text:dv}],body:{type:bE,children:[{type:b,tag:m,props:{},children:[{type:a,value:dw},{type:b,tag:C,props:{href:dx,rel:[Z,_,$],target:aa},children:[{type:a,value:dy}]},{type:a,value:dz}]},{type:a,value:h},{type:a,value:h},{type:b,tag:at,props:{id:"prerequisites"},children:[{type:b,tag:C,props:{href:"#prerequisites",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Prerequisites"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Having a paid "},{type:b,tag:C,props:{href:"https:\u002F\u002Fdeveloper.apple.com\u002Fprograms\u002F",rel:[Z,_,$],target:aa},children:[{type:a,value:"Apple Developer Program"}]},{type:a,value:" subscription. This costs about ~$99 per year depending on your country and is necessary to generate the required certificates."}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Having a CI that builds your final App bundle. This bundle can be generated in a lot of different ways, just keep in mind we’ll need the final "},{type:b,tag:n,props:{},children:[{type:a,value:"bundle.app"}]},{type:a,value:" inside the CI to perform the signing and notarization. This article won't cover the bundle generation, so please take care of that beforehand if you haven't already."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:at,props:{id:"generating-the-certificate"},children:[{type:b,tag:C,props:{href:"#generating-the-certificate",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Generating the Certificate"}]},{type:a,value:h},{type:b,tag:bi,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"If you have already generated a certificate for your app, feel free to skip this section"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In order to sign the app, we need a valid certificate issued from Apple. You can issue one following these steps:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Navigate to the Apple Developer portal into the "},{type:b,tag:C,props:{href:"https:\u002F\u002Fdeveloper.apple.com\u002Faccount\u002Fresources\u002Fcertificates\u002Flist",rel:[Z,_,$],target:aa},children:[{type:a,value:"Certificates, Identifiers & Profiles section"}]},{type:a,value:" and select “Create a New Profile”"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"You’ll be asked to choose a certificate type, select “Developer ID Application” from the options and then continue"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:dA,src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:dA}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"For the “Developer ID Certificate Intermediary” choose "},{type:b,tag:n,props:{},children:[{type:a,value:"G2 Sub-CA (Xcode 11.4.1 or later)"}]},{type:a,value:" and keep this webpage open, we’ll get back to it later"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Certificate Intermediary selection",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%201.png"},children:[]}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Then, we need to generate a "},{type:b,tag:ar,props:{},children:[{type:a,value:"Certificate Signing Request (CSR)."}]},{type:a,value:" We can do so by opening the “Keychain Access” app on macOS, selecting "},{type:b,tag:n,props:{},children:[{type:a,value:"Certificate Assistant \u003E Request a Certificate From a Certificate Authority..."}]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Generate a CSR",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%202.png"},children:[]}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"You’ll be prompted for some information, make sure to specify the same email you used for your paid Apple Developer subscription, then check the "},{type:b,tag:n,props:{},children:[{type:a,value:"Save to Disk"}]},{type:a,value:" option, and click "},{type:b,tag:n,props:{},children:[{type:a,value:"Continue"}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Certificate information",src:"\u002Fposts\u002Fmacos-code-sign\u002FScreenshot_2022-08-15_at_11.26.54.png"},children:[]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"This will create a "},{type:b,tag:n,props:{},children:[{type:a,value:"CertificateSigningRequest.certSigningRequest"}]},{type:a,value:" file in your location of choice. Go back to the “Create a New Certificate” webpage we opened earlier and click on “Choose File”, selecting the certificate request file we just created. Finally, click “Continue”"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"On the Apple Developer portal, you should now see your new certificate. Download it and open it using the "},{type:b,tag:n,props:{},children:[{type:a,value:dB}]},{type:a,value:" app on your mac. It should look like this:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Final certificate inside Keychain Access",src:"\u002Fposts\u002Fmacos-code-sign\u002FScreenshot_2022-08-15_at_11.39.43.png"},children:[]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Please note down the full name of the certificate (such as "},{type:b,tag:n,props:{},children:[{type:a,value:"Developer ID Application: Your Name (K1234)"}]},{type:a,value:", as we will need it later)"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"This certificate is ready to be used locally, but we want to export it in a format that is usable inside an automated (and headless) CI environment. For this reason, we are going to use the same trick from "},{type:b,tag:C,props:{href:dC,rel:[Z,_,$],target:aa},children:[{type:a,value:"this great article"}]},{type:a,value:" by Localazy, exporting the certificate file and then encoding it as base64."}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Select both the certificate (Developer ID Application: …) and the private key (the item below), then right click and choose “Export 2 items…”"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In the panel that opens up, select a target location for the certificate file and choose "},{type:b,tag:n,props:{},children:[{type:a,value:"Personal Information Exchange (.p12)"}]},{type:a,value:" format."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"You’ll be asked for a password, generate a strong one using your tool of choice and note it down, as we’ll need it in the upcoming steps"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Open a terminal, "},{type:b,tag:n,props:{},children:[{type:a,value:"cd"}]},{type:a,value:" into the directory in which you created the certificate file, and convert it into base64 using this command:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,"language-bash"]},children:[{type:b,tag:n,props:{},children:[{type:a,value:"base64 Certificates "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:" Certificates.base64\n"}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"This command will create a new "},{type:b,tag:n,props:{},children:[{type:a,value:dD}]},{type:a,value:" file with the certificate encoded as base64 string. Keep this file around, as we’ll need it when populating the GitHub Actions secrets."}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:at,props:{id:"gathering-the-notarization-information"},children:[{type:b,tag:C,props:{href:"#gathering-the-notarization-information",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Gathering the Notarization information"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Before diving into the GitHub Actions setup, we need to gather some more information for the notarization step:"}]},{type:a,value:h},{type:b,tag:aC,props:{id:di},children:[{type:b,tag:C,props:{href:"#generating-an-app-specific-password",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dj}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"We need to generate an Apple’s "},{type:b,tag:C,props:{href:"https:\u002F\u002Fsupport.apple.com\u002Fen-us\u002FHT204397",rel:[Z,_,$],target:aa},children:[{type:a,value:"app-specific password"}]},{type:a,value:" for the notarization step:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Navigate and sign in to "},{type:b,tag:C,props:{href:"https:\u002F\u002Fappleid.apple.com\u002Faccount\u002Fhome",rel:[Z,_,$],target:aa},children:[{type:a,value:"appleid.apple.com"}]},{type:a,value:" using the same account as your paid Apple Developer subscription"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"On the "},{type:b,tag:C,props:{href:"https:\u002F\u002Fappleid.apple.com\u002Faccount\u002Fmanage",rel:[Z,_,$],target:aa},children:[{type:a,value:"Sign-in and Security page"}]},{type:a,value:", select “App-Specific Passwords”"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"App-specific password",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%203.png"},children:[]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Then select “Generate App-Specific Password”, and give it a meaningful name, such as “Project CI Notarization”"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Then, enter your account password and finally “Continue”"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"You should now see a generated password, please note it down as we’ll need it later."}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:aC,props:{id:dk},children:[{type:b,tag:C,props:{href:"#getting-your-team-id",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dl}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Head over to the "},{type:b,tag:C,props:{href:"https:\u002F\u002Fdeveloper.apple.com\u002Faccount\u002F#!\u002Fmembership",rel:[Z,_,$],target:aa},children:[{type:a,value:"membership page"}]},{type:a,value:", logging in if necessary"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Inside the page, you should see a "},{type:b,tag:n,props:{},children:[{type:a,value:dE}]},{type:a,value:" field. Note it down, as we will need it later"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:at,props:{id:"setting-up-the-github-actions-pipeline"},children:[{type:b,tag:C,props:{href:"#setting-up-the-github-actions-pipeline",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Setting up the GitHub Actions pipeline"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Now that we gathered all the necessary information, it’s time to set up the GitHub Actions steps that will code-sign and notarize our app."}]},{type:a,value:h},{type:b,tag:aC,props:{id:dm},children:[{type:b,tag:C,props:{href:"#setting-up-the-secrets",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dn}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Navigate to your GitHub project Settings \u003E Security \u003E Secrets \u003E Actions. Here we’ll need to register several secrets for the process to work correctly, so let’s start:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:"PROD_MACOS_CERTIFICATE"}]},{type:a,value:" should contain the base64 of the certificate we generated earlier. In particular, you should paste the content of the "},{type:b,tag:n,props:{},children:[{type:a,value:dD}]},{type:a,value:" file here"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:"PROD_MACOS_CERTIFICATE_NAME"}]},{type:a,value:" should contain the full certificate name, such as "},{type:b,tag:n,props:{},children:[{type:a,value:"Developer ID Application: Your Name (K1234567)"}]}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:"PROD_MACOS_CERTIFICATE_PWD"}]},{type:a,value:" should contain the password you choose when exporting the certificate from the "},{type:b,tag:n,props:{},children:[{type:a,value:dB}]},{type:a,value:" app"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:dF}]},{type:a,value:" should contain your apple developer email, the same you use for the Apple Developer subscription"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:dG}]},{type:a,value:" should contain the app-specific password we generated earlier"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:dH}]},{type:a,value:" should contain the "},{type:b,tag:n,props:{},children:[{type:a,value:dE}]},{type:a,value:" we got earlier from the membership page"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:"PROD_MACOS_CI_KEYCHAIN_PWD"}]},{type:a,value:" should contain a strong, randomly generated password. Feel free to use your tool of choice for this."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"If you did everything right, you should end up with these 7 secrets in your GitHub Actions:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Github Secrets",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%204.png"},children:[]}]},{type:a,value:h},{type:b,tag:aC,props:{id:do0},children:[{type:b,tag:C,props:{href:"#defining-the-code-signing-step",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dp}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Now that we have all our secrets in place, we are ready to define the code-signing step. For the sake of these examples, we assume that the app bundle will be placed in the "},{type:b,tag:n,props:{},children:[{type:a,value:dI}]},{type:a,value:" path inside the CI environment. Make sure to replace it with the appropriate location of your app."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"This is what the GitHub Actions step should look like in the end, with comments explaining the various sections:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bV]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" Codesign app bundle\n  "},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:dJ}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:dK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" \n    "},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:"MACOS_CERTIFICATE"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" secrets.PROD_MACOS_CERTIFICATE "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:"MACOS_CERTIFICATE_PWD"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" secrets.PROD_MACOS_CERTIFICATE_PWD "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:"MACOS_CERTIFICATE_NAME"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" secrets.PROD_MACOS_CERTIFICATE_NAME "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:"MACOS_CI_KEYCHAIN_PWD"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" secrets.PROD_MACOS_CI_KEYCHAIN_PWD "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:dL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,dM,v]},children:[{type:a,value:"\n    # Turn our base64-encoded certificate back to a regular .p12 file"}]},{type:a,value:"\n    \n    echo $MACOS_CERTIFICATE "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:av}]},{type:a,value:" base64 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"decode "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" certificate.p12\n\n    "},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# We need to create a new keychain, otherwise using the certificate will prompt"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# with a UI dialog asking for the certificate password, which we can't"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# use in a headless CI environment"}]},{type:a,value:"\n    \n    security create"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"p \"$MACOS_CI_KEYCHAIN_PWD\" build.keychain \n    security default"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"s build.keychain\n    security unlock"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"p \"$MACOS_CI_KEYCHAIN_PWD\" build.keychain\n    security import certificate.p12 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"k build.keychain "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"P \"$MACOS_CERTIFICATE_PWD\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"T \u002Fusr\u002Fbin\u002Fcodesign\n    security set"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"partition"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"list "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"S apple"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"tool"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:dO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"s "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"k \"$MACOS_CI_KEYCHAIN_PWD\" build.keychain\n\n    "},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# We finally codesign our app bundle, specifying the Hardened runtime option"}]},{type:a,value:"\n    \n    \u002Fusr\u002Fbin\u002Fcodesign "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"force "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"s \"$MACOS_CERTIFICATE_NAME\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"options runtime target\u002Fmac\u002FEspanso.app "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"v\n"}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"A note before proceeding further:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Specifying the "},{type:b,tag:n,props:{},children:[{type:a,value:"--options runtime"}]},{type:a,value:" flag for the "},{type:b,tag:n,props:{},children:[{type:a,value:dO}]},{type:a,value:" command enables the "},{type:b,tag:C,props:{href:dP,rel:[Z,_,$],target:aa},children:[{type:a,value:"Hardened Runtime"}]},{type:a,value:" for our app. This is necessary to pass the following notarization step (otherwise it fails when notarizing), but this might interfere with your app, as it disables JIT and other dynamic features. If you need them, you’ll need to specify the exceptions in your app’s entitlement file, as explained in the "},{type:b,tag:C,props:{href:dP,rel:[Z,_,$],target:aa},children:[{type:a,value:"hardened runtime"}]},{type:a,value:" documentation."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:aC,props:{id:dq},children:[{type:b,tag:C,props:{href:"#defining-the-notarization-step",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dr}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"After the code-signing step, our app is ready to be Notarized, which is necessary to prevent macOS from showing a scary warning to our users when opening the app."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"The GitHub Action step should look like the following. This again assumes that the app bundle is located in the "},{type:b,tag:n,props:{},children:[{type:a,value:dI}]},{type:a,value:" path, so adapt it accordingly:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bV]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"\"Notarize app bundle\""}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:dJ}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:dK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:dF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" secrets.PROD_MACOS_NOTARIZATION_APPLE_ID "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:dH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" secrets.PROD_MACOS_NOTARIZATION_TEAM_ID "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:dG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" secrets.PROD_MACOS_NOTARIZATION_PWD "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:dL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:av}]},{type:b,tag:c,props:{className:[d,dM,v]},children:[{type:a,value:"\n    # Store the notarization credentials so that we can prevent a UI password dialog\n    # from blocking the CI"}]},{type:a,value:"\n\n    echo \"Create keychain profile\"\n    xcrun notarytool store"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"credentials \"notarytool"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"id \"$PROD_MACOS_NOTARIZATION_APPLE_ID\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"team"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"id \"$PROD_MACOS_NOTARIZATION_TEAM_ID\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"password \"$PROD_MACOS_NOTARIZATION_PWD\"\n\n    "},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# We can't notarize an app bundle directly, but we need to compress it as an archive."}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# Therefore, we create a zip file containing our app bundle, so that we can send it to the"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# notarization service"}]},{type:a,value:"\n\n    echo \"Creating temp notarization archive\"\n    ditto "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"c "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"k "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"keepParent \"target\u002Fmac\u002FEspanso.app\" \"notarization.zip\"\n\n    "},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# Here we send the notarization request to the Apple's Notarization service, waiting for the result."}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# This typically takes a few seconds inside a CI environment, but it might take more depending on the App"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# characteristics. Visit the Notarization docs for more information and strategies on how to optimize it if"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# you're curious"}]},{type:a,value:"\n\n    echo \"Notarize app\"\n    xcrun notarytool submit \"notarization.zip\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:dR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:dS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"wait\n\n    "},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# Finally, we need to \"attach the staple\" to our executable, which will allow our app to be"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"# validated by macOS even when an internet connection is not available."}]},{type:a,value:"\n    echo \"Attach staple\"\n    xcrun stapler staple \"target\u002Fmac\u002FEspanso.app\"\n"}]}]}]},{type:a,value:h},{type:b,tag:aC,props:{id:ds},children:[{type:b,tag:C,props:{href:"#bonus-troubleshooting-notarization-issues",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dt}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"While you are testing the notarization process, it might happen that the above GitHub Action step fails, with an error like:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bV]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:"Current status"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" Invalid"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aV}]},{type:a,value:".Processing complete\n  "},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" \u003CRANDOM"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:dT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aj,ay]},children:[{type:a,value:"status"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:r}]},{type:a,value:" Invalid\n"}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In these cases, you can view the notarization logs by using the following command (replacing "},{type:b,tag:n,props:{},children:[{type:a,value:"\u003CRANDOM-ID\u003E"}]},{type:a,value:" with the actual one, which you can see in the step logs)"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bV]},children:[{type:b,tag:n,props:{},children:[{type:a,value:"xcrun notarytool log \u003CRANDOM"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:dT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:dR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:dS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:G}]},{type:a,value:"profile\"\n"}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:dU},children:[{type:b,tag:C,props:{href:dV,ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dW}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Your app should now be fully code-signed and notarized, great job! As a result, no more scary warnings will be shown to your users:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Warnings before and after",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%205.png"},children:[]}]},{type:a,value:h},{type:b,tag:aC,props:{id:du},children:[{type:b,tag:C,props:{href:"#acknowledgments",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dv}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"This article wouldn’t have been possible without "},{type:b,tag:C,props:{href:dC,rel:[Z,_,$],target:aa},children:[{type:a,value:"this awesome article"}]},{type:a,value:" by Localazy for the code-signing steps and "},{type:b,tag:C,props:{href:"https:\u002F\u002Fgithub.com\u002Fakeru-inc\u002Fxcnotary\u002Fissues\u002F22#issuecomment-1179170957",rel:[Z,_,$],target:aa},children:[{type:a,value:"this GitHub comment"}]},{type:a,value:" for the Notarization part, kudos to "},{type:b,tag:C,props:{href:"https:\u002F\u002Ftwitter.com\u002Fhonzabilek4",rel:[Z,_,$],target:aa},children:[{type:a,value:"Jan Bílek"}]},{type:a,value:bG},{type:b,tag:C,props:{href:"https:\u002F\u002Fgithub.com\u002Fbradking",rel:[Z,_,$],target:aa},children:[{type:a,value:"Brad King"}]},{type:a,value:aW}]}]},excerpt:{type:bE,children:[{type:b,tag:m,props:{},children:[{type:a,value:dw},{type:b,tag:C,props:{href:dx,rel:[Z,_,$],target:aa},children:[{type:a,value:dy}]},{type:a,value:dz}]}]},dir:cz,path:"\u002Farticles\u002F2022-08-15-automatic-code-signing-and-notarization-for-macos-apps-using-github-actions",extension:cA,createdAt:bH,updatedAt:bH,cleanedSlug:"automatic-code-signing-and-notarization-for-macos-apps-using-github-actions"},{slug:"2022-05-02-building-robust-applications-by-making-invalid-states-unrepresentable",description:cB,layout:cw,title:dX,author:cx,date:"2022-05-02T00:00:00.000Z",categories:"react trick guide robust applications invalid states unrepresentable typescript static types",social_title:dX,social_subtitle:cC,toc:[{id:dY,depth:aB,text:dZ},{id:d_,depth:aB,text:d$},{id:ea,depth:aB,text:eb},{id:ec,depth:aB,text:cC},{id:ed,depth:aB,text:ee}],body:{type:bE,children:[{type:b,tag:m,props:{},children:[{type:a,value:cB}]},{type:a,value:h},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In this article, we are going to discuss a functional programming technique that can greatly improve the reliability of your front-end applications: making invalid states unrepresentable. Although these concepts can be applied to most frameworks and languages, we are going to focus on React applications written in TypeScript."}]},{type:a,value:h},{type:b,tag:aC,props:{id:dY},children:[{type:b,tag:C,props:{href:"#our-example",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dZ}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"To start our discussion, we are going to focus on a simple login form as an example (you can find the complete code in "},{type:b,tag:C,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Freactinvalidstatesunrepresentable-bad-tbwvi?file=\u002Fsrc\u002FApp.tsx",rel:[Z,_,$],target:aa},children:[{type:a,value:"this Codesanbox"}]},{type:a,value:").\nIn a nutshell, the example is composed of:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:ef},{type:b,tag:n,props:{},children:[{type:a,value:eg}]},{type:a,value:" component, which contains the input fields and invokes a callback when the user clicks on "},{type:b,tag:n,props:{},children:[{type:a,value:eh}]}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:ef},{type:b,tag:n,props:{},children:[{type:a,value:bI}]},{type:a,value:" function, which simulates a network call to a login endpoint. If successful, this function returns a "},{type:b,tag:ar,props:{},children:[{type:a,value:d}]},{type:a,value:w}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"The "},{type:b,tag:n,props:{},children:[{type:a,value:bu}]},{type:a,value:" component, which keeps the application state and displays the appropriate messages\u002Fcomponents."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Login example",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_1.gif"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Here's the complete code:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[bj,U]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cD}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ei},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:cF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:eg}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n  onLogin\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:ej}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"void"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setUser"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:ek}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:el},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setPass"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:ek}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:"Insert login "},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"details"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"use "},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"'test'"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"as"}]},{type:a,value:" password "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:em}]},{type:a,value:" correct logins"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:en},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"\"user\""}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:"User"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:eo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:"input\n        type"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"\"text\""}]},{type:a,value:ep},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:eq},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"setUser"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:er},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:cG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:en},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:es}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:"Password"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:eo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:"input\n        name"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:es}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"\"password\""}]},{type:a,value:ep},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:el},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:eq},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"setPass"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:er},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:cG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:ej}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:eh},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F Simulate a login request"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:et}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cH}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:et}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:eu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" reject"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"setTimeout"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"pass "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"\"test\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F Return a fake user token"}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:eu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"\"c6041ffc-5e13-4f6d-bb33-bf9d3ae20262\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bP}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"reject"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cH}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:"Error"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"\"invalid password\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bl]},children:[{type:a,value:"1000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setLoading"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setUserToken"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ev]},children:[{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,ew,ae]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setError"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ev]},children:[{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,ew,ae]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bv}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:ba}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F If we don't reset them here, we might have inconsistencies"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F after multiple logins"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ce}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ex},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:ey}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:bx}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:cK}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cL},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cM},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ez},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cO},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aW}]},{type:a,value:eA},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:cQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cR},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cS}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aW}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cU}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cV},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:aC,props:{id:d_},children:[{type:b,tag:C,props:{href:"#the-problem",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:d$}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"The example proposed above works as expected, but it's not very maintainable. The main problem lies in the fact that the different app-state fields (loading, error, userToken) are stored and updated independently."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Suppose at some point, a coworker not particularly familiar with this area of the codebase changes the "},{type:b,tag:n,props:{},children:[{type:a,value:ba}]},{type:a,value:" logic to fit some new requirements. As part of the process, they mistakenly forget to reset the error state with "},{type:b,tag:n,props:{},children:[{type:a,value:eB}]},{type:a,value:r}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[bj,U]},children:[{type:b,tag:n,props:{},children:[{type:a,value:aZ},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:ba}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F The coworker deletes the following line"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F setError(undefined);  \u003C- this one gets deleted"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ce}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ex},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:ey}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"The coworker now attempts to log in and it works as expected:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Login seems to work as expected",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_2.gif"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"The happy coworker then proceeds to create PR and, with a non-zero probability, the PR gets approved and goes into staging\u002Fproduction."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Happy ending, right? Not exactly. The application can now enter an "},{type:b,tag:ar,props:{},children:[{type:a,value:"inconsistent state"}]},{type:a,value:" when a user gets the first login wrong and the second one correct:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Login inconsistent state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_3.gif"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:eC},{type:b,tag:aR,props:{},children:[{type:a,value:"the error message is still being shown after a successful login attempt"}]},{type:a,value:".\nThis is happening because the "},{type:b,tag:n,props:{},children:[{type:a,value:eB}]},{type:a,value:" call has been removed, and as a result, the error message is not being reset when performing a new login attempt."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"It might be easy to blame the coworker for such an oversight, but actually, the problem lies in the way the application state was originally structured. By having the "},{type:b,tag:n,props:{},children:[{type:a,value:aK}]},{type:a,value:eD},{type:b,tag:n,props:{},children:[{type:a,value:ca}]},{type:a,value:bG},{type:b,tag:n,props:{},children:[{type:a,value:a$}]},{type:a,value:" states being updated independently, we made it easier to get into an inconsistent state."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Remember, "},{type:b,tag:aR,props:{},children:[{type:a,value:"the best systems are the ones that make it harder to do wrong things."}]},{type:a,value:" In the following sections, we're going to analyze a design that could have prevented such mistakes."}]},{type:a,value:h},{type:b,tag:bi,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In the previous example, I chose an hypothetical coworker as the person doing the mistake. I'm definitely not implying that only coworkers make mistakes, everyone does. I do plenty of mistakes on a daily basis :)"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:aC,props:{id:ea},children:[{type:b,tag:C,props:{href:"#a-better-approach-but-still-not-optimal",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:eb}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"I hear some of you screaming: \""},{type:b,tag:ar,props:{},children:[{type:a,value:"You should have used useReducer\u002FRedux\u002FZustand\u002F{random pokemon name} instead of those multiple useState!"}]},{type:a,value:cW}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Indeed, in real-world scenarios, you would have likely used a more structured approach to handle the app state, but "},{type:b,tag:aR,props:{},children:[{type:a,value:"that doesn't necessarily solve the problem of invalid states"}]},{type:a,value:w}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"For example, let's refactor the "},{type:b,tag:n,props:{},children:[{type:a,value:bu}]},{type:a,value:" code to use React's "},{type:b,tag:C,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#usereducer",rel:[Z,_,$],target:aa},children:[{type:a,value:bR}]},{type:a,value:" instead of multiple "},{type:b,tag:n,props:{},children:[{type:a,value:aJ}]},{type:a,value:r}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[bj,U]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F This is the app state"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:cg}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ci},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bK},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F The various actions we can use to update that state"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eG}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ci},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eH}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eI}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:eJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:eK},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:eL},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:eM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:eN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:eO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:eP}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:eQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:M}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:eR},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:eS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:cX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:eT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bL}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:bK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:eU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:ba}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bc}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ce}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:eV},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:eW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:bx}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bL}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:cK}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cL},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:cM},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:ez},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cO},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aW}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:eA},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:cQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cR},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cS}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aW}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cU}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cV},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"This version improves our example on multiple fronts:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"The handlers ("},{type:b,tag:n,props:{},children:[{type:a,value:ba}]},{type:a,value:bG},{type:b,tag:n,props:{},children:[{type:a,value:bx}]},{type:a,value:") don't need to know about the internal state representation anymore, but can simply dispatch actions in a "},{type:b,tag:ar,props:{},children:[{type:a,value:"declarative"}]},{type:a,value:" way."}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"It's harder to forget updating a slice of the state, as they are handled in a central place (the "},{type:b,tag:n,props:{},children:[{type:a,value:bS}]},{type:a,value:" function) instead of being scattered around handlers."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"That said, despite making it harder to make the state inconsistent, it's still possible to do so."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Let's say that our product manager requests to implement a \"failed attempts\" counter. In a rush, we modify the "},{type:b,tag:n,props:{},children:[{type:a,value:cY}]},{type:a,value:" case of the reducer to be based on the previous state:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[bj,U]},children:[{type:b,tag:n,props:{},children:[{type:a,value:"    "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:cX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:"\n        failedAttempts"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:" state"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:"failedAttempts "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:eX}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bl]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"As a result, the \"Loading...\" label is still shown after a failed login attempt:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Inconsistent state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Finvalid-state.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Of course, this is another silly oversight that would have been easy to spot. We forgot to set "},{type:b,tag:n,props:{},children:[{type:a,value:eY}]},{type:a,value:", and instead took the previous state value ("},{type:b,tag:n,props:{},children:[{type:a,value:M}]},{type:a,value:") using the spread operator "},{type:b,tag:n,props:{},children:[{type:a,value:"...state"}]},{type:a,value:". Unfortunately, in real-world systems it's easy to make such mistakes when the state is made of many fields, and such oversights might not be as easy to spot."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Luckily, we can take this solution a step further. What if we let the compiler spot such mistakes? The answer is "},{type:b,tag:aR,props:{},children:[{type:a,value:"making invalid states unrepresentable"}]},{type:a,value:w}]},{type:a,value:h},{type:b,tag:aC,props:{id:ec},children:[{type:b,tag:C,props:{href:"#making-invalid-states-unrepresentable",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:cC}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Let's start from the previous state representation:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[bj,U]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:cg}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ci},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"The first question we should be asking ourselves is: "},{type:b,tag:ar,props:{},children:[{type:a,value:"what are the possible states of this system?"}]},{type:a,value:" There is no single best answer, but a possible representation could be:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Idle"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Login pending"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Login success"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Login failure"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:bi,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"If the "},{type:b,tag:n,props:{},children:[{type:a,value:"idle"}]},{type:a,value:" state doesn't make sense to you, keep in mind we are trying to model "},{type:b,tag:ar,props:{},children:[{type:a,value:"all"}]},{type:a,value:" the possible states of this system. Idle represents the state of the system before the user makes a login attempt."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Then, we can think about which "},{type:b,tag:ar,props:{},children:[{type:a,value:"fields and values"}]},{type:a,value:" those states can have:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Idle\n"},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:c_}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Login pending\n"},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"loading = true"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Login success\n"},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:c_}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"userToken = string"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Login failure\n"},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:c_}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"error = Error\u002Funknown\u002Fwhatever is relevant"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"At this point, we can translate these states into code using Typescript's "},{type:b,tag:C,props:{href:"https:\u002F\u002Fwww.typescriptlang.org\u002Fdocs\u002Fhandbook\u002Ftypescript-in-5-minutes-func.html#discriminated-unions",rel:[Z,_,$],target:aa},children:[{type:a,value:"Discriminated unions"}]},{type:a,value:" (also known as "},{type:b,tag:ar,props:{},children:[{type:a,value:"Algebraic Data Types"}]},{type:a,value:"):"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[bj,U]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:cg}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:eZ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:e_},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Note how for each state, we are explicitly specifying which fields are present and, for some of them, even their value. Discriminated unions give us two superpowers:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"We don't need to add optional fields everywhere, nor do we need to check for undefined values. If a state has "},{type:b,tag:n,props:{},children:[{type:a,value:"type = \"success\""}]},{type:a,value:" then Typescript "},{type:b,tag:ar,props:{},children:[{type:a,value:"guarantees"}]},{type:a,value:" that the "},{type:b,tag:n,props:{},children:[{type:a,value:a$}]},{type:a,value:" field will be available. In the same way, we won't be able to access the "},{type:b,tag:n,props:{},children:[{type:a,value:a$}]},{type:a,value:" if the state is "},{type:b,tag:n,props:{},children:[{type:a,value:cY}]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[bj,U]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F This compiles correctly"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:e$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:fa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F This doesn't (and it's good!)"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:e$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:fa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"We won't be able to set inconsistent states in the reducer"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Updating our previous example with the new approach, we get:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[bj,U]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:cg}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:M}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:eZ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:e_},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bK},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eG}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ci},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eH}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:eI}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:eJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:eK},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:eL},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:av}]},{type:a,value:eM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:eN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:eO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:eP}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:eQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:M}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:eR},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:eS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:cX},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:eT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bL}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:bK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:eU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:ba}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bc}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ce}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:eV},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:eW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:bx}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:bL}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:cK}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cL},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:cM},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aL}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cO},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bT}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:cQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cR},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cS}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aW}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cU}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:a,value:a$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:cV},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:W}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:x}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"At this point, Typescript will make sure that the state is always in a consistent state. For example, the previous mistake (forgetting "},{type:b,tag:n,props:{},children:[{type:a,value:eY}]},{type:a,value:fb},{type:b,tag:n,props:{},children:[{type:a,value:cY}]},{type:a,value:" case due to the spread operator) won't compile:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Typescript fails to compile an invalid state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Ftypescript1.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"We made "},{type:b,tag:ar,props:{},children:[{type:a,value:"invalid states unrepresentable"}]},{type:a,value:" 😎"}]},{type:a,value:h},{type:b,tag:bi,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Note: You might be wondering why we added the "},{type:b,tag:n,props:{},children:[{type:a,value:ca}]},{type:a,value:" field to all states. The reason is that I thought it would make the example easier to understand. But in this simple scenario, we could drop the "},{type:b,tag:n,props:{},children:[{type:a,value:ca}]},{type:a,value:" field entirely and only show the loading message when the state is pending ("},{type:b,tag:n,props:{},children:[{type:a,value:"state.type === 'pending'"}]},{type:a,value:")."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:aC,props:{id:ed},children:[{type:b,tag:C,props:{href:"#final-thoughts",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:ee}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"All right! We started from a problematic example and gradually improved the way our state is represented, making the app more robust along the way."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"It's important to consider these techniques as an additional tool you have at your disposal rather than absolute truths. There might be cases where these techniques are impractical for several reasons. As always, use the right tool for the job!"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"If you're interested, you can find the complete code for our final solution in "},{type:b,tag:C,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Freactinvalidstatesunrepresentable-good-9l8pym?file=\u002Fsrc\u002FApp.tsx",rel:[Z,_,$],target:aa},children:[{type:a,value:"this Codesandbox"}]},{type:a,value:w}]}]},excerpt:{type:bE,children:[{type:b,tag:m,props:{},children:[{type:a,value:cB}]}]},dir:cz,path:"\u002Farticles\u002F2022-05-02-building-robust-applications-by-making-invalid-states-unrepresentable",extension:cA,createdAt:bH,updatedAt:bH,cleanedSlug:"building-robust-applications-by-making-invalid-states-unrepresentable"},{slug:"2022-02-04-optimizing-list-in-react-solving-performance-problems-and-anti-patterns",description:da,layout:cw,title:"Optimizing Lists in React - Solving Performance Problems and Anti-patterns",author:cx,date:"2022-02-04T00:00:00.000Z",categories:"react list performance optimizations patterns anti-patterns",social_title:"Optimizing Lists in React",social_subtitle:"Solving Performance Problems and Anti-patterns",toc:[{id:fc,depth:aB,text:fd},{id:fe,depth:aB,text:ff},{id:fg,depth:aB,text:fh},{id:fi,depth:aB,text:fj}],body:{type:bE,children:[{type:b,tag:m,props:{},children:[{type:a,value:da}]},{type:a,value:h},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"It’s easy to write inefficient code in React, with useless re-renders being the common enemy. Usually, you start from a simple application and gradually build features on top of it. At first, the application is small enough to make the inefficiencies unnoticeable, but as the complexity grows, so does the component hierarchy, and thus, the number of re-renders. Then, once the application speed becomes unbearable (according to your standards), you start profiling and optimizing the problematic areas."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In this article, we are going to discuss the optimization process for lists, which are notorious sources of performance problems in React. Most of these techniques apply to both React and React Native applications."}]},{type:a,value:h},{type:b,tag:at,props:{id:"starting-from-a-problematic-example"},children:[{type:b,tag:C,props:{href:"#starting-from-a-problematic-example",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Starting from a problematic example"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"We’ll start from a problematic example and gradually discuss the process of identifying and solving the different issues."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Problematic List example",src:"\u002Fposts\u002Freact-list\u002Freact_list_example.gif"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"The proposed example is a simple list of selectable items, with a few performance problems. Clicking on an item toggles the selection status, but the operation is visibly laggy. Our goal is to make the selection feel snappy. You can find the complete code as follows (a "},{type:b,tag:C,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Fcommonreactlistmistakes-9f3ex",rel:[Z,_,$],target:aa},children:[{type:a,value:"Codesandbox"}]},{type:a,value:" is also available)."}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o,bN]},children:[{type:a,value:cD}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,fk]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ei},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o,bN]},children:[{type:a,value:cE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:cF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F Create mock data with elements containing increasing items"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:" data "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cH}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:"Array"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,bl]},children:[{type:a,value:"100"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:"fill"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:"_"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:fl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:db},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:eX}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bl]},children:[{type:a,value:cZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:fm}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,cm,cn]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:" n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,cm,cn]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"template-string"]},children:[{type:b,tag:c,props:{className:[d,fn,v]},children:[{type:a,value:fo}]},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:"Item "}]},{type:b,tag:c,props:{className:[d,"interpolation"]},children:[{type:b,tag:c,props:{className:[d,fp,e]},children:[{type:a,value:"${"}]},{type:a,value:fm},{type:b,tag:c,props:{className:[d,fp,e]},children:[{type:a,value:k}]}]},{type:b,tag:c,props:{className:[d,fn,v]},children:[{type:a,value:fo}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o,bN]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o,bN]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:bu}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F An array containing the selected items"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:fq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F Select or unselect the given item"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:an}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aW}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,co,g]},children:[{type:a,value:aV}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:bP}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:cq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bT}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:K}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:"className"}]},{type:b,tag:c,props:{className:[d,"attr-value"]},children:[{type:b,tag:c,props:{className:[d,e,"attr-equals"]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:cW}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:cW}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:"List Example"}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:at}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:bA}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:br}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bs}]}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:K}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:bA}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aA}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bs}]}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:aA}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" name"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:fr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:fs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:ft}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:fu}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:fv}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:de}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:B}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:fw}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,cm,cn]},children:[{type:a,value:fy}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:fz}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o,fA]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F This is an example of an expensive JS operation that we might"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F execute in the render function to simulate a load."}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F In real-world applications, this operation could be either a custom"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F JS elaboration or just a complex render"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:a,value:de}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F Here we use selected just because we want to simulate"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F an operation that depends on the props"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:fB}]},{type:a,value:" total "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:" selected "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bl]},children:[{type:a,value:cZ}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bl]},children:[{type:a,value:fC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:em}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:fB}]},{type:a,value:db},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bl]},children:[{type:a,value:fC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:db},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bl]},children:[{type:a,value:"200000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:fl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"++"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n    total "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"+="}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"known-class-name",ae]},children:[{type:a,value:"Math"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:"random"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:" total"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai}]}]}]},{type:a,value:h},{type:b,tag:bi,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"If you want to practice, feel free to pause reading and try to spot the problems yourself first"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Let’s dive into the analysis."}]},{type:a,value:h},{type:b,tag:at,props:{id:"missing-key-prop"},children:[{type:b,tag:C,props:{href:"#missing-key-prop",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Missing key prop"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"The first thing we can notice from the console is that we are not passing the "},{type:b,tag:n,props:{},children:[{type:a,value:aj}]},{type:a,value:" prop when rendering the list items."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Missing key prop warning",src:"\u002Fposts\u002Freact-list\u002Fmissing_key_prop.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"which is caused by this code:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aA}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bs}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"As you might already know, the "},{type:b,tag:n,props:{},children:[{type:a,value:aj}]},{type:a,value:" prop is critical for dynamic lists to work correctly in React, as it helps the framework identify which items have changed, are added, or are removed."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"A common beginners’ anti-pattern is to solve the problem by passing the item’s index:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" index"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aA}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"index"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bs}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Despite working for simple use-cases, this approach leads to multiple unexpected behaviors when the list is dynamic, with items being added or removed. For example, if you delete an item in the middle of a list at index N, then all list items located at positions N+1 will now have a different key. That causes React to “confuse” which mapped component belongs to which items. If you want to know more about the potential pitfalls of using the index as key, "},{type:b,tag:C,props:{href:"https:\u002F\u002Frobinpokorny.medium.com\u002Findex-as-a-key-is-an-anti-pattern-e0349aece318",rel:[Z,_,$],target:aa},children:[{type:a,value:"this article"}]},{type:a,value:" is a great resource."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Therefore, you should specify a key prop with something that uniquely identifies the item being rendered. If the data you’re receiving is coming from a backend, you might be able to use the database’s unique id as key. Otherwise, you could generate a client-side random id with "},{type:b,tag:C,props:{href:"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fnanoid",rel:[Z,_,$],target:aa},children:[{type:a,value:"nanoid"}]},{type:a,value:" when creating the items."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Luckily, each of our own items has it’s own id property, so we should handle it as follows:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:aA}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bs}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Adding the key solves the previous warning, but we still have a significant lag when selecting an item. It’s time to go serious and open the profiler."}]},{type:a,value:h},{type:b,tag:at,props:{id:"profiling-the-list"},children:[{type:b,tag:C,props:{href:"#profiling-the-list",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Profiling the list"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Now that we solved the "},{type:b,tag:n,props:{},children:[{type:a,value:aj}]},{type:a,value:" warning, we are ready to tackle the performance problem. At this stage, using a profiler can help to track down the slow areas and therefore guide our optimization, so that’s what we are going to do."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"When working with React, there are two main profilers you can use: the browser’s built-in profiler, such as the one available inside Chrome’s Dev Tools, and the profiler provided by the React DevTools extension. Both of them are useful in different scenarios. From my experience, the React DevTools’ profiler is a good starting point, as it gives you a component-aware performance representation, which is helpful to track down the specific components that are causing problems, whereas the browser’s profiler works at a lower level and it’s mostly helpful in those cases where the performance problems are not directly related to a component, for example, due to a slow method or Redux reducer."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"For this reason, we are going to start with the React DevTools’ profiler, so make sure to have the extension installed. Then, you can access the Profiler tool from Chrome’s dev tools \u003E Profiler. Before starting, we are going to set up two settings that will help us in the optimization process:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"In Chrome’s Performance tab, set CPU throttling to x6. That will simulate a slower CPU, making slowdowns much more evident."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"CPU throttling",src:"\u002Fposts\u002Freact-list\u002Fprofiler_cpu_throttle.png"},children:[]}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"In React DevTools Profiler tab, click on the Gear icon \u003E Profiler \u003E “Record why each component rendered while profiling”. This will help us track down the causes for useless re-renders."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"React profiler settings",src:"\u002Fposts\u002Freact-list\u002Freact_profile_settings.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Once the configuration is done, we are ready to profile our sample todo app. Go ahead and click on the Record button, then select some items in the list and, finally, hit stop recording. This is the result we obtain after selecting 3 items:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"React profiler results",src:"\u002Fposts\u002Freact-list\u002Freact_app_profiler_result.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"On the top right side, you see highlighted in red the commits, which, in short, are the renders that caused the DOM to update. As you can see, the current commit took 2671 milliseconds to render. By hovering on the various elements, we can tell that most of the time is spent rendering the list items, with an average of 26 milliseconds per item."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Spending 26 milliseconds rendering a single item is not inherently bad. As long as the entire operation takes less than 100ms, the action would still be perceived as snappy by the user. Our biggest problem is that selecting a single item causes all the items to be re-rendered, and that’s what we are going to tackle in the next section."}]},{type:a,value:h},{type:b,tag:bi,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"A question we should ask ourselves at this point is: what’s the expected number of items to re-render after an action? In this particular case, the answer is one, as the result of a click is a new item being selected, with none of the others being affected. Another scenario might be a single-selection list, where at most one item could be selected at any given time. In that case, clicking on an item should cause the re-render of two items, as we need to render both the selected one and the one being unselected."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:at,props:{id:"preventing-re-renders-with-reactmemo"},children:[{type:b,tag:C,props:{href:"#preventing-re-renders-with-reactmemo",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Preventing re-renders with React.memo"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In the previous section, we discussed how selecting a single item causes the entire list to be re-rendered.\nIdeally, we would like to re-render only the items whose \"looks\" are affected by the new selection.\nWe can do that using the "},{type:b,tag:C,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Freact-api.html#reactmemo",rel:[Z,_,$],target:aa},children:[{type:a,value:a_}]},{type:a,value:" higher-order component."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In a nutshell, "},{type:b,tag:n,props:{},children:[{type:a,value:a_}]},{type:a,value:" compares the new props with the old ones and, if they are equal, it reuses the previous render.\nOtherwise, if the props are different, it re-renders the component.\nIt's important to note that React executes a "},{type:b,tag:aR,props:{},children:[{type:a,value:fD}]},{type:a,value:" of the props, which must be taken\ninto account when passing objects and methods as props.\nYou can also override the comparison function, though I would advise against it, as it makes\nthe code less maintainable (more on this later)."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Now that we know the basics of "},{type:b,tag:n,props:{},children:[{type:a,value:a_}]},{type:a,value:", let's create another component by wrapping the "},{type:b,tag:n,props:{},children:[{type:a,value:aA}]},{type:a,value:" with it:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o,bN]},children:[{type:a,value:cD}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,fk]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" memo "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o,bN]},children:[{type:a,value:cE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:cF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:bh}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"We can now use "},{type:b,tag:n,props:{},children:[{type:a,value:bh}]},{type:a,value:" instead of "},{type:b,tag:n,props:{},children:[{type:a,value:aA}]},{type:a,value:" in the list:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:bh}]}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bs}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Nice! We now have memoized the "},{type:b,tag:n,props:{},children:[{type:a,value:aA}]},{type:a,value:". If you go ahead and try the application, you'll notice something is wrong...\nThe application is still slow!"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"If we open up the profiler as we previously did and record a selection, we should be presented with something like the following:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"React profiler after memoizing",src:"\u002Fposts\u002Freact-list\u002Freact_app_memoized_profiler.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:eC},{type:b,tag:aR,props:{},children:[{type:a,value:"we are still re-rendering all the items"}]},{type:a,value:"! Why is it happening?\nIf you hover on one of the list items, you'll see the \"Why did this render?\" section. In our case, it says "},{type:b,tag:n,props:{},children:[{type:a,value:"Props changed: (onClick)"}]},{type:a,value:",\nwhich means our items are re-rendering due to the "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" callback we are passing to each item."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"As we previously discussed, "},{type:b,tag:n,props:{},children:[{type:a,value:a_}]},{type:a,value:" does a "},{type:b,tag:ar,props:{},children:[{type:a,value:fD}]},{type:a,value:" of the props by default.\nWhich basically means calling the strick equality operator "},{type:b,tag:n,props:{},children:[{type:a,value:aI}]},{type:a,value:" over each prop. In our case, the check would\nbe roughly equivalent to:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bC]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:q}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"arePropsEqual"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:df},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:" prevProps"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:fE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:Y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:Y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:fE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"While "},{type:b,tag:n,props:{},children:[{type:a,value:ah}]},{type:a,value:bG},{type:b,tag:n,props:{},children:[{type:a,value:Y}]},{type:a,value:" are compared by "},{type:b,tag:ar,props:{},children:[{type:a,value:cG}]},{type:a,value:" (because they are primitive types, string and boolean respectively), "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" is compared\nby "},{type:b,tag:ar,props:{},children:[{type:a,value:"reference"}]},{type:a,value:" (being a function).\nWhen we created the list items, we passed the "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" callback as an anonymous closure:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:a,value:ag},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Every time the list re-renders, "},{type:b,tag:aR,props:{},children:[{type:a,value:"each item receives a new callback function"}]},{type:a,value:".\nFrom an equality perspective, the callback "},{type:b,tag:ar,props:{},children:[{type:a,value:"has changed"}]},{type:a,value:", and therefore the "},{type:b,tag:n,props:{},children:[{type:a,value:bh}]},{type:a,value:" is re-rendered."}]},{type:a,value:h},{type:b,tag:bi,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"If the equality aspect is still unclear to you, go ahead and open the JS console inside your browser.\nIf you type "},{type:b,tag:n,props:{},children:[{type:a,value:"true === true"}]},{type:a,value:", you'll notice that the result is "},{type:b,tag:n,props:{},children:[{type:a,value:M}]},{type:a,value:".\nBut if you type "},{type:b,tag:n,props:{},children:[{type:a,value:"(() =\u003E {}) === (() =\u003E {})"}]},{type:a,value:", you'll get "},{type:b,tag:n,props:{},children:[{type:a,value:az}]},{type:a,value:" as result.\nThat's because two functions are equal only if they share the same identity, and\nevery time we create a new closure we generate a new identity."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Therefore, we need a way to keep the identity of the "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" callback stable to prevent useless re-renders,\nand that's what we are going to discuss in the next sections."}]},{type:a,value:h},{type:b,tag:aC,props:{id:fc},children:[{type:b,tag:C,props:{href:"#a-common-anti-pattern",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:fd}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Before discussing the proposed solution, let's analyze a common (anti-)pattern being used in these cases.\nGiven that the "},{type:b,tag:n,props:{},children:[{type:a,value:a_}]},{type:a,value:" method accepts a custom comparator, you might be tempted to provide one that\nartifically "},{type:b,tag:ar,props:{},children:[{type:a,value:"excludes"}]},{type:a,value:f},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" from the check. Something like the following:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:bh}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:df},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:Y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:Y}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F The onClick prop is not compared"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In this case, even with a changing "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" callback, the list items won't be re-rendered unless "},{type:b,tag:n,props:{},children:[{type:a,value:ah}]},{type:a,value:" or "},{type:b,tag:n,props:{},children:[{type:a,value:Y}]},{type:a,value:" are updated.\nIf you go ahead and try this approach, you'll notice the list feels snappy now, but something is wrong:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"React list custom comparator",src:"\u002Fposts\u002Freact-list\u002Freact_list_example_custom_comparator.gif"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"As you can see, selecting multiple items doesn't work as expected now, with items being randomly selected and unselected.\nThis is happening because the "},{type:b,tag:aR,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:an}]},{type:a,value:" function is not pure"}]},{type:a,value:", as it depends on the previous value of the "},{type:b,tag:n,props:{},children:[{type:a,value:Y}]},{type:a,value:" items.\nIf you exclude the "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" callback check from the "},{type:b,tag:n,props:{},children:[{type:a,value:a_}]},{type:a,value:" comparator, then your components might receive an outdated (stale)\nversion of the callback, causing all those glitches."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In this particular case, the way the "},{type:b,tag:n,props:{},children:[{type:a,value:an}]},{type:a,value:" is implemented is not optimal and we can easily convert it to a pure function\n(in fact, we are going to do that in the next section). But my point here is: "},{type:b,tag:aR,props:{},children:[{type:a,value:"by excluding the "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" callback from the "},{type:b,tag:n,props:{},children:[{type:a,value:cs}]},{type:a,value:"\ncomparator, you're exposing the application to subtle staleness bugs"}]},{type:a,value:w}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Some might argue that as long as the "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" callback is kept "},{type:b,tag:ar,props:{},children:[{type:a,value:"pure"}]},{type:a,value:", then this approach is perfectly acceptable.\nPersonally, I consider this an anti-pattern for two reasons:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"In complex codebases is relatively easy to transform a pure function into a non-pure one by mistake."}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"By writing a custom comparator,  you're creating an additional maintenance burden. What if the "},{type:b,tag:n,props:{},children:[{type:a,value:aA}]},{type:a,value:" needs to accept another "},{type:b,tag:n,props:{},children:[{type:a,value:dg}]},{type:a,value:" parameter in the future?"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Then, you'll need to refactor to the comparator, as shown below. If you forget to add it (which is relatively easy in complex codebases with multiple contributors), then you are again exposing your component to staleness bugs."}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:bh}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:cs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:df},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aU}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:Y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:Y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aQ}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:dg}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aI}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:dg}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"If a custom comparator is not advisable, what should we do to solve this problem then?"}]},{type:a,value:h},{type:b,tag:at,props:{id:"making-callback-identities-stable"},children:[{type:b,tag:C,props:{href:"#making-callback-identities-stable",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Making callback identities stable"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Our goal is to use the \"base\" version of "},{type:b,tag:n,props:{},children:[{type:a,value:a_}]},{type:a,value:" without a custom comparator.\nChoosing this path will both improve the maintainability of the component and its robustness against future changes.\nFor the memoization to work correctly though, we'll need to "},{type:b,tag:aR,props:{},children:[{type:a,value:"refactor the callback to keep its identity stable"}]},{type:a,value:", otherwise\nthe equality check performed by "},{type:b,tag:n,props:{},children:[{type:a,value:a_}]},{type:a,value:" will prevent the memoization."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"The traditional way to keep function identities stable in React is to use the "},{type:b,tag:n,props:{},children:[{type:a,value:aF}]},{type:a,value:" hook.\nThe hook accepts a function and a dependency array, and as long as the dependencies won't change, neither will the identity of the callback.\nLet's refactor our example to use "},{type:b,tag:n,props:{},children:[{type:a,value:aF}]},{type:a,value:r}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Our first attempt is to move the anonymous closure "},{type:b,tag:n,props:{},children:[{type:a,value:"() =\u003E toggleItem(item)"}]},{type:a,value:" inside a separate method inside "},{type:b,tag:n,props:{},children:[{type:a,value:aF}]},{type:a,value:r}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:bA}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F How do we get the item?"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:bh}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bs}]}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"We are now facing a problem: previously, the anonymous closure captured the current "},{type:b,tag:n,props:{},children:[{type:a,value:D}]},{type:a,value:fb},{type:b,tag:n,props:{},children:[{type:a,value:".map"}]},{type:a,value:" iteration and then passed it to the "},{type:b,tag:n,props:{},children:[{type:a,value:an}]},{type:a,value:"\nfunction as an argument. But now, we are not declaring the "},{type:b,tag:n,props:{},children:[{type:a,value:bD}]},{type:a,value:" handler inside the iteration, so how can we access the \"selected item\" in the callback?\nLet's discuss a possible solution:"}]},{type:a,value:h},{type:b,tag:aC,props:{id:fe},children:[{type:b,tag:C,props:{href:"#refactoring-the-listitem-component",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:ff}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Currently, the "},{type:b,tag:n,props:{},children:[{type:a,value:aA}]},{type:a,value:cu},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" callback doesn't provide any information about the item being selected.\nIf it did, we would be able to easily solve this problem, so let's refactor the "},{type:b,tag:n,props:{},children:[{type:a,value:aA}]},{type:a,value:bG},{type:b,tag:n,props:{},children:[{type:a,value:bA}]},{type:a,value:" components to provide this information."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Firstly, we change the "},{type:b,tag:n,props:{},children:[{type:a,value:aA}]},{type:a,value:" component to accept the full "},{type:b,tag:n,props:{},children:[{type:a,value:D}]},{type:a,value:" object, and given that the "},{type:b,tag:n,props:{},children:[{type:a,value:ah}]},{type:a,value:" prop is now redundant we remove it.\nThen, we introduce an handler for the "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" event to also provide the "},{type:b,tag:n,props:{},children:[{type:a,value:D}]},{type:a,value:" as argument. This is our end result:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:aA}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:fr},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:fs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:ft}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:fu}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:fv}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:de}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:B}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:fw}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aY}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,cm,cn]},children:[{type:a,value:fy}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,v]},children:[{type:a,value:fz}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:r}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o,fA]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:B}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"As you can see, the "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" now provides the current item as a parameter."}]},{type:a,value:h},{type:b,tag:bi,props:{},children:[{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"But wait! You used an anonymous closure again in the "},{type:b,tag:n,props:{},children:[{type:a,value:B}]},{type:a,value:cu},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" handler, shouldn't we avoid them to prevent re-renderings?\nWhile we "},{type:b,tag:ar,props:{},children:[{type:a,value:"could"}]},{type:a,value:" create another memoized callback with "},{type:b,tag:n,props:{},children:[{type:a,value:aF}]},{type:a,value:" inside the "},{type:b,tag:n,props:{},children:[{type:a,value:aA}]},{type:a,value:" component to handle the click event, that would offer no performance improvements in this case.\nThe problem with the anonymous closure we discussed earlier in the "},{type:b,tag:n,props:{},children:[{type:a,value:bA}]},{type:a,value:" item was that it broke the "},{type:b,tag:n,props:{},children:[{type:a,value:a_}]},{type:a,value:" memoization for the "},{type:b,tag:n,props:{},children:[{type:a,value:bh}]},{type:a,value:". Given that we are "},{type:b,tag:ar,props:{},children:[{type:a,value:fF}]},{type:a,value:" memoizing the "},{type:b,tag:n,props:{},children:[{type:a,value:B}]},{type:a,value:" element, then there is no performance benefit from having a stable identity for this callback."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"We can then refactor the "},{type:b,tag:n,props:{},children:[{type:a,value:bA}]},{type:a,value:" component to pass the "},{type:b,tag:n,props:{},children:[{type:a,value:D}]},{type:a,value:" prop instead of "},{type:b,tag:n,props:{},children:[{type:a,value:ah}]},{type:a,value:" and to make use of the newly available "},{type:b,tag:n,props:{},children:[{type:a,value:D}]},{type:a,value:" information in the "},{type:b,tag:n,props:{},children:[{type:a,value:bD}]},{type:a,value:" callback:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,aN]},children:[{type:b,tag:n,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,q]},children:[{type:b,tag:c,props:{className:[d,aO]},children:[{type:a,value:bA}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F We now receive the selected item"}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:be}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:bh}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:bF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F We pass the full item instead of the name"}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,N]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,P,Q]},children:[{type:b,tag:c,props:{className:[d,R,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bs}]}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,J]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bz}]},{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Nice! Let's go ahead and try the refactored version:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"React list example, after changes",src:"\u002Fposts\u002Freact-list\u002Freact_list_example_2.gif"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"It works... but it's still slow! If we open up the profiler, we can see the whole list is still being rendered:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"Profiler results after changes",src:"\u002Fposts\u002Freact-list\u002Freact_list_perf.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"As you can see from the profiler, the "},{type:b,tag:n,props:{},children:[{type:a,value:ag}]},{type:a,value:" identity is still changing! That means our "},{type:b,tag:n,props:{},children:[{type:a,value:bD}]},{type:a,value:" identity is being changed at every re-render."}]},{type:a,value:h},{type:b,tag:aC,props:{id:fg},children:[{type:b,tag:C,props:{href:"#another-common-anti-pattern",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:fh}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Before diving into the proper solution, let's discuss a common anti-pattern used in these cases.\nGiven that the "},{type:b,tag:n,props:{},children:[{type:a,value:aF}]},{type:a,value:" accepts a dependency array, you could be tempted to specify an empty one to keep the identity fixed:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bC]},children:[{type:b,tag:n,props:{},children:[{type:a,value:aZ},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Despite keeping the identity stable, "},{type:b,tag:aR,props:{},children:[{type:a,value:"this approach suffers from the same staleness bugs we discussed in previous sections"}]},{type:a,value:".\nIf we run it, you'll notice the items get unselected as it happened when we specified the custom comparator:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:b,tag:am,props:{alt:"React list example with bugs",src:"\u002Fposts\u002Freact-list\u002Freact_list_example_3.gif"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In general, you should always specify the correct dependencies in "},{type:b,tag:n,props:{},children:[{type:a,value:aF}]},{type:a,value:eD},{type:b,tag:n,props:{},children:[{type:a,value:"useEffect"}]},{type:a,value:bG},{type:b,tag:n,props:{},children:[{type:a,value:fG}]},{type:a,value:", otherwise, you're\nexposing the application to potentially hard-to-debug staleness bugs."}]},{type:a,value:h},{type:b,tag:at,props:{id:"solving-the-toggleitem-identity-problem"},children:[{type:b,tag:C,props:{href:"#solving-the-toggleitem-identity-problem",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Solving the toggleItem identity problem"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"As we previously discussed, the problem with our "},{type:b,tag:n,props:{},children:[{type:a,value:bD}]},{type:a,value:" callback is that its "},{type:b,tag:n,props:{},children:[{type:a,value:an}]},{type:a,value:" dependency identity changes at each render, causing it to re-render as well:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bC]},children:[{type:b,tag:n,props:{},children:[{type:a,value:aZ},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Our first attempt is to wrap "},{type:b,tag:n,props:{},children:[{type:a,value:an}]},{type:a,value:" with "},{type:b,tag:n,props:{},children:[{type:a,value:aF}]},{type:a,value:" as we did with "},{type:b,tag:n,props:{},children:[{type:a,value:bD}]},{type:a,value:r}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bC]},children:[{type:b,tag:n,props:{},children:[{type:a,value:aZ},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aW}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,co,g]},children:[{type:a,value:aV}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:bP}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:cq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bT}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"This does "},{type:b,tag:ar,props:{},children:[{type:a,value:fF}]},{type:a,value:" solve the problem though, as this callback depends on the external state variable "},{type:b,tag:n,props:{},children:[{type:a,value:Y}]},{type:a,value:", which changes every time "},{type:b,tag:n,props:{},children:[{type:a,value:bq}]},{type:a,value:" is called. If we want its identity to remain stable, we need a way to make "},{type:b,tag:n,props:{},children:[{type:a,value:an}]},{type:a,value:" pure. Luckily, we can use "},{type:b,tag:C,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#functional-updates",rel:[Z,_,$],target:aa},children:[{type:b,tag:n,props:{},children:[{type:a,value:aJ}]},{type:a,value:"'s functional updates"}]},{type:a,value:" to accomplish our goal:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bC]},children:[{type:b,tag:n,props:{},children:[{type:a,value:aZ},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aW}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,co,g]},children:[{type:a,value:aV}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:bP}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:fH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:cq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bT}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"As you can see, we wrapped our previous logic inside the "},{type:b,tag:n,props:{},children:[{type:a,value:bq}]},{type:a,value:" call, which in turn provides the previous state value we need to compute the new selected items."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"If we go ahead and run the refactored example, it works and it's also snappy! We can also run the usual profiler to get a sense of what's happening:"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Hovering on the item being rendered:\n"},{type:b,tag:am,props:{alt:"Fixed react example",src:"\u002Fposts\u002Freact-list\u002Freact_list_memo_good_2.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Hovering on the other items:\n"},{type:b,tag:am,props:{alt:"Fixed react example 2",src:"\u002Fposts\u002Freact-list\u002Freact_list_memo_good_1.png"},children:[]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"As you can see, after selecting an item we only render the current one being selected now, while the others are being memoized."}]},{type:a,value:h},{type:b,tag:aC,props:{id:fi},children:[{type:b,tag:C,props:{href:"#a-note-on-functional-state-updates",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:fj}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In the example we just discussed, converting our "},{type:b,tag:n,props:{},children:[{type:a,value:an}]},{type:a,value:" method to the functional mode of "},{type:b,tag:n,props:{},children:[{type:a,value:aJ}]},{type:a,value:" was relatively trivial.\nIn real-world scenarios, things might not be as straightforward."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"For example, your function might depend on multiple state pieces:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bC]},children:[{type:b,tag:n,props:{},children:[{type:a,value:aZ},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:fq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setEnabled"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F Only toggle the items if enabled"}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aW}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:aT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,co,g]},children:[{type:a,value:aV}]},{type:a,value:bO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:bP}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,o,as]},children:[{type:a,value:ak}]},{type:a,value:fH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,al,q,F]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:cq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:cr},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bT}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Every time the "},{type:b,tag:n,props:{},children:[{type:a,value:cv}]},{type:a,value:" value changes, your "},{type:b,tag:n,props:{},children:[{type:a,value:an}]},{type:a,value:" identity will change as well.\nIn these scenarios, you should either merge both sub-states into the same "},{type:b,tag:n,props:{},children:[{type:a,value:aJ}]},{type:a,value:" call, or even better, convert it to a "},{type:b,tag:C,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#additional-hooks",rel:[Z,_,$],target:aa},children:[{type:b,tag:n,props:{},children:[{type:a,value:bR}]}]},{type:a,value:" one.\nGiven that "},{type:b,tag:n,props:{},children:[{type:a,value:bR}]},{type:a,value:cu},{type:b,tag:n,props:{},children:[{type:a,value:aM}]},{type:a,value:" function has a stable identity, you can scale this approach to complex states.\nMoreover, the same applies to "},{type:b,tag:C,props:{href:"https:\u002F\u002Fredux.js.org\u002F",rel:[Z,_,$],target:aa},children:[{type:a,value:"Redux"}]},{type:a,value:cu},{type:b,tag:n,props:{},children:[{type:a,value:aM}]},{type:a,value:" function, so you can move the item toggle logic at the Redux level and convert our "},{type:b,tag:n,props:{},children:[{type:a,value:an}]},{type:a,value:" function to something as:"}]},{type:a,value:h},{type:b,tag:K,props:{className:[S]},children:[{type:b,tag:T,props:{className:[U,bC]},children:[{type:b,tag:n,props:{},children:[{type:a,value:aZ},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:" dispatch "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"useDispatch"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"\u002F\u002F Given that the dispatch identity is stable, the `toggleItem` will be stable as well"}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:I}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,L,g]},children:[{type:a,value:E}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"toggleItemAction"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ao}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:"virtualizing-the-list"},children:[{type:b,tag:C,props:{href:"#virtualizing-the-list",ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:"Virtualizing the list?"}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"Before closing the article, I wanted to briefly cover "},{type:b,tag:ar,props:{},children:[{type:a,value:"list virtualization"}]},{type:a,value:", a common technique used to improve performance for long lists.\nIn a nutshell, list virtualization is based on the idea of rendering just a sub-set of the items in a given list (generally the currently visible ones) and deferring the others.\nFor example, if you have a list with a thousand items but only 10 are visible at any given time, then we might only render these 10 first, and the others can be rendered "},{type:b,tag:ar,props:{},children:[{type:a,value:"on-demand"}]},{type:a,value:" when needed (i.e. after scrolling)."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"List virtualization offers two main advantages compared to rendering the entire list:"}]},{type:a,value:h},{type:b,tag:X,props:{},children:[{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Faster initial start time, as we only need to render a subset of the list"}]},{type:a,value:h},{type:b,tag:B,props:{},children:[{type:a,value:"Lower memory usage, as only a subset of the items is being rendered at any given time"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"That said, list virtualization is not a silver bullet you should always use, as it increases complexity and can be glitchy.\nPersonally, I'd avoid virtualized lists if you are only dealing with hundreds of items, as the memoization techniques we discussed in this article are often effective enough  (older mobile devices might require a lower threshold). As always, the right approach depends on the specific use case, so I'd highly recommend profiling your list before diving into more complex optimization techniques."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"We are going to cover virtualization in a future article. In the meanwhile, you can read more about virtualized lists in React, with libraries like "},{type:b,tag:C,props:{href:"https:\u002F\u002Fgithub.com\u002Fbvaughn\u002Freact-window",rel:[Z,_,$],target:aa},children:[{type:a,value:"react-window"}]},{type:a,value:", and in React Native, with the built-in "},{type:b,tag:C,props:{href:"https:\u002F\u002Freactnative.dev\u002Fdocs\u002Fflatlist",rel:[Z,_,$],target:aa},children:[{type:a,value:"FlatList"}]},{type:a,value:" component."}]},{type:a,value:h},{type:b,tag:at,props:{id:dU},children:[{type:b,tag:C,props:{href:dV,ariaHidden:M,tabIndex:ab},children:[{type:b,tag:c,props:{className:[ac,ad]},children:[]}]},{type:a,value:dW}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In this article, we covered list optimization in depth. We started from a problematic example and gradually solved most of the performance problems.\nWe also discussed the main anti-patterns you should be aware of, along with potential ways to solve them."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"In conclusion, lists are often the cause of performance problems in React, as all items are being re-rendered every time something changes by default.\n"},{type:b,tag:n,props:{},children:[{type:a,value:a_}]},{type:a,value:" is an effective tool to mitigate the issue, but you might need to refactor your application to make your props' identities stable."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"The final code is available in "},{type:b,tag:C,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Fcommonreactlistmistakes-solved-7sn20?file=\u002Fsrc\u002FApp.js",rel:[Z,_,$],target:aa},children:[{type:a,value:"this CodeSandbox"}]},{type:a,value:" if you're interested."}]},{type:a,value:h},{type:b,tag:m,props:{},children:[{type:a,value:"PS: there's one small "},{type:b,tag:n,props:{},children:[{type:a,value:fG}]},{type:a,value:" optimization left to add in our example, can you spot it yourself? :)"}]}]},excerpt:{type:bE,children:[{type:b,tag:m,props:{},children:[{type:a,value:da}]}]},dir:cz,path:"\u002Farticles\u002F2022-02-04-optimizing-list-in-react-solving-performance-problems-and-anti-patterns",extension:cA,createdAt:bH,updatedAt:bH,cleanedSlug:"optimizing-list-in-react-solving-performance-problems-and-anti-patterns"}]}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation"," ","operator","\n","(",")","}","{","p","code","keyword",";","function",":","=","\n    ","\n  ","string",".","\u003E","\u003C","\n      ",",","li","a","item","=\u003E","property-access","-","comment","const","tag","div","arrow","true","attr-name","builtin","script","language-javascript","script-punctuation","nuxt-content-highlight","pre","line-numbers","parameter","\u002F","ul","selected","nofollow","noopener","noreferrer","_blank",-1,"icon","icon-link","class-name","\n        ","onClick","name","\n\n","key","return","method","img","toggleItem","[","]","boolean","em","control-flow","h1","state","|","\n          ","\n\n  ","atrule","false","ListItem",2,"h2","function-variable","type","useCallback","plain-text","user","===","useState","error","\"failure\"","dispatch","language-jsx","maybe-class-name"," pass","&&","strong","\"success\"","includes"," nextProps","...","!","undefined","?","  ","React.memo","userToken","handleLogin","\n  type","\"pending\"","case","map"," item","data","MemoizedListItem","blockquote","language-ts","if","number","\n\n    "," type","\n      type","\n      loading","setSelected","selectedItems","\u002F\u003E"," $","App","unknown","\n\n      ","handleLogout"," action","\u003C\u002F","List"," toggleItem ","language-js","handleClick","root","id"," and ","2022-08-15T14:30:28.841Z","login"," newUserToken "," initialState","\"logout\"","\n        loading","module","prevSelected","else","setUserToken","useReducer","reducer","!==","\n    prevProps","language-yaml","e","\n        type","button onClick","button","export","default","loading","async","setLoading","try","await","catch","State","\n  loading","\n  error","\n  userToken"," State ","type ","literal-property","property","spread","filter","current"," current ","memo"," handleClick ","'s ","isEnabled","post","Federico Terzi","keychain ","\u002Farticles",".md","In the last decade, many functional programming concepts have been making their way into modern, non-functional languages. Instead of going all-in, developers can choose to gradually adopt some of the paradigms in their applications, enjoying the best of both worlds.","Making invalid states unrepresentable","import","from","\"react\"","value","new","setError","div className","\"App\"","Login Example","loading ","Loading","An error occurred","String","LoginBox onLogin","You're logged ","in"," Your user token ","is","Logout","\"","\n        error","failure","1","loading = false","\"idle\"","React is the most popular front-end framework, and that’s for a reason. Besides being funded by one of the largest companies on the planet, it’s also built around a few key concepts (one-way data flow, immutable data, functional components, hooks) that make it easier than ever to create robust applications. That said, it’s not without pitfalls."," i "," data"," selectedItems","expensiveOperation","prevProps","color","??","generating-an-app-specific-password","Generating an app-specific password","getting-your-team-id","Getting your Team ID","setting-up-the-secrets","Setting up the Secrets","defining-the-code-signing-step","Defining the Code-signing step","defining-the-notarization-step","Defining the Notarization step","bonus-troubleshooting-notarization-issues","Bonus: troubleshooting Notarization issues","acknowledgments","Acknowledgments","After almost 3 years, we finally took the necessary steps to code-sign ","https:\u002F\u002Fespanso.org\u002F","Espanso",". This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice.","Selecting the right option from the “Create a New Certificate” section","Keychain Access","https:\u002F\u002Flocalazy.com\u002Fblog\u002Fhow-to-automatically-sign-macos-apps-using-github-actions","Certificates.base64","Team ID","PROD_MACOS_NOTARIZATION_APPLE_ID","PROD_MACOS_NOTARIZATION_PWD","PROD_MACOS_NOTARIZATION_TEAM_ID","target\u002Fmac\u002FEspanso.app","# Extract the secrets we defined earlier as environment variables","env","run","scalar","apple","codesign","https:\u002F\u002Fdeveloper.apple.com\u002Fdocumentation\u002Fsecurity\u002Fhardened_runtime","profile\" ","keychain","profile \"notarytool","ID","conclusion","#conclusion","Conclusion","The single, most important trick to build robust applications","our-example","Our example","the-problem","The problem","a-better-approach-but-still-not-optimal","A better approach (but still not optimal)","making-invalid-states-unrepresentable","final-thoughts","Final thoughts","A ","LoginBox","Login"," useState ","onLogin","\"\"","pass","for","label htmlFor","label","\n        value","\n        onChange","target","\"pass\"","Promise","resolve","generic-function","generic","newUserToken","\u002F\u002F We need to explicitly tell react that we are not loading anymore","error ","userToken ","setError(undefined)","As you can see, ",", ","PendingAction","SuccessAction","FailureAction","LogoutAction","Action"," PendingAction "," SuccessAction "," FailureAction "," LogoutAction"," State"," Action","switch","action","\n        userToken","userToken\n      ","error\n      "," dispatch"," userToken"," error ","+","loading: false","\n      userToken","\n      error","console","log"," in the ","a-common-anti-pattern","A common anti-pattern","refactoring-the-listitem-component","Refactoring the ListItem component","another-common-anti-pattern","Another common anti-pattern","a-note-on-functional-state-updates","A note on functional state updates","imports"," i","n","template-punctuation","`","interpolation-punctuation"," setSelected"," selected"," onClick ","\u002F\u002F Run an expensive operation to simulate a load","\u002F\u002F In real-world JS applications, this could be either a custom","\u002F\u002F JS elaboration or a complex render.","style","selected ","textDecoration","\"line-through\"","nil","let","0","shallow comparison","\n         prevProps","not","useMemo"," prevSelected")));
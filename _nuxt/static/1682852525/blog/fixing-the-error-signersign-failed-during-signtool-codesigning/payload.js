__NUXT_JSONP__("/blog/fixing-the-error-signersign-failed-during-signtool-codesigning", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J){return {data:[{article:{slug:"2022-08-27-fixing-the-error-signersign-failed-during-signtool-codesigning",description:"Today I was working on the automatic code-signing CI for Espanso. As suggested by various articles, I went ahead and tried to sign the executable with this signtool command:",layout:"post",title:p,author:"Federico Terzi",date:"2022-08-27T00:00:00.000Z",categories:"code sign code-signing signtool sign windows certificate sectigo",social_title:p,toc:[],body:{type:q,children:[{type:b,tag:g,props:{},children:[{type:a,value:r},{type:b,tag:s,props:{href:t,rel:[u,v,w],target:x},children:[{type:a,value:y}]},{type:a,value:z},{type:b,tag:f,props:{},children:[{type:a,value:h}]},{type:a,value:A}]},{type:a,value:c},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,n]},children:[{type:b,tag:f,props:{},children:[{type:a,value:B},{type:b,tag:d,props:{className:[e,o]},children:[{type:a,value:C}]},{type:a,value:D},{type:b,tag:d,props:{className:[e,o]},children:[{type:a,value:E}]},{type:a,value:F},{type:b,tag:d,props:{className:[e,i]},children:[{type:a,value:G}]},{type:a,value:" \u002Ff YOUR_PFX_HERE \u002Ftr http:\u002F\u002Ftimestamp.sectigo.com\u002Frfc3161 "},{type:b,tag:d,props:{className:[e,i]},children:[{type:a,value:H}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"Unfortunately, I was greeted with this cryptic error message:"}]},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,n]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"SignTool Error: An unexpected internal error has occurred.\nError information: "},{type:b,tag:d,props:{className:[e,i]},children:[{type:a,value:"\"Error: SignerSign() failed.\""}]},{type:a,value:" "},{type:b,tag:d,props:{className:[e,I]},children:[{type:a,value:"("}]},{type:a,value:"-2146869243\u002F0x80096005"},{type:b,tag:d,props:{className:[e,I]},children:[{type:a,value:")"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"After a bit of investigation, it turned out to be due to a missing flag in the "},{type:b,tag:f,props:{},children:[{type:a,value:h}]},{type:a,value:" invocation:"}]},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,n]},children:[{type:b,tag:f,props:{},children:[{type:a,value:"\u002Ftd sha256\n"}]}]}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"This flag instructs "},{type:b,tag:f,props:{},children:[{type:a,value:h}]},{type:a,value:" to use a SHA256 digest for the RFC 3161 timestamp server, solving the above problem."}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"So in the end, I got it working with the following command:"}]},{type:a,value:c},{type:b,tag:j,props:{className:[k]},children:[{type:b,tag:l,props:{className:[m,n]},children:[{type:b,tag:f,props:{},children:[{type:a,value:B},{type:b,tag:d,props:{className:[e,o]},children:[{type:a,value:C}]},{type:a,value:D},{type:b,tag:d,props:{className:[e,o]},children:[{type:a,value:E}]},{type:a,value:F},{type:b,tag:d,props:{className:[e,i]},children:[{type:a,value:G}]},{type:a,value:" \u002Ff YOUR_PFX_HERE \u002Ftd sha256 \u002Ftr http:\u002F\u002Ftimestamp.sectigo.com\u002Frfc3161 "},{type:b,tag:d,props:{className:[e,i]},children:[{type:a,value:H}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"PS: I would also suggest adding the "},{type:b,tag:f,props:{},children:[{type:a,value:"\u002Ffd SHA256"}]},{type:a,value:" flag, as that instructs "},{type:b,tag:f,props:{},children:[{type:a,value:h}]},{type:a,value:" to use the stronger SHA256 and not SHA1 for the actual signature."}]}]},excerpt:{type:q,children:[{type:b,tag:g,props:{},children:[{type:a,value:r},{type:b,tag:s,props:{href:t,rel:[u,v,w],target:x},children:[{type:a,value:y}]},{type:a,value:z},{type:b,tag:f,props:{},children:[{type:a,value:h}]},{type:a,value:A}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002F2022-08-27-fixing-the-error-signersign-failed-during-signtool-codesigning",extension:".md",createdAt:J,updatedAt:J}}],fetch:{},mutations:void 0}}("text","element","\n","span","token","code","p","signtool","string","div","nuxt-content-highlight","pre","language-bash","line-numbers","operator","Fixing “Error: SignerSign() failed.” during SignTool code-signing","root","Today I was working on the automatic code-signing CI for ","a","https:\u002F\u002Fespanso.org","nofollow","noopener","noreferrer","_blank","Espanso",". As suggested by various articles, I went ahead and tried to sign the executable with this "," command:","signtool.exe sign \u002Fv \u002Fp ","\u003C","your PFX password","\u003E"," \u002Fac ","'CROSS_SIGNED_SECTIGO_CA_HERE'","'FULL_PATH_TO_FILE_TO_SIGN'","punctuation","2023-04-30T11:01:07.101Z")));
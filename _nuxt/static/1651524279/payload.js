__NUXT_JSONP__("/", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN,fO,fP,fQ,fR,fS,fT,fU,fV,fW,fX,fY,fZ,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gu,gv,gw,gx,gy){return {data:[{articles:[{slug:"2022-05-02-building-robust-applications-by-making-invalid-states-unrepresentable",description:cM,layout:cN,title:dK,author:cO,date:"2022-05-02T00:00:00.000Z",categories:"react trick guide robust applications invalid states unrepresentable typescript static types",social_title:dK,social_subtitle:cP,toc:[{id:dL,depth:as,text:dM},{id:dN,depth:as,text:dO},{id:dP,depth:as,text:dQ},{id:dR,depth:as,text:cP},{id:dS,depth:as,text:dT}],body:{type:bM,children:[{type:b,tag:p,props:{},children:[{type:a,value:cM}]},{type:a,value:h},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In this article, we are going to discuss a functional programming technique that can greatly improve the reliability of your front-end applications: making invalid states unrepresentable. Although these concepts can be applied to most frameworks and languages, we are going to focus on React applications written in TypeScript."}]},{type:a,value:h},{type:b,tag:at,props:{id:dL},children:[{type:b,tag:B,props:{href:"#our-example",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:dM}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"To start our discussion, we are going to focus on a simple login form as an example (you can find the complete code in "},{type:b,tag:B,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Freactinvalidstatesunrepresentable-bad-tbwvi?file=\u002Fsrc\u002FApp.tsx",rel:[P,Q,R],target:S},children:[{type:a,value:"this Codesanbox"}]},{type:a,value:").\nIn a nutshell, the example is composed of:"}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:dU},{type:b,tag:q,props:{},children:[{type:a,value:dV}]},{type:a,value:" component, which contains the input fields and invokes a callback when the user clicks on "},{type:b,tag:q,props:{},children:[{type:a,value:dW}]}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:dU},{type:b,tag:q,props:{},children:[{type:a,value:bN}]},{type:a,value:" function, which simulates a network call to a login endpoint. If successful, this function returns a "},{type:b,tag:ap,props:{},children:[{type:a,value:d}]},{type:a,value:v}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:cQ},{type:b,tag:q,props:{},children:[{type:a,value:bB}]},{type:a,value:" component, which keeps the application state and displays the appropriate messages\u002Fcomponents."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Login example",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_1.gif"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Here's the complete code:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bp,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:dX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:dV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n  onLogin\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:dY}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"void"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" setUser"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:d_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" setPass"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:"Insert login "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"details"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"use "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"'test'"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"as"}]},{type:a,value:" password "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:d$}]},{type:a,value:" correct logins"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:ea},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"user\""}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:"User"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:eb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:"input\n        type"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"text\""}]},{type:a,value:ec},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ed},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ci},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"setUser"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ci},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:ee},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:cU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:ea},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ef}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:"Password"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:eb},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:"input\n        name"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ef}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"password\""}]},{type:a,value:ec},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:d_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ed},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ci},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"setPass"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ci},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:ee},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:cU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:dW},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Simulate a login request"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:eg}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bO}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:eg}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:eh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" reject"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"setTimeout"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"pass "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ei}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Return a fake user token"}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:eh}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"c6041ffc-5e13-4f6d-bb33-bf9d3ae20262\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"reject"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bO}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"Error"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"invalid password\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:"1000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cm}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:cn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" setLoading"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" setUserToken"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ej]},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,ek,G]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" setError"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ej]},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,ek,G]},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bC}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:bf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:co}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F If we don't reset them here, we might have inconsistencies"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F after multiple logins"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ca}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cr}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ca}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:el},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cs}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:em}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:bE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ca}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cX}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:cY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:cZ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:en},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:c$},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ct}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bh}]},{type:a,value:eo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:da},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:db},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:dc}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bh}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:de}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:dN},children:[{type:b,tag:B,props:{href:"#the-problem",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:dO}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"The example proposed above works as expected, but it's not very maintainable. The main problem lies in the fact that the different app-state fields (loading, error, userToken) are stored and updated independently."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Suppose at some point, a coworker not particularly familiar with this area of the codebase changes the "},{type:b,tag:q,props:{},children:[{type:a,value:bf}]},{type:a,value:" logic to fit some new requirements. As part of the process, they mistakenly forget to reset the error state with "},{type:b,tag:q,props:{},children:[{type:a,value:ep}]},{type:a,value:s}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bp,V]},children:[{type:b,tag:q,props:{},children:[{type:a,value:aN},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:bf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:co}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F The coworker deletes the following line"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F setError(undefined);  \u003C- this one gets deleted"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ca}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cr}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ca}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:el},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cs}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cV}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:em}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"The coworker now attempts to log in and it works as expected:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Login seems to work as expected",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_2.gif"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"The happy coworker then proceeds to create PR and, with a non-zero probability, the PR gets approved and goes into staging\u002Fproduction."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Happy ending, right? Not exactly. The application can now enter an "},{type:b,tag:ap,props:{},children:[{type:a,value:"inconsistent state"}]},{type:a,value:" when a user gets the first login wrong and the second one correct:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Login inconsistent state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_3.gif"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:eq},{type:b,tag:aW,props:{},children:[{type:a,value:"the error message is still being shown after a successful login attempt"}]},{type:a,value:".\nThis is happening because the "},{type:b,tag:q,props:{},children:[{type:a,value:ep}]},{type:a,value:" call has been removed, and as a result, the error message is not being reset when performing a new login attempt."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"It might be easy to blame the coworker for such an oversight, but actually, the problem lies in the way the application state was originally structured. By having the "},{type:b,tag:q,props:{},children:[{type:a,value:aM}]},{type:a,value:er},{type:b,tag:q,props:{},children:[{type:a,value:cn}]},{type:a,value:bq},{type:b,tag:q,props:{},children:[{type:a,value:be}]},{type:a,value:" states being updated independently, we made it easier to get into an inconsistent state."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Remember, "},{type:b,tag:aW,props:{},children:[{type:a,value:"the best systems are the ones that make it harder to do wrong things."}]},{type:a,value:" In the following sections, we're going to analyze a design that could have prevented such mistakes."}]},{type:a,value:h},{type:b,tag:bF,props:{},children:[{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In the previous example, I chose an hypothetical coworker as the person doing the mistake. I'm definitely not implying that only coworkers make mistakes, everyone does. I do plenty of mistakes on a daily basis :)"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:at,props:{id:dP},children:[{type:b,tag:B,props:{href:"#a-better-approach-but-still-not-optimal",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:dQ}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"I hear some of you screaming: \""},{type:b,tag:ap,props:{},children:[{type:a,value:"You should have used useReducer\u002FRedux\u002FZustand\u002F{random pokemon name} instead of those multiple useState!"}]},{type:a,value:dg}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Indeed, in real-world scenarios, you would have likely used a more structured approach to handle the app state, but "},{type:b,tag:aW,props:{},children:[{type:a,value:"that doesn't necessarily solve the problem of invalid states"}]},{type:a,value:v}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"For example, let's refactor the "},{type:b,tag:q,props:{},children:[{type:a,value:bB}]},{type:a,value:" code to use React's "},{type:b,tag:B,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#usereducer",rel:[P,Q,R],target:S},children:[{type:a,value:cb}]},{type:a,value:" instead of multiple "},{type:b,tag:q,props:{},children:[{type:a,value:aL}]},{type:a,value:s}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bp,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F This is the app state"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cu}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F The various actions we can use to update that state"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:es}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:et}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:eu}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ev}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ew}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:ex},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:ey},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:ez},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:eA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:eB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:eC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:eD}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:N}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:eE},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:eF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:eG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bR}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cm}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:eH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:bf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:co}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cr}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:eI},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cs}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:eJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:bE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cX}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:cY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:cZ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:en},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:c$},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ct}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bh}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:eo},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:da},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:db},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:dc}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bh}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:de}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"This version improves our example on multiple fronts:"}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"The handlers ("},{type:b,tag:q,props:{},children:[{type:a,value:bf}]},{type:a,value:bq},{type:b,tag:q,props:{},children:[{type:a,value:bE}]},{type:a,value:") don't need to know about the internal state representation anymore, but can simply dispatch actions in a "},{type:b,tag:ap,props:{},children:[{type:a,value:"declarative"}]},{type:a,value:" way."}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"It's harder to forget updating a slice of the state, as they are handled in a central place (the "},{type:b,tag:q,props:{},children:[{type:a,value:cc}]},{type:a,value:" function) instead of being scattered around handlers."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"That said, despite making it harder to make the state inconsistent, it's still possible to do so."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Let's say that our product manager requests to implement a \"failed attempts\" counter. In a rush, we modify the "},{type:b,tag:q,props:{},children:[{type:a,value:di}]},{type:a,value:" case of the reducer to be based on the previous state:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bp,V]},children:[{type:b,tag:q,props:{},children:[{type:a,value:eK},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bg}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:"\n        failedAttempts"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:" state"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:"failedAttempts "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:eL}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:cz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"As a result, the \"Loading...\" label is still shown after a failed login attempt:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Inconsistent state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Finvalid-state.png"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Of course, this is another silly oversight that would have been easy to spot. We forgot to set "},{type:b,tag:q,props:{},children:[{type:a,value:eM}]},{type:a,value:", and instead took the previous state value ("},{type:b,tag:q,props:{},children:[{type:a,value:N}]},{type:a,value:") using the spread operator "},{type:b,tag:q,props:{},children:[{type:a,value:"...state"}]},{type:a,value:". Unfortunately, in real-world systems it's easy to make such mistakes when the state is made of many fields, and such oversights might not be as easy to spot."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Luckily, we can take this solution a step further. What if we let the compiler spot such mistakes? The answer is "},{type:b,tag:aW,props:{},children:[{type:a,value:"making invalid states unrepresentable"}]},{type:a,value:v}]},{type:a,value:h},{type:b,tag:at,props:{id:dR},children:[{type:b,tag:B,props:{href:"#making-invalid-states-unrepresentable",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:cP}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Let's start from the previous state representation:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bp,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cu}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"The first question we should be asking ourselves is: "},{type:b,tag:ap,props:{},children:[{type:a,value:"what are the possible states of this system?"}]},{type:a,value:" There is no single best answer, but a possible representation could be:"}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Idle"}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Login pending"}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Login success"}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Login failure"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:bF,props:{},children:[{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If the "},{type:b,tag:q,props:{},children:[{type:a,value:"idle"}]},{type:a,value:" state doesn't make sense to you, keep in mind we are trying to model "},{type:b,tag:ap,props:{},children:[{type:a,value:"all"}]},{type:a,value:" the possible states of this system. Idle represents the state of the system before the user makes a login attempt."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Then, we can think about which "},{type:b,tag:ap,props:{},children:[{type:a,value:"fields and values"}]},{type:a,value:" those states can have:"}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Idle\n"},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:dj}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Login pending\n"},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"loading = true"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Login success\n"},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:dj}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"userToken = string"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Login failure\n"},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:dj}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"error = Error\u002Funknown\u002Fwhatever is relevant"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"At this point, we can translate these states into code using Typescript's "},{type:b,tag:B,props:{href:"https:\u002F\u002Fwww.typescriptlang.org\u002Fdocs\u002Fhandbook\u002Ftypescript-in-5-minutes-func.html#discriminated-unions",rel:[P,Q,R],target:S},children:[{type:a,value:"Discriminated unions"}]},{type:a,value:" (also known as "},{type:b,tag:ap,props:{},children:[{type:a,value:"Algebraic Data Types"}]},{type:a,value:"):"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bp,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cu}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:eN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:eO},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Note how for each state, we are explicitly specifying which fields are present and, for some of them, even their value. Discriminated unions give us two superpowers:"}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"We don't need to add optional fields everywhere, nor do we need to check for undefined values. If a state has "},{type:b,tag:q,props:{},children:[{type:a,value:"type = \"success\""}]},{type:a,value:" then Typescript "},{type:b,tag:ap,props:{},children:[{type:a,value:"guarantees"}]},{type:a,value:" that the "},{type:b,tag:q,props:{},children:[{type:a,value:be}]},{type:a,value:" field will be available. In the same way, we won't be able to access the "},{type:b,tag:q,props:{},children:[{type:a,value:be}]},{type:a,value:" if the state is "},{type:b,tag:q,props:{},children:[{type:a,value:di}]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bp,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F This compiles correctly"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:cA},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:eP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:eQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F This doesn't (and it's good!)"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:cA},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:eP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:eQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"We won't be able to set inconsistent states in the reducer"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Updating our previous example with the new approach, we get:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bp,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cu}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:eN},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bs},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:eO},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:cv},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:es}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:et}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cx},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:eu}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bC}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ev}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aF}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ew}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:ex},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:ey},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:ez},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aq}]},{type:a,value:eA},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:eB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:eC},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:cy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:eD}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:N}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:eE},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:eF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bg}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:dh},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:bG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:eG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bk}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bR}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cm}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:eH},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:bf}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:co}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cq}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cr}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:eI},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cs}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:eJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:bE}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:cW},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cX}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:cY},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:cZ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:cA},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aO}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:c$},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ct}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:aM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:cA},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:cd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aX}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:da},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:db},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:dc}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bh}]},{type:a,value:dd},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:de}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:p},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:ck},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:cl},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:ab}]},{type:a,value:J},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"At this point, Typescript will make sure that the state is always in a consistent state. For example, the previous mistake (forgetting "},{type:b,tag:q,props:{},children:[{type:a,value:eM}]},{type:a,value:eR},{type:b,tag:q,props:{},children:[{type:a,value:di}]},{type:a,value:" case due to the spread operator) won't compile:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Typescript fails to compile an invalid state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Ftypescript1.png"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"We made "},{type:b,tag:ap,props:{},children:[{type:a,value:"invalid states unrepresentable"}]},{type:a,value:" "}]},{type:a,value:h},{type:b,tag:bF,props:{},children:[{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Note: You might be wondering why we added the "},{type:b,tag:q,props:{},children:[{type:a,value:cn}]},{type:a,value:" field to all states. The reason is that I thought it would make the example easier to understand. But in this simple scenario, we could drop the "},{type:b,tag:q,props:{},children:[{type:a,value:cn}]},{type:a,value:" field entirely and only show the loading message when the state is pending ("},{type:b,tag:q,props:{},children:[{type:a,value:"state.type === 'pending'"}]},{type:a,value:")."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:at,props:{id:dS},children:[{type:b,tag:B,props:{href:"#final-thoughts",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:dT}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"All right! We started from a problematic example and gradually improved the way our state is represented, making the app more robust along the way."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"It's important to consider these techniques as an additional tool you have at your disposal rather than absolute truths. There might be cases where these techniques are impractical for several reasons. As always, use the right tool for the job!"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If you're interested, you can find the complete code for our final solution in "},{type:b,tag:B,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Freactinvalidstatesunrepresentable-good-9l8pym?file=\u002Fsrc\u002FApp.tsx",rel:[P,Q,R],target:S},children:[{type:a,value:"this Codesandbox"}]},{type:a,value:v}]}]},excerpt:{type:bM,children:[{type:b,tag:p,props:{},children:[{type:a,value:cM}]}]},dir:dl,path:"\u002Farticles\u002F2022-05-02-building-robust-applications-by-making-invalid-states-unrepresentable",extension:dm,createdAt:bU,updatedAt:bU,cleanedSlug:"building-robust-applications-by-making-invalid-states-unrepresentable"},{slug:"2022-02-04-optimizing-list-in-react-solving-performance-problems-and-anti-patterns",description:dn,layout:cN,title:"Optimizing Lists in React - Solving Performance Problems and Anti-patterns",author:cO,date:"2022-02-04T00:00:00.000Z",categories:"react list performance optimizations patterns anti-patterns",social_title:"Optimizing Lists in React",social_subtitle:"Solving Performance Problems and Anti-patterns",toc:[{id:eS,depth:as,text:eT},{id:eU,depth:as,text:eV},{id:eW,depth:as,text:eX},{id:eY,depth:as,text:eZ}],body:{type:bM,children:[{type:b,tag:p,props:{},children:[{type:a,value:dn}]},{type:a,value:h},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Its easy to write inefficient code in React, with useless re-renders being the common enemy. Usually, you start from a simple application and gradually build features on top of it. At first, the application is small enough to make the inefficiencies unnoticeable, but as the complexity grows, so does the component hierarchy, and thus, the number of re-renders. Then, once the application speed becomes unbearable (according to your standards), you start profiling and optimizing the problematic areas."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In this article, we are going to discuss the optimization process for lists, which are notorious sources of performance problems in React. Most of these techniques apply to both React and React Native applications."}]},{type:a,value:h},{type:b,tag:aE,props:{id:"starting-from-a-problematic-example"},children:[{type:b,tag:B,props:{href:"#starting-from-a-problematic-example",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:"Starting from a problematic example"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Well start from a problematic example and gradually discuss the process of identifying and solving the different issues."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Problematic List example",src:"\u002Fposts\u002Freact-list\u002Freact_list_example.gif"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"The proposed example is a simple list of selectable items, with a few performance problems. Clicking on an item toggles the selection status, but the operation is visibly laggy. Our goal is to make the selection feel snappy. You can find the complete code as follows (a "},{type:b,tag:B,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Fcommonreactlistmistakes-9f3ex",rel:[P,Q,R],target:S},children:[{type:a,value:"Codesandbox"}]},{type:a,value:" is also available)."}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k,bV]},children:[{type:a,value:cR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e_]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:dX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k,bV]},children:[{type:a,value:cS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Create mock data with elements containing increasing items"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:" data "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bO}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"Array"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:e$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:"fill"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:bl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:"_"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:fa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:eL}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:cz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:bl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:fb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,cB,aa]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:" n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,cB,aa]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"template-string"]},children:[{type:b,tag:c,props:{className:[d,fc,u]},children:[{type:a,value:fd}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"Item "}]},{type:b,tag:c,props:{className:[d,"interpolation"]},children:[{type:b,tag:c,props:{className:[d,fe,e]},children:[{type:a,value:"${"}]},{type:a,value:fb},{type:b,tag:c,props:{className:[d,fe,e]},children:[{type:a,value:m}]}]},{type:b,tag:c,props:{className:[d,fc,u]},children:[{type:a,value:fd}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k,bV]},children:[{type:a,value:cm}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k,bV]},children:[{type:a,value:b$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:bB}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F An array containing the selected items"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:ff},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Select or unselect the given item"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:an}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bh}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,cC,g]},children:[{type:a,value:bg}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:cD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:cE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:cF},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:cd}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:J}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:"className"}]},{type:b,tag:c,props:{className:[d,"attr-value"]},children:[{type:b,tag:c,props:{className:[d,e,"attr-equals"]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:dg}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:dg}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:"List Example"}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bH}]},{type:a,value:aE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:bI}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bn}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:bv}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bw}]}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bH}]},{type:a,value:J}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:bI}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:bl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aB}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bw}]}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bH}]},{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:aB}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:fg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:fh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:fi},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:fj}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:fk}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:fl}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dr}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:W}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:fm}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:fn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,cB,aa]},children:[{type:a,value:fo}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:fp}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k,fq]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bH}]},{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F This is an example of an expensive JS operation that we might"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F execute in the render function to simulate a load."}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F In real-world applications, this operation could be either a custom"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F JS elaboration or just a complex render"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:a,value:dr}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Here we use selected just because we want to simulate"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F an operation that depends on the props"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bx}]},{type:a,value:" total "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:" selected "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:cz}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:ds}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:d$}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bx}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:ds}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:"200000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:fa},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"++"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n    total "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"+="}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"known-class-name",G]},children:[{type:a,value:"Math"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:"random"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:" total"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L}]}]}]},{type:a,value:h},{type:b,tag:bF,props:{},children:[{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If you want to practice, feel free to pause reading and try to spot the problems yourself first"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Lets dive into the analysis."}]},{type:a,value:h},{type:b,tag:aE,props:{id:"missing-key-prop"},children:[{type:b,tag:B,props:{href:"#missing-key-prop",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:"Missing key prop"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"The first thing we can notice from the console is that we are not passing the "},{type:b,tag:q,props:{},children:[{type:a,value:by}]},{type:a,value:" prop when rendering the list items."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Missing key prop warning",src:"\u002Fposts\u002Freact-list\u002Fmissing_key_prop.png"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"which is caused by this code:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:bl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aB}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bw}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"As you might already know, the "},{type:b,tag:q,props:{},children:[{type:a,value:by}]},{type:a,value:" prop is critical for dynamic lists to work correctly in React, as it helps the framework identify which items have changed, are added, or are removed."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"A common beginners anti-pattern is to solve the problem by passing the items index:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:bl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" index"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aB}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"index"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bw}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Despite working for simple use-cases, this approach leads to multiple unexpected behaviors when the list is dynamic, with items being added or removed. For example, if you delete an item in the middle of a list at index N, then all list items located at positions N+1 will now have a different key. That causes React to confuse which mapped component belongs to which items. If you want to know more about the potential pitfalls of using the index as key, "},{type:b,tag:B,props:{href:"https:\u002F\u002Frobinpokorny.medium.com\u002Findex-as-a-key-is-an-anti-pattern-e0349aece318",rel:[P,Q,R],target:S},children:[{type:a,value:"this article"}]},{type:a,value:" is a great resource."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Therefore, you should specify a key prop with something that uniquely identifies the item being rendered. If the data youre receiving is coming from a backend, you might be able to use the databases unique id as key. Otherwise, you could generate a client-side random id with "},{type:b,tag:B,props:{href:"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Fnanoid",rel:[P,Q,R],target:S},children:[{type:a,value:"nanoid"}]},{type:a,value:" when creating the items."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Luckily, each of our own items has its own id property, so we should handle it as follows:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:bl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:aB}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bw}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Adding the key solves the previous warning, but we still have a significant lag when selecting an item. Its time to go serious and open the profiler."}]},{type:a,value:h},{type:b,tag:aE,props:{id:"profiling-the-list"},children:[{type:b,tag:B,props:{href:"#profiling-the-list",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:"Profiling the list"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Now that we solved the "},{type:b,tag:q,props:{},children:[{type:a,value:by}]},{type:a,value:" warning, we are ready to tackle the performance problem. At this stage, using a profiler can help to track down the slow areas and therefore guide our optimization, so thats what we are going to do."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"When working with React, there are two main profilers you can use: the browsers built-in profiler, such as the one available inside Chromes Dev Tools, and the profiler provided by the React DevTools extension. Both of them are useful in different scenarios. From my experience, the React DevTools profiler is a good starting point, as it gives you a component-aware performance representation, which is helpful to track down the specific components that are causing problems, whereas the browsers profiler works at a lower level and its mostly helpful in those cases where the performance problems are not directly related to a component, for example, due to a slow method or Redux reducer."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"For this reason, we are going to start with the React DevTools profiler, so make sure to have the extension installed. Then, you can access the Profiler tool from Chromes dev tools \u003E Profiler. Before starting, we are going to set up two settings that will help us in the optimization process:"}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"In Chromes Performance tab, set CPU throttling to x6. That will simulate a slower CPU, making slowdowns much more evident."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"CPU throttling",src:"\u002Fposts\u002Freact-list\u002Fprofiler_cpu_throttle.png"},children:[]}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"In React DevTools Profiler tab, click on the Gear icon \u003E Profiler \u003E Record why each component rendered while profiling. This will help us track down the causes for useless re-renders."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"React profiler settings",src:"\u002Fposts\u002Freact-list\u002Freact_profile_settings.png"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Once the configuration is done, we are ready to profile our sample todo app. Go ahead and click on the Record button, then select some items in the list and, finally, hit stop recording. This is the result we obtain after selecting 3 items:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"React profiler results",src:"\u002Fposts\u002Freact-list\u002Freact_app_profiler_result.png"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"On the top right side, you see highlighted in red the commits, which, in short, are the renders that caused the DOM to update. As you can see, the current commit took 2671 milliseconds to render. By hovering on the various elements, we can tell that most of the time is spent rendering the list items, with an average of 26 milliseconds per item."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Spending 26 milliseconds rendering a single item is not inherently bad. As long as the entire operation takes less than 100ms, the action would still be perceived as snappy by the user. Our biggest problem is that selecting a single item causes all the items to be re-rendered, and thats what we are going to tackle in the next section."}]},{type:a,value:h},{type:b,tag:bF,props:{},children:[{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"A question we should ask ourselves at this point is: whats the expected number of items to re-render after an action? In this particular case, the answer is one, as the result of a click is a new item being selected, with none of the others being affected. Another scenario might be a single-selection list, where at most one item could be selected at any given time. In that case, clicking on an item should cause the re-render of two items, as we need to render both the selected one and the one being unselected."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:aE,props:{id:"preventing-re-renders-with-reactmemo"},children:[{type:b,tag:B,props:{href:"#preventing-re-renders-with-reactmemo",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:"Preventing re-renders with React.memo"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In the previous section, we discussed how selecting a single item causes the entire list to be re-rendered.\nIdeally, we would like to re-render only the items whose \"looks\" are affected by the new selection.\nWe can do that using the "},{type:b,tag:B,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Freact-api.html#reactmemo",rel:[P,Q,R],target:S},children:[{type:a,value:bc}]},{type:a,value:" higher-order component."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In a nutshell, "},{type:b,tag:q,props:{},children:[{type:a,value:bc}]},{type:a,value:" compares the new props with the old ones and, if they are equal, it reuses the previous render.\nOtherwise, if the props are different, it re-renders the component.\nIt's important to note that React executes a "},{type:b,tag:aW,props:{},children:[{type:a,value:fr}]},{type:a,value:" of the props, which must be taken\ninto account when passing objects and methods as props.\nYou can also override the comparison function, though I would advise against it, as it makes\nthe code less maintainable (more on this later)."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Now that we know the basics of "},{type:b,tag:q,props:{},children:[{type:a,value:bc}]},{type:a,value:", let's create another component by wrapping the "},{type:b,tag:q,props:{},children:[{type:a,value:aB}]},{type:a,value:" with it:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k,bV]},children:[{type:a,value:cR}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e_]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:" memo "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k,bV]},children:[{type:a,value:cS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cT}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:bo}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"We can now use "},{type:b,tag:q,props:{},children:[{type:a,value:bo}]},{type:a,value:" instead of "},{type:b,tag:q,props:{},children:[{type:a,value:aB}]},{type:a,value:" in the list:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:a,value:aN},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:bl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:bo}]}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bw}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Nice! We now have memoized the "},{type:b,tag:q,props:{},children:[{type:a,value:aB}]},{type:a,value:". If you go ahead and try the application, you'll notice something is wrong...\nThe application is still slow!"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If we open up the profiler as we previously did and record a selection, we should be presented with something like the following:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"React profiler after memoizing",src:"\u002Fposts\u002Freact-list\u002Freact_app_memoized_profiler.png"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:eq},{type:b,tag:aW,props:{},children:[{type:a,value:"we are still re-rendering all the items"}]},{type:a,value:"! Why is it happening?\nIf you hover on one of the list items, you'll see the \"Why did this render?\" section. In our case, it says "},{type:b,tag:q,props:{},children:[{type:a,value:"Props changed: (onClick)"}]},{type:a,value:",\nwhich means our items are re-rendering due to the "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" callback we are passing to each item."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"As we previously discussed, "},{type:b,tag:q,props:{},children:[{type:a,value:bc}]},{type:a,value:" does a "},{type:b,tag:ap,props:{},children:[{type:a,value:fr}]},{type:a,value:" of the props by default.\nWhich basically means calling the strick equality operator "},{type:b,tag:q,props:{},children:[{type:a,value:aK}]},{type:a,value:" over each prop. In our case, the check would\nbe roughly equivalent to:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,bK]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:o}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"arePropsEqual"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:dt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:" prevProps"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:fs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:fs},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ah}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"While "},{type:b,tag:q,props:{},children:[{type:a,value:ag}]},{type:a,value:bq},{type:b,tag:q,props:{},children:[{type:a,value:ac}]},{type:a,value:" are compared by "},{type:b,tag:ap,props:{},children:[{type:a,value:cU}]},{type:a,value:" (because they are primitive types, string and boolean respectively), "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" is compared\nby "},{type:b,tag:ap,props:{},children:[{type:a,value:"reference"}]},{type:a,value:" (being a function).\nWhen we created the list items, we passed the "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" callback as an anonymous closure:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:a,value:ah},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Every time the list re-renders, "},{type:b,tag:aW,props:{},children:[{type:a,value:"each item receives a new callback function"}]},{type:a,value:".\nFrom an equality perspective, the callback "},{type:b,tag:ap,props:{},children:[{type:a,value:"has changed"}]},{type:a,value:", and therefore the "},{type:b,tag:q,props:{},children:[{type:a,value:bo}]},{type:a,value:" is re-rendered."}]},{type:a,value:h},{type:b,tag:bF,props:{},children:[{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If the equality aspect is still unclear to you, go ahead and open the JS console inside your browser.\nIf you type "},{type:b,tag:q,props:{},children:[{type:a,value:"true === true"}]},{type:a,value:", you'll notice that the result is "},{type:b,tag:q,props:{},children:[{type:a,value:N}]},{type:a,value:".\nBut if you type "},{type:b,tag:q,props:{},children:[{type:a,value:"(() =\u003E {}) === (() =\u003E {})"}]},{type:a,value:", you'll get "},{type:b,tag:q,props:{},children:[{type:a,value:aA}]},{type:a,value:" as result.\nThat's because two functions are equal only if they share the same identity, and\nevery time we create a new closure we generate a new identity."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Therefore, we need a way to keep the identity of the "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" callback stable to prevent useless re-renders,\nand that's what we are going to discuss in the next sections."}]},{type:a,value:h},{type:b,tag:at,props:{id:eS},children:[{type:b,tag:B,props:{href:"#a-common-anti-pattern",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:eT}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Before discussing the proposed solution, let's analyze a common (anti-)pattern being used in these cases.\nGiven that the "},{type:b,tag:q,props:{},children:[{type:a,value:bc}]},{type:a,value:" method accepts a custom comparator, you might be tempted to provide one that\nartifically "},{type:b,tag:ap,props:{},children:[{type:a,value:"excludes"}]},{type:a,value:f},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" from the check. Something like the following:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:bo}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:dt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:cf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:cf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ac}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F The onClick prop is not compared"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In this case, even with a changing "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" callback, the list items won't be re-rendered unless "},{type:b,tag:q,props:{},children:[{type:a,value:ag}]},{type:a,value:" or "},{type:b,tag:q,props:{},children:[{type:a,value:ac}]},{type:a,value:" are updated.\nIf you go ahead and try this approach, you'll notice the list feels snappy now, but something is wrong:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"React list custom comparator",src:"\u002Fposts\u002Freact-list\u002Freact_list_example_custom_comparator.gif"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"As you can see, selecting multiple items doesn't work as expected now, with items being randomly selected and unselected.\nThis is happening because the "},{type:b,tag:aW,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:an}]},{type:a,value:" function is not pure"}]},{type:a,value:", as it depends on the previous value of the "},{type:b,tag:q,props:{},children:[{type:a,value:ac}]},{type:a,value:" items.\nIf you exclude the "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" callback check from the "},{type:b,tag:q,props:{},children:[{type:a,value:bc}]},{type:a,value:" comparator, then your components might receive an outdated (stale)\nversion of the callback, causing all those glitches."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In this particular case, the way the "},{type:b,tag:q,props:{},children:[{type:a,value:an}]},{type:a,value:" is implemented is not optimal and we can easily convert it to a pure function\n(in fact, we are going to do that in the next section). But my point here is: "},{type:b,tag:aW,props:{},children:[{type:a,value:"by excluding the "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" callback from the "},{type:b,tag:q,props:{},children:[{type:a,value:cG}]},{type:a,value:"\ncomparator, you're exposing the application to subtle staleness bugs"}]},{type:a,value:v}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Some might argue that as long as the "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" callback is kept "},{type:b,tag:ap,props:{},children:[{type:a,value:"pure"}]},{type:a,value:", then this approach is perfectly acceptable.\nPersonally, I consider this an anti-pattern for two reasons:"}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"In complex codebases is relatively easy to transform a pure function into a non-pure one by mistake."}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"By writing a custom comparator,  you're creating an additional maintenance burden. What if the "},{type:b,tag:q,props:{},children:[{type:a,value:aB}]},{type:a,value:" needs to accept another "},{type:b,tag:q,props:{},children:[{type:a,value:du}]},{type:a,value:" parameter in the future?"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Then, you'll need to refactor to the comparator, as shown below. If you forget to add it (which is relatively easy in complex codebases with multiple contributors), then you are again exposing your component to staleness bugs."}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:bo}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:aB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:dt},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:aZ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:cf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:cf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ac}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aV}]},{type:a,value:cf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:du}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:aK}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:du}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If a custom comparator is not advisable, what should we do to solve this problem then?"}]},{type:a,value:h},{type:b,tag:aE,props:{id:"making-callback-identities-stable"},children:[{type:b,tag:B,props:{href:"#making-callback-identities-stable",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:"Making callback identities stable"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Our goal is to use the \"base\" version of "},{type:b,tag:q,props:{},children:[{type:a,value:bc}]},{type:a,value:" without a custom comparator.\nChoosing this path will both improve the maintainability of the component and its robustness against future changes.\nFor the memoization to work correctly though, we'll need to "},{type:b,tag:aW,props:{},children:[{type:a,value:"refactor the callback to keep its identity stable"}]},{type:a,value:", otherwise\nthe equality check performed by "},{type:b,tag:q,props:{},children:[{type:a,value:bc}]},{type:a,value:" will prevent the memoization."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"The traditional way to keep function identities stable in React is to use the "},{type:b,tag:q,props:{},children:[{type:a,value:aH}]},{type:a,value:" hook.\nThe hook accepts a function and a dependency array, and as long as the dependencies won't change, neither will the identity of the callback.\nLet's refactor our example to use "},{type:b,tag:q,props:{},children:[{type:a,value:aH}]},{type:a,value:s}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Our first attempt is to move the anonymous closure "},{type:b,tag:q,props:{},children:[{type:a,value:"() =\u003E toggleItem(item)"}]},{type:a,value:" inside a separate method inside "},{type:b,tag:q,props:{},children:[{type:a,value:aH}]},{type:a,value:s}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:bI}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:cH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dv}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dv}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F How do we get the item?"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:bl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:bo}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bw}]}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bH}]},{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"We are now facing a problem: previously, the anonymous closure captured the current "},{type:b,tag:q,props:{},children:[{type:a,value:E}]},{type:a,value:eR},{type:b,tag:q,props:{},children:[{type:a,value:".map"}]},{type:a,value:" iteration and then passed it to the "},{type:b,tag:q,props:{},children:[{type:a,value:an}]},{type:a,value:"\nfunction as an argument. But now, we are not declaring the "},{type:b,tag:q,props:{},children:[{type:a,value:bL}]},{type:a,value:" handler inside the iteration, so how can we access the \"selected item\" in the callback?\nLet's discuss a possible solution:"}]},{type:a,value:h},{type:b,tag:at,props:{id:eU},children:[{type:b,tag:B,props:{href:"#refactoring-the-listitem-component",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:eV}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Currently, the "},{type:b,tag:q,props:{},children:[{type:a,value:aB}]},{type:a,value:cI},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" callback doesn't provide any information about the item being selected.\nIf it did, we would be able to easily solve this problem, so let's refactor the "},{type:b,tag:q,props:{},children:[{type:a,value:aB}]},{type:a,value:bq},{type:b,tag:q,props:{},children:[{type:a,value:bI}]},{type:a,value:" components to provide this information."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Firstly, we change the "},{type:b,tag:q,props:{},children:[{type:a,value:aB}]},{type:a,value:" component to accept the full "},{type:b,tag:q,props:{},children:[{type:a,value:E}]},{type:a,value:" object, and given that the "},{type:b,tag:q,props:{},children:[{type:a,value:ag}]},{type:a,value:" prop is now redundant we remove it.\nThen, we introduce an handler for the "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" event to also provide the "},{type:b,tag:q,props:{},children:[{type:a,value:E}]},{type:a,value:" as argument. This is our end result:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:aB}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:fh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:fi},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:fj}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:fk}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:fl}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dr}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:W}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:fm}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:fn},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bb}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,cB,aa]},children:[{type:a,value:fo}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:fp}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k,fq]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ag}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bH}]},{type:a,value:W}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"As you can see, the "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" now provides the current item as a parameter."}]},{type:a,value:h},{type:b,tag:bF,props:{},children:[{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"But wait! You used an anonymous closure again in the "},{type:b,tag:q,props:{},children:[{type:a,value:W}]},{type:a,value:cI},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" handler, shouldn't we avoid them to prevent re-renderings?\nWhile we "},{type:b,tag:ap,props:{},children:[{type:a,value:"could"}]},{type:a,value:" create another memoized callback with "},{type:b,tag:q,props:{},children:[{type:a,value:aH}]},{type:a,value:" inside the "},{type:b,tag:q,props:{},children:[{type:a,value:aB}]},{type:a,value:" component to handle the click event, that would offer no performance improvements in this case.\nThe problem with the anonymous closure we discussed earlier in the "},{type:b,tag:q,props:{},children:[{type:a,value:bI}]},{type:a,value:" item was that it broke the "},{type:b,tag:q,props:{},children:[{type:a,value:bc}]},{type:a,value:" memoization for the "},{type:b,tag:q,props:{},children:[{type:a,value:bo}]},{type:a,value:". Given that we are "},{type:b,tag:ap,props:{},children:[{type:a,value:ft}]},{type:a,value:" memoizing the "},{type:b,tag:q,props:{},children:[{type:a,value:W}]},{type:a,value:" element, then there is no performance benefit from having a stable identity for this callback."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"We can then refactor the "},{type:b,tag:q,props:{},children:[{type:a,value:bI}]},{type:a,value:" component to pass the "},{type:b,tag:q,props:{},children:[{type:a,value:E}]},{type:a,value:" prop instead of "},{type:b,tag:q,props:{},children:[{type:a,value:ag}]},{type:a,value:" and to make use of the newly available "},{type:b,tag:q,props:{},children:[{type:a,value:E}]},{type:a,value:" information in the "},{type:b,tag:q,props:{},children:[{type:a,value:bL}]},{type:a,value:" callback:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,aQ]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aD,o]},children:[{type:b,tag:c,props:{className:[d,aR]},children:[{type:a,value:bI}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:dq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:cH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F We now receive the selected item"}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:bl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:bo}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:by}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ce}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F We pass the full item instead of the name"}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,O]},children:[{type:a,value:ah}]},{type:b,tag:c,props:{className:[d,Y,Z]},children:[{type:b,tag:c,props:{className:[d,_,e]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bw}]}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,aI]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:bH}]},{type:a,value:av}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:z}]}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Nice! Let's go ahead and try the refactored version:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"React list example, after changes",src:"\u002Fposts\u002Freact-list\u002Freact_list_example_2.gif"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"It works... but it's still slow! If we open up the profiler, we can see the whole list is still being rendered:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Profiler results after changes",src:"\u002Fposts\u002Freact-list\u002Freact_list_perf.png"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"As you can see from the profiler, the "},{type:b,tag:q,props:{},children:[{type:a,value:ah}]},{type:a,value:" identity is still changing! That means our "},{type:b,tag:q,props:{},children:[{type:a,value:bL}]},{type:a,value:" identity is being changed at every re-render."}]},{type:a,value:h},{type:b,tag:at,props:{id:eW},children:[{type:b,tag:B,props:{href:"#another-common-anti-pattern",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:eX}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Before diving into the proper solution, let's discuss a common anti-pattern used in these cases.\nGiven that the "},{type:b,tag:q,props:{},children:[{type:a,value:aH}]},{type:a,value:" accepts a dependency array, you could be tempted to specify an empty one to keep the identity fixed:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,bK]},children:[{type:b,tag:q,props:{},children:[{type:a,value:aN},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:cH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Despite keeping the identity stable, "},{type:b,tag:aW,props:{},children:[{type:a,value:"this approach suffers from the same staleness bugs we discussed in previous sections"}]},{type:a,value:".\nIf we run it, you'll notice the items get unselected as it happened when we specified the custom comparator:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"React list example with bugs",src:"\u002Fposts\u002Freact-list\u002Freact_list_example_3.gif"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In general, you should always specify the correct dependencies in "},{type:b,tag:q,props:{},children:[{type:a,value:aH}]},{type:a,value:er},{type:b,tag:q,props:{},children:[{type:a,value:"useEffect"}]},{type:a,value:bq},{type:b,tag:q,props:{},children:[{type:a,value:fu}]},{type:a,value:", otherwise, you're\nexposing the application to potentially hard-to-debug staleness bugs."}]},{type:a,value:h},{type:b,tag:aE,props:{id:"solving-the-toggleitem-identity-problem"},children:[{type:b,tag:B,props:{href:"#solving-the-toggleitem-identity-problem",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:"Solving the toggleItem identity problem"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"As we previously discussed, the problem with our "},{type:b,tag:q,props:{},children:[{type:a,value:bL}]},{type:a,value:" callback is that its "},{type:b,tag:q,props:{},children:[{type:a,value:an}]},{type:a,value:" dependency identity changes at each render, causing it to re-render as well:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,bK]},children:[{type:b,tag:q,props:{},children:[{type:a,value:aN},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:cH},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:an}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Our first attempt is to wrap "},{type:b,tag:q,props:{},children:[{type:a,value:an}]},{type:a,value:" with "},{type:b,tag:q,props:{},children:[{type:a,value:aH}]},{type:a,value:" as we did with "},{type:b,tag:q,props:{},children:[{type:a,value:bL}]},{type:a,value:s}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,bK]},children:[{type:b,tag:q,props:{},children:[{type:a,value:aN},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bh}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,cC,g]},children:[{type:a,value:bg}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:cD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:cE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:cF},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:cd}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"This does "},{type:b,tag:ap,props:{},children:[{type:a,value:ft}]},{type:a,value:" solve the problem though, as this callback depends on the external state variable "},{type:b,tag:q,props:{},children:[{type:a,value:ac}]},{type:a,value:", which changes every time "},{type:b,tag:q,props:{},children:[{type:a,value:bu}]},{type:a,value:" is called. If we want its identity to remain stable, we need a way to make "},{type:b,tag:q,props:{},children:[{type:a,value:an}]},{type:a,value:" pure. Luckily, we can use "},{type:b,tag:B,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#functional-updates",rel:[P,Q,R],target:S},children:[{type:b,tag:q,props:{},children:[{type:a,value:aL}]},{type:a,value:"'s functional updates"}]},{type:a,value:" to accomplish our goal:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,bK]},children:[{type:b,tag:q,props:{},children:[{type:a,value:aN},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:bW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bh}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,cC,g]},children:[{type:a,value:bg}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:fv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:cD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:cE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:cF},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:cd}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"As you can see, we wrapped our previous logic inside the "},{type:b,tag:q,props:{},children:[{type:a,value:bu}]},{type:a,value:" call, which in turn provides the previous state value we need to compute the new selected items."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If we go ahead and run the refactored example, it works and it's also snappy! We can also run the usual profiler to get a sense of what's happening:"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Hovering on the item being rendered:\n"},{type:b,tag:ax,props:{alt:"Fixed react example",src:"\u002Fposts\u002Freact-list\u002Freact_list_memo_good_2.png"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Hovering on the other items:\n"},{type:b,tag:ax,props:{alt:"Fixed react example 2",src:"\u002Fposts\u002Freact-list\u002Freact_list_memo_good_1.png"},children:[]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"As you can see, after selecting an item we only render the current one being selected now, while the others are being memoized."}]},{type:a,value:h},{type:b,tag:at,props:{id:eY},children:[{type:b,tag:B,props:{href:"#a-note-on-functional-state-updates",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:eZ}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In the example we just discussed, converting our "},{type:b,tag:q,props:{},children:[{type:a,value:an}]},{type:a,value:" method to the functional mode of "},{type:b,tag:q,props:{},children:[{type:a,value:aL}]},{type:a,value:" was relatively trivial.\nIn real-world scenarios, things might not be as straightforward."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"For example, your function might depend on multiple state pieces:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,bK]},children:[{type:b,tag:q,props:{},children:[{type:a,value:aN},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:ff},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" setEnabled"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,ao]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Only toggle the items if enabled"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:bW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:bd}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bh}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:aY}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,cC,g]},children:[{type:a,value:bg}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:b_}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,k,ar]},children:[{type:a,value:aj}]},{type:a,value:fv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,ak,o,F]},children:[{type:a,value:cD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:cE}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:cF},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:cd}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:A},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:cJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Every time the "},{type:b,tag:q,props:{},children:[{type:a,value:cJ}]},{type:a,value:" value changes, your "},{type:b,tag:q,props:{},children:[{type:a,value:an}]},{type:a,value:" identity will change as well.\nIn these scenarios, you should either merge both sub-states into the same "},{type:b,tag:q,props:{},children:[{type:a,value:aL}]},{type:a,value:" call, or even better, convert it to a "},{type:b,tag:B,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#additional-hooks",rel:[P,Q,R],target:S},children:[{type:b,tag:q,props:{},children:[{type:a,value:cb}]}]},{type:a,value:" one.\nGiven that "},{type:b,tag:q,props:{},children:[{type:a,value:cb}]},{type:a,value:cI},{type:b,tag:q,props:{},children:[{type:a,value:aP}]},{type:a,value:" function has a stable identity, you can scale this approach to complex states.\nMoreover, the same applies to "},{type:b,tag:B,props:{href:"https:\u002F\u002Fredux.js.org\u002F",rel:[P,Q,R],target:S},children:[{type:a,value:"Redux"}]},{type:a,value:cI},{type:b,tag:q,props:{},children:[{type:a,value:aP}]},{type:a,value:" function, so you can move the item toggle logic at the Redux level and convert our "},{type:b,tag:q,props:{},children:[{type:a,value:an}]},{type:a,value:" function to something as:"}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[V,bK]},children:[{type:b,tag:q,props:{},children:[{type:a,value:aN},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:" dispatch "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"useDispatch"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Given that the dispatch identity is stable, the `toggleItem` will be stable as well"}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,$]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,M,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"toggleItemAction"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:E},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:aE,props:{id:"virtualizing-the-list"},children:[{type:b,tag:B,props:{href:"#virtualizing-the-list",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:"Virtualizing the list?"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Before closing the article, I wanted to briefly cover "},{type:b,tag:ap,props:{},children:[{type:a,value:"list virtualization"}]},{type:a,value:", a common technique used to improve performance for long lists.\nIn a nutshell, list virtualization is based on the idea of rendering just a sub-set of the items in a given list (generally the currently visible ones) and deferring the others.\nFor example, if you have a list with a thousand items but only 10 are visible at any given time, then we might only render these 10 first, and the others can be rendered "},{type:b,tag:ap,props:{},children:[{type:a,value:"on-demand"}]},{type:a,value:" when needed (i.e. after scrolling)."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"List virtualization offers two main advantages compared to rendering the entire list:"}]},{type:a,value:h},{type:b,tag:av,props:{},children:[{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Faster initial start time, as we only need to render a subset of the list"}]},{type:a,value:h},{type:b,tag:W,props:{},children:[{type:a,value:"Lower memory usage, as only a subset of the items is being rendered at any given time"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"That said, list virtualization is not a silver bullet you should always use, as it increases complexity and can be glitchy.\nPersonally, I'd avoid virtualized lists if you are only dealing with hundreds of items, as the memoization techniques we discussed in this article are often effective enough  (older mobile devices might require a lower threshold). As always, the right approach depends on the specific use case, so I'd highly recommend profiling your list before diving into more complex optimization techniques."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"We are going to cover virtualization in a future article. In the meanwhile, you can read more about virtualized lists in React, with libraries like "},{type:b,tag:B,props:{href:"https:\u002F\u002Fgithub.com\u002Fbvaughn\u002Freact-window",rel:[P,Q,R],target:S},children:[{type:a,value:"react-window"}]},{type:a,value:", and in React Native, with the built-in "},{type:b,tag:B,props:{href:"https:\u002F\u002Freactnative.dev\u002Fdocs\u002Fflatlist",rel:[P,Q,R],target:S},children:[{type:a,value:"FlatList"}]},{type:a,value:" component."}]},{type:a,value:h},{type:b,tag:aE,props:{id:"conclusion"},children:[{type:b,tag:B,props:{href:"#conclusion",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:"Conclusion"}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In this article, we covered list optimization in depth. We started from a problematic example and gradually solved most of the performance problems.\nWe also discussed the main anti-patterns you should be aware of, along with potential ways to solve them."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In conclusion, lists are often the cause of performance problems in React, as all items are being re-rendered every time something changes by default.\n"},{type:b,tag:q,props:{},children:[{type:a,value:bc}]},{type:a,value:" is an effective tool to mitigate the issue, but you might need to refactor your application to make your props' identities stable."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"The final code is available in "},{type:b,tag:B,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Fcommonreactlistmistakes-solved-7sn20?file=\u002Fsrc\u002FApp.js",rel:[P,Q,R],target:S},children:[{type:a,value:"this CodeSandbox"}]},{type:a,value:" if you're interested."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"PS: there's one small "},{type:b,tag:q,props:{},children:[{type:a,value:fu}]},{type:a,value:" optimization left to add in our example, can you spot it yourself? :)"}]}]},excerpt:{type:bM,children:[{type:b,tag:p,props:{},children:[{type:a,value:dn}]}]},dir:dl,path:"\u002Farticles\u002F2022-02-04-optimizing-list-in-react-solving-performance-problems-and-anti-patterns",extension:dm,createdAt:bU,updatedAt:bU,cleanedSlug:"optimizing-list-in-react-solving-performance-problems-and-anti-patterns"},{slug:"2022-01-04-12-rust-tips-and-tricks-you-might-not-know-yet",description:"Rust is a great programming language: reliable, fast, enjoyable, but also rather complex. Over the past two years, Ive been using it both professionally and on side projects (such as Espanso) and, over that time, I stumbled upon many useful patterns and crates that I wish I knew when I first started learning it.",layout:cN,title:"12 Rust Tips and Tricks you might not know yet",author:cO,date:"2022-01-04T00:00:00.000Z",categories:"rust tips tricks tip crates useful",toc:[{id:fw,depth:as,text:fx},{id:fy,depth:as,text:fz},{id:fA,depth:as,text:fB},{id:fC,depth:as,text:fD},{id:fE,depth:as,text:fF},{id:fG,depth:as,text:fH},{id:fI,depth:as,text:fJ},{id:fK,depth:as,text:fL},{id:fM,depth:as,text:fN},{id:fO,depth:as,text:fP},{id:fQ,depth:as,text:fR},{id:fS,depth:as,text:fT}],body:{type:bM,children:[{type:b,tag:p,props:{},children:[{type:a,value:fU},{type:b,tag:B,props:{href:dw,rel:[P,Q,R],target:S},children:[{type:a,value:dx}]},{type:a,value:fV}]},{type:a,value:h},{type:a,value:h},{type:b,tag:at,props:{id:fw},children:[{type:b,tag:B,props:{href:"#using-cowstr-as-return-type",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fx}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Sometimes you need to write methods that accept a string slice (&str) and conditionally return either a modified version of it or the original one. For these cases, you might use "},{type:b,tag:B,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fborrow\u002Fenum.Cow.html",rel:[P,Q,R],target:S},children:[{type:a,value:"Cow\u003Cstr\u003E"}]},{type:a,value:", so that you only allocate new memory when necessary."}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bz,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bX]},children:[{type:a,value:dy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:a,value:"borrow"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:dz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dA}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:dB}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:dC}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cg}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:dB}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"match"}]},{type:a,value:fg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:fW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"nth"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:ds}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:fX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:fY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bd}]},{type:a,value:fZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"is_uppercase"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F No allocation is necessary, as the string"}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F already starts with an uppercase char"}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:f_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:fX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:fY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F An allocation is necessary, as the old string"}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F does not start with an uppercase char"}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bx}]},{type:a,value:" new_string"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ct}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:fZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"to_uppercase"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"chain"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:fW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"skip"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:cz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f$},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"collect"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n            \n            "},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"Owned"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"new_string"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"None"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:f_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"bob\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"   "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Allocation"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dz}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"John\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F No allocation"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:fy},children:[{type:b,tag:B,props:{href:"#crossbeam-channels-instead-of-the-standard-ones",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fz}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:cQ},{type:b,tag:B,props:{href:"https:\u002F\u002Fgithub.com\u002Fcrossbeam-rs\u002Fcrossbeam",rel:[P,Q,R],target:S},children:[{type:a,value:"crossbeam crate"}]},{type:a,value:" offers a powerful alternative to standard channels with support for the Select operation, timeouts, and more. Similar to what you get out of the box in Golang and traditional Unix sockets."}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bz,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bX]},children:[{type:a,value:"crossbeam_channel"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"select"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" unbounded"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bX]},children:[{type:a,value:dy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:a,value:"time"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ga}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bx}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"s1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" r1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:gb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:gc}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bx}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"s2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" r2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:gb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:gc}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"\n    s1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"send"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:"10"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:"select!"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:gd}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"r1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:dC}]},{type:a,value:ge},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"r1 \u003E {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:gf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:gd}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"r2"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:dC}]},{type:a,value:ge},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"r2 \u003E {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:gf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dD}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:b$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:ga}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"from_millis"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:e$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:D}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"timed out\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:fA},children:[{type:b,tag:B,props:{href:"#golang-like-defer-operator-with-scopeguard",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fB}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If you are coming from Golang, you might miss the \"defer\" operator for certain use-cases (like freeing memory when working with raw pointers or closing a socket)."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"In Rust (besides the RAII pattern), you can use the "},{type:b,tag:B,props:{href:"https:\u002F\u002Fdocs.rs\u002Fscopeguard\u002Flatest\u002Fscopeguard\u002F",rel:[P,Q,R],target:S},children:[{type:a,value:gg}]},{type:a,value:" crate to easily implement \"cleaup\" logic."}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bz,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,gh,O]},children:[{type:a,value:"#[macro_use(defer)]"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:gi}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"crate"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,"module-declaration",bX]},children:[{type:a,value:gg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"start\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F This action will run at the end of the current scope"}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:"defer!"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"\n           "},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"defer\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n\n        "},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"scope end\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"end\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:dE}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F start"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F scope end"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F defer"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F end"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:fC},children:[{type:b,tag:B,props:{href:"#cargo-make-for-packaging",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fD}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:B,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fcargo\u002Freference\u002Fbuild-scripts.html",rel:[P,Q,R],target:S},children:[{type:a,value:"Build scripts"}]},{type:a,value:" are great for a lot of things, but usually not for packaging. My favorite solution for that is "},{type:b,tag:B,props:{href:"https:\u002F\u002Fgithub.com\u002Fsagiegurari\u002Fcargo-make",rel:[P,Q,R],target:S},children:[{type:a,value:"Cargo Make"}]},{type:a,value:" by "},{type:b,tag:B,props:{href:"https:\u002F\u002Fsagiegurari.github.io\u002F",rel:[P,Q,R],target:S},children:[{type:a,value:"sagiegurari"}]},{type:a,value:", a Rust-based task runner and build tool."}]},{type:a,value:h},{type:b,tag:at,props:{id:fE},children:[{type:b,tag:B,props:{href:"#customize-and-chain-panic-handlers",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fF}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:B,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fpanic\u002Ffn.set_hook.html",rel:[P,Q,R],target:S},children:[{type:a,value:"Panic handlers (called hooks)"}]},{type:a,value:" can be overridden and chained, which becomes particularly useful when setting up custom error reporting and logging for your application."}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bz,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:cK}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,bX]},children:[{type:a,value:dy},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:dF},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:" take_hook"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bx}]},{type:a,value:gj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:gk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:gl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:gm}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,dG]},children:[{type:b,tag:c,props:{className:[d,bZ,e]},children:[{type:a,value:aq}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,bZ,e]},children:[{type:a,value:aq}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"custom logging logic {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:gn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:go},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:gp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bx}]},{type:a,value:gj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:gk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:gl}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:gm}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,dG]},children:[{type:b,tag:c,props:{className:[d,bZ,e]},children:[{type:a,value:aq}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,bZ,e]},children:[{type:a,value:aq}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"custom error reporting logic {}\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:gn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:go},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:gp}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:gq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:"panic!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ei}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:dE}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F custom error reporting logic panicked at 'test', src\u002Fmain.rs:20:5"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F custom logging logic panicked at 'test', src\u002Fmain.rs:20:5"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:fG},children:[{type:b,tag:B,props:{href:"#use-rust-analyzer-on-vscode",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fH}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:cQ},{type:b,tag:B,props:{href:"https:\u002F\u002Fmarketplace.visualstudio.com\u002Fitems?itemName=matklad.rust-analyzer",rel:[P,Q,R],target:S},children:[{type:a,value:"Rust analyzer"}]},{type:a,value:" VSCode extension by "},{type:b,tag:B,props:{href:"https:\u002F\u002Fmatklad.github.io\u002F",rel:[P,Q,R],target:S},children:[{type:a,value:"matklad"}]},{type:a,value:" is significantly better than the official Rust one. Unfortunately, its still showing as a second result on the extensions marketplace, misguiding a lot of beginners."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Rust Analyzer extension",src:"\u002Fposts\u002Frustanalyzer.png"},children:[]}]},{type:a,value:h},{type:b,tag:at,props:{id:fI},children:[{type:b,tag:B,props:{href:"#use-impl-trait-when-working-with-closures",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fJ}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Prefer impl Fn\u002FFnOnce\u002FFnMut to pass a closure to a function (called impl Trait) instead of a generic when possible to keep the signature clean. For non-trivial cases, you might need to box the closure with Box\u003CFn()\u003E, but keep in mind youll pay an additional overhead."}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bz,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Instead of this"}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:"setup_teardown_generic"}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:y}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:gr}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:gs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:gr}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gt}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Use this"}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:gv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"impl"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:gs}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gt}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gu}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F As a note, this pattern is very useful inside tests"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F to create\u002Fdestroy resources."}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:gv}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,dG]},children:[{type:b,tag:c,props:{className:[d,bZ,e]},children:[{type:a,value:aq}]},{type:b,tag:c,props:{className:[d,bZ,e]},children:[{type:a,value:aq}]}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:K},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"Action!\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:a_},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:dE}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F setting up..."}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Action!"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F tearing down..."}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:fK},children:[{type:b,tag:B,props:{href:"#enable-clippy-on-save-for-vscode",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fL}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If youre using VSCode + Rust Analyzer, I highly suggest going into the settings \u003E Rust Analyzer \u003E Check On Save: Command and setting \"clippy\" as the new default instead of \"check\". Same UX, better warnings."}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:b,tag:ax,props:{alt:"Enable Clippy on Save",src:"\u002Fposts\u002Fclippyonsave.png"},children:[]}]},{type:a,value:h},{type:b,tag:at,props:{id:fM},children:[{type:b,tag:B,props:{href:"#use-thiserror-and-anyhow-for-idiomatic-error-handling",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fN}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:dH},{type:b,tag:B,props:{href:"https:\u002F\u002Fdocs.rs\u002Fthiserror\u002Flatest\u002Fthiserror\u002F",rel:[P,Q,R],target:S},children:[{type:a,value:"thiserror"}]},{type:a,value:bq},{type:b,tag:B,props:{href:"https:\u002F\u002Fcrates.io\u002Fcrates\u002Fanyhow",rel:[P,Q,R],target:S},children:[{type:a,value:"anyhow"}]},{type:a,value:" crates for idiomatic error handling. You should use thiserror when the consumer needs to conditionally act based on the error, anyhow otherwise. A good guideline is use thiserror for libraries and anyhow for applications."}]},{type:a,value:h},{type:b,tag:at,props:{id:fO},children:[{type:b,tag:B,props:{href:"#using-dbg-macro-instead-of-println",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fP}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:dH},{type:b,tag:B,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstable\u002Fstd\u002Fmacro.dbg.html",rel:[P,Q,R],target:S},children:[{type:a,value:"dbg!() macro"}]},{type:a,value:" instead of println!() when debugging. Less code, more useful information."}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bz,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bx}]},{type:a,value:" var1 "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:dI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:dI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Output: 2"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:gw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"var1"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:"        "},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Output: [src\u002Fmain.rs:5] var1 = 2"}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:gw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"var1 "},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"*"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aG]},children:[{type:a,value:dI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:eK},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Output: [src\u002Fmain.rs:6] var1 * 2 = 4"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:fQ},children:[{type:b,tag:B,props:{href:"#include_str-and-include_bytes-macros",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fR}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:dH},{type:b,tag:B,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fmacro.include_str.html",rel:[P,Q,R],target:S},children:[{type:a,value:"include_str!()"}]},{type:a,value:bq},{type:b,tag:B,props:{href:"https:\u002F\u002Fdoc.rust-lang.org\u002Fstd\u002Fmacro.include_bytes.html",rel:[P,Q,R],target:S},children:[{type:a,value:"include_bytes!()"}]},{type:a,value:" macros to read the content of a file at "},{type:b,tag:ap,props:{},children:[{type:a,value:"compile time"}]},{type:a,value:" and store it inside a const. Useful to avoid messing with multiline string literals."}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bz,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Both of these files are read at *compile time*"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,dJ]},children:[{type:a,value:gx}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dA}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:dB}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:"include_str!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\".\u002Fpath\u002Fto\u002Fthe\u002Ffile.txt\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:H}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,dJ]},children:[{type:a,value:"BINARY_FILE_CONTENT"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:dA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"u8"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:am}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:t}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:"include_bytes!"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\".\u002Fpath\u002Fto\u002Fimage.png\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:x}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,dJ]},children:[{type:a,value:gx}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Output: file content as string"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:at,props:{id:fS},children:[{type:b,tag:B,props:{href:"#integrating-with-cc-code",ariaHidden:N,tabIndex:ad},children:[{type:b,tag:c,props:{className:[ae,af]},children:[]}]},{type:a,value:fT}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"If you need to integrate C\u002FC++ code with Rust, the "},{type:b,tag:B,props:{href:"https:\u002F\u002Fcrates.io\u002Fcrates\u002Fcc",rel:[P,Q,R],target:S},children:[{type:a,value:"cc crate"}]},{type:a,value:" and the proper build script can get you pretty far. For example, Ive used them to integrate wxWidgets, a popular C++ gui framework, with my project "},{type:b,tag:B,props:{href:dw,rel:[P,Q,R],target:S},children:[{type:a,value:dx}]},{type:a,value:" (see the "},{type:b,tag:B,props:{href:"https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso\u002Fblob\u002Fmaster\u002Fespanso-modulo\u002Fbuild.rs",rel:[P,Q,R],target:S},children:[{type:a,value:"build script"}]},{type:a,value:i}]},{type:a,value:h},{type:b,tag:J,props:{className:[T]},children:[{type:b,tag:U,props:{className:[bz,V]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Inside the build script (build.rs)"}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:bA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"cargo:rerun-if-changed=src\u002Fnative.c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"cargo:rerun-if-changed=src\u002Fnative.h\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,bX]},children:[{type:a,value:"cc"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]}]},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"Build"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"include"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"src\u002Fnative.h\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"file"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"src\u002Fnative.c\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:r},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:v}]},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"compile"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gy}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,ai,aa]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"cargo:rustc-link-lib=static=nativemodule\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"\u002F\u002F Then, in another Rust file (for example, ffi.rs)"}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,gh,O]},children:[{type:a,value:"#[link(name = "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:gy}]},{type:a,value:", kind = "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"static\""}]},{type:a,value:")]"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:gi}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"\"C\""}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"pub"}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:c,props:{className:[d,aT,o]},children:[{type:a,value:"your_cool_c_module"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:p,props:{},children:[{type:a,value:"Thanks for reading! If you like these topics, make sure to follow me on "},{type:b,tag:B,props:{href:"https:\u002F\u002Ftwitter.com\u002Fterzi_federico",rel:[P,Q,R],target:S},children:[{type:a,value:"Twitter"}]},{type:a,value:bq},{type:b,tag:B,props:{href:"https:\u002F\u002Fwww.youtube.com\u002Fc\u002FFedericoTerzi",rel:[P,Q,R],target:S},children:[{type:a,value:"YouTube"}]},{type:a,value:" to stay updated with the latest articles and videos."}]}]},excerpt:{type:bM,children:[{type:b,tag:p,props:{},children:[{type:a,value:fU},{type:b,tag:B,props:{href:dw,rel:[P,Q,R],target:S},children:[{type:a,value:dx}]},{type:a,value:fV}]}]},dir:dl,path:"\u002Farticles\u002F2022-01-04-12-rust-tips-and-tricks-you-might-not-know-yet",extension:dm,createdAt:bU,updatedAt:bU,cleanedSlug:"12-rust-tips-and-tricks-you-might-not-know-yet"}]}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation"," ","operator","\n",")","(","keyword",";","}","{","function","p","code","\n    ",":","=","string",".","\n  ",",","\u003C","\u003E","\n      ","a","comment","=\u003E","item","property-access","class-name","const","tag","div","\n        ","\n\n","arrow","true","attr-name","nofollow","noopener","noreferrer","_blank","nuxt-content-highlight","pre","line-numbers","li","builtin","script","language-javascript","script-punctuation","parameter","property","\u002F","selected",-1,"icon","icon-link","name","onClick","macro","return","method","[","]","toggleItem","boolean","em","|","control-flow",2,"h2","println!","ul","state","img","\n          ","\n\n  ","false","ListItem","::","function-variable","h1","type","number","useCallback","plain-text","user","===","useState","error","  ","\"failure\"","dispatch","language-jsx","maybe-class-name","fn","function-definition"," pass","&&","strong","\"success\"","includes"," nextProps","\n    \n    ","undefined","\n\n    ","?","React.memo","if","userToken","handleLogin","...","!","\n  type","\"pending\"","case","map"," item","data","MemoizedListItem","language-ts"," and "," type","\n      type","\n      loading","setSelected","selectedItems","\u002F\u003E","let","key","language-rust","main","App","unknown","\n\n      ","handleLogout","blockquote"," action","\u003C\u002F","List"," toggleItem ","language-js","handleClick","root","login","new"," newUserToken "," initialState","\"logout\"","action","\n        loading","2022-05-02T20:43:40.403Z","module","prevSelected","namespace","\n            ","closure-punctuation","else","default","setUserToken","useReducer","reducer","!==","id","\n    prevProps","Cow","panic","e","\n        type","button onClick","button","export","loading","async","setLoading","try","await","catch","String","State","\n  loading","\n  error","\n  userToken"," State ","1","type ","literal-property","spread","filter","current"," current ","memo"," handleClick ","'s ","isEnabled","use","\"{}\"","In the last decade, many functional programming concepts have been making their way into modern, non-functional languages. Instead of going all-in, developers can choose to gradually adopt some of the paradigms in their applications, enjoying the best of both worlds.","post","Federico Terzi","Making invalid states unrepresentable","The ","import","from","\"react\"","value","setError","div className","\"App\"","Login Example","loading ","Loading","An error occurred","LoginBox onLogin","You're logged ","in"," Your user token ","is","Logout","\"","\n        error","failure","loading = false","\"idle\"","\u002Farticles",".md","React is the most popular front-end framework, and thats for a reason. Besides being funded by one of the largest companies on the planet, its also built around a few key concepts (one-way data flow, immutable data, functional components, hooks) that make it easier than ever to create robust applications. That said, its not without pitfalls."," i "," data"," selectedItems","expensiveOperation","0","prevProps","color","??","https:\u002F\u002Fgithub.com\u002Ffederico-terzi\u002Fespanso","Espanso","std","capitalize","&","str","-\u003E","unwrap","\u002F\u002F Output:","set_hook","closure-params","Use the ","2","constant","The single, most important trick to build robust applications","our-example","Our example","the-problem","The problem","a-better-approach-but-still-not-optimal","A better approach (but still not optimal)","making-invalid-states-unrepresentable","final-thoughts","Final thoughts","A ","LoginBox","Login"," useState ","onLogin","\"\"","pass","for","label htmlFor","label","\n        value","\n        onChange","target","\"pass\"","Promise","resolve","\"test\"","generic-function","generic","newUserToken","\u002F\u002F We need to explicitly tell react that we are not loading anymore","error ","userToken ","setError(undefined)","As you can see, ",", ","PendingAction","SuccessAction","FailureAction","LogoutAction","Action"," PendingAction "," SuccessAction "," FailureAction "," LogoutAction"," State"," Action","switch","\n        userToken","userToken\n      ","error\n      "," dispatch"," userToken"," error ","    ","+","loading: false","\n      userToken","\n      error","console","log"," in the ","a-common-anti-pattern","A common anti-pattern","refactoring-the-listitem-component","Refactoring the ListItem component","another-common-anti-pattern","Another common anti-pattern","a-note-on-functional-state-updates","A note on functional state updates","imports","100"," i","n","template-punctuation","`","interpolation-punctuation"," setSelected"," name"," selected"," onClick ","\u002F\u002F Run an expensive operation to simulate a load","\u002F\u002F In real-world JS applications, this could be either a custom","\u002F\u002F JS elaboration or a complex render.","style","selected ","textDecoration","\"line-through\"","nil","shallow comparison","\n         prevProps","not","useMemo"," prevSelected","using-cowstr-as-return-type","Using Cow\u003Cstr\u003E as return type","crossbeam-channels-instead-of-the-standard-ones","Crossbeam channels instead of the standard ones","golang-like-defer-operator-with-scopeguard","Golang-like defer operator with Scopeguard","cargo-make-for-packaging","Cargo-make for packaging","customize-and-chain-panic-handlers","Customize and chain Panic handlers","use-rust-analyzer-on-vscode","Use Rust Analyzer on VSCode","use-impl-trait-when-working-with-closures","Use impl Trait when working with Closures","enable-clippy-on-save-for-vscode","Enable Clippy on Save for VSCode","use-thiserror-and-anyhow-for-idiomatic-error-handling","Use thiserror and anyhow for idiomatic error handling","using-dbg-macro-instead-of-println","Using dbg!() macro instead of println!()","include_str-and-include_bytes-macros","include_str!() and include_bytes!() macros","integrating-with-cc-code","Integrating with C\u002FC++ code","Rust is a great programming language: reliable, fast, enjoyable, but also rather complex. Over the past two years, Ive been using it both professionally and on side projects (such as ",") and, over that time, I stumbled upon many useful patterns and crates that I wish I knew when I first started learning it.","chars","Some","first_char"," first_char","Borrowed","\n              ","Duration","unbounded","i32","recv"," msg "," msg","scopeguard","attribute","extern"," prev_hook ","take_hook","Box","move"," panic","\n        \n        ","prev_hook","    \n    ","A","FnOnce","\"setting up...\"","\"tearing down...\"","setup_teardown","dbg!","FILE_CONTENT","\"nativemodule\"")));
__NUXT_JSONP__("/", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX){return {data:[{articles:[{slug:"2022-08-20-fixing-the-expecting-trusted-certificate-error-with-sectigo-certificates",description:"The other day, I finally received the code-signing certificate from Sectigo. In the confirmation email, they explained the steps to download the certificate, and after following them, I found myself with a user.crt file.",layout:by,title:cg,author:bz,date:"2022-08-20T00:00:00.000Z",categories:"digital certificates certificate sectigo comodo code sign windows openssl",social_title:cg,toc:[],body:{type:aM,children:[{type:b,tag:k,props:{},children:[{type:a,value:ch},{type:b,tag:q,props:{},children:[{type:a,value:bA}]},{type:a,value:ci}]},{type:a,value:h},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Firstly, I wanted to make sure that the certificate matched my private key, so I tried the steps explained in "},{type:b,tag:C,props:{href:"https:\u002F\u002Fsupport.comodo.com\u002Findex.php?\u002FKnowledgebase\u002FArticle\u002FView\u002F684\u002F17\u002Fhow-do-i-verify-that-a-private-key-matches-a-certificate-openssl",rel:[K,L,M],target:N},children:[{type:a,value:"this Comodo article"}]},{type:a,value:D}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"I started by getting the private key’s modulus hash with:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aZ,W]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"openssl rsa "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aD}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"private"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,aN]},children:[{type:a,value:T}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:bD}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Then, I tried doing the same with the certificate:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aZ,W]},children:[{type:b,tag:q,props:{},children:[{type:a,value:bE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aD}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,aN]},children:[{type:a,value:bb}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:bD}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Ideally, the two output would match, and that would indicate a correct certificate\u002Fprivate key pair."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Unfortunately, the second command crashed with this message:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aZ,W]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"unable to load certificate\n"},{type:b,tag:c,props:{className:[d,bc]},children:[{type:a,value:"34359836736"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:"0909006C"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,bd]},children:[{type:a,value:"PEM"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"literal-property","property"]},children:[{type:a,value:"routines"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:"get_name"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:"no start line"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:"crypto"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:"pem"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:"pem_lib"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,aN]},children:[{type:a,value:"c"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,bc]},children:[{type:a,value:"745"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,"maybe-class-name"]},children:[{type:a,value:"Expecting"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,bd]},children:[{type:a,value:"TRUSTED"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,bd]},children:[{type:a,value:"CERTIFICATE"}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"After a bit of researching, I found out that the "},{type:b,tag:q,props:{},children:[{type:a,value:bA}]},{type:a,value:" file downloaded from Sectigo was not in the correct "},{type:b,tag:q,props:{},children:[{type:a,value:"CRT"}]},{type:a,value:" format. Luckily, the solution was converting the certificate to the correct one, as explained in "},{type:b,tag:C,props:{href:"https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F36565316\u002Fssl-unable-to-load-certificate\u002F51290883#51290883",rel:[K,L,M],target:N},children:[{type:a,value:"this Stackoverflow question"}]},{type:a,value:", with:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aZ,W]},children:[{type:b,tag:q,props:{},children:[{type:a,value:bE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:"inform "},{type:b,tag:c,props:{className:[d,bd]},children:[{type:a,value:"DER"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aD}]},{type:a,value:cj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,aN]},children:[{type:a,value:bb}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:"out certificate"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,aN]},children:[{type:a,value:bb}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"After this command, OpenSSL produced a new "},{type:b,tag:q,props:{},children:[{type:a,value:"certificate.crt"}]},{type:a,value:" file with the correct CRT format, which we could then use:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aZ,W]},children:[{type:b,tag:q,props:{},children:[{type:a,value:bE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:bB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aD}]},{type:a,value:" certificate"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,aN]},children:[{type:a,value:bb}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:bD}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Luckily, the hash of the private key’s modulo was equal to the certificate one, so we had a matching pair!"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"The same workaround is likely to work with Comodo certificates."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Up next: it’s finally time to code-sign "},{type:b,tag:C,props:{href:bF,rel:[K,L,M],target:N},children:[{type:a,value:bG}]},{type:a,value:" on Windows"}]}]},excerpt:{type:aM,children:[{type:b,tag:k,props:{},children:[{type:a,value:ch},{type:b,tag:q,props:{},children:[{type:a,value:bA}]},{type:a,value:ci}]}]},dir:bH,path:"\u002Farticles\u002F2022-08-20-fixing-the-expecting-trusted-certificate-error-with-sectigo-certificates",extension:bI,createdAt:aO,updatedAt:aO,cleanedSlug:"fixing-the-expecting-trusted-certificate-error-with-sectigo-certificates"},{slug:"2022-08-15-automatic-code-signing-and-notarization-for-macos-apps-using-github-actions",description:"After almost 3 years, we finally took the necessary steps to code-sign Espanso. This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice.",layout:by,title:"Automatic Code-signing and Notarization for macOS apps using GitHub Actions",author:bz,date:"2022-08-15T00:00:00.000Z",categories:"ci github actions macos code sign signing notarize notarization automatic certificate",social_title:"Automatic Code-signing and Notarization for macOS apps",social_subtitle:"using GitHub Actions",toc:[{id:ck,depth:ai,text:cl},{id:cm,depth:ai,text:cn},{id:co,depth:ai,text:cp},{id:cq,depth:ai,text:cr},{id:cs,depth:ai,text:ct},{id:cu,depth:ai,text:cv},{id:cw,depth:ai,text:cx}],body:{type:aM,children:[{type:b,tag:k,props:{},children:[{type:a,value:cy},{type:b,tag:C,props:{href:bF,rel:[K,L,M],target:N},children:[{type:a,value:bG}]},{type:a,value:cz}]},{type:a,value:h},{type:a,value:h},{type:b,tag:al,props:{id:"prerequisites"},children:[{type:b,tag:C,props:{href:"#prerequisites",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:"Prerequisites"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Having a paid "},{type:b,tag:C,props:{href:"https:\u002F\u002Fdeveloper.apple.com\u002Fprograms\u002F",rel:[K,L,M],target:N},children:[{type:a,value:"Apple Developer Program"}]},{type:a,value:" subscription. This costs about ~$99 per year depending on your country and is necessary to generate the required certificates."}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Having a CI that builds your final App bundle. This bundle can be generated in a lot of different ways, just keep in mind we’ll need the final "},{type:b,tag:q,props:{},children:[{type:a,value:"bundle.app"}]},{type:a,value:" inside the CI to perform the signing and notarization. This article won't cover the bundle generation, so please take care of that beforehand if you haven't already."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:al,props:{id:"generating-the-certificate"},children:[{type:b,tag:C,props:{href:"#generating-the-certificate",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:"Generating the Certificate"}]},{type:a,value:h},{type:b,tag:be,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"If you have already generated a certificate for your app, feel free to skip this section"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"In order to sign the app, we need a valid certificate issued from Apple. You can issue one following these steps:"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Navigate to the Apple Developer portal into the "},{type:b,tag:C,props:{href:"https:\u002F\u002Fdeveloper.apple.com\u002Faccount\u002Fresources\u002Fcertificates\u002Flist",rel:[K,L,M],target:N},children:[{type:a,value:"Certificates, Identifiers & Profiles section"}]},{type:a,value:" and select “Create a New Profile”"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"You’ll be asked to choose a certificate type, select “Developer ID Application” from the options and then continue"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:cA,src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled.png"},children:[]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:cA}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"For the “Developer ID Certificate Intermediary” choose "},{type:b,tag:q,props:{},children:[{type:a,value:"G2 Sub-CA (Xcode 11.4.1 or later)"}]},{type:a,value:" and keep this webpage open, we’ll get back to it later"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Certificate Intermediary selection",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%201.png"},children:[]}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Then, we need to generate a "},{type:b,tag:am,props:{},children:[{type:a,value:"Certificate Signing Request (CSR)."}]},{type:a,value:" We can do so by opening the “Keychain Access” app on macOS, selecting "},{type:b,tag:q,props:{},children:[{type:a,value:"Certificate Assistant \u003E Request a Certificate From a Certificate Authority..."}]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Generate a CSR",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%202.png"},children:[]}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"You’ll be prompted for some information, make sure to specify the same email you used for your paid Apple Developer subscription, then check the "},{type:b,tag:q,props:{},children:[{type:a,value:"Save to Disk"}]},{type:a,value:" option, and click "},{type:b,tag:q,props:{},children:[{type:a,value:"Continue"}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Certificate information",src:"\u002Fposts\u002Fmacos-code-sign\u002FScreenshot_2022-08-15_at_11.26.54.png"},children:[]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"This will create a "},{type:b,tag:q,props:{},children:[{type:a,value:"CertificateSigningRequest.certSigningRequest"}]},{type:a,value:" file in your location of choice. Go back to the “Create a New Certificate” webpage we opened earlier and click on “Choose File”, selecting the certificate request file we just created. Finally, click “Continue”"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"On the Apple Developer portal, you should now see your new certificate. Download it and open it using the "},{type:b,tag:q,props:{},children:[{type:a,value:cB}]},{type:a,value:" app on your mac. It should look like this:"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Final certificate inside Keychain Access",src:"\u002Fposts\u002Fmacos-code-sign\u002FScreenshot_2022-08-15_at_11.39.43.png"},children:[]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Please note down the full name of the certificate (such as "},{type:b,tag:q,props:{},children:[{type:a,value:"Developer ID Application: Your Name (K1234)"}]},{type:a,value:", as we will need it later)"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"This certificate is ready to be used locally, but we want to export it in a format that is usable inside an automated (and headless) CI environment. For this reason, we are going to use the same trick from "},{type:b,tag:C,props:{href:cC,rel:[K,L,M],target:N},children:[{type:a,value:"this great article"}]},{type:a,value:" by Localazy, exporting the certificate file and then encoding it as base64."}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Select both the certificate (Developer ID Application: …) and the private key (the item below), then right click and choose “Export 2 items…”"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"In the panel that opens up, select a target location for the certificate file and choose "},{type:b,tag:q,props:{},children:[{type:a,value:"Personal Information Exchange (.p12)"}]},{type:a,value:" format."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"You’ll be asked for a password, generate a strong one using your tool of choice and note it down, as we’ll need it in the upcoming steps"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Open a terminal, "},{type:b,tag:q,props:{},children:[{type:a,value:"cd"}]},{type:a,value:" into the directory in which you created the certificate file, and convert it into base64 using this command:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[W,"language-bash"]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"base64 Certificates "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:" Certificates.base64\n"}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"This command will create a new "},{type:b,tag:q,props:{},children:[{type:a,value:cD}]},{type:a,value:" file with the certificate encoded as base64 string. Keep this file around, as we’ll need it when populating the GitHub Actions secrets."}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:al,props:{id:"gathering-the-notarization-information"},children:[{type:b,tag:C,props:{href:"#gathering-the-notarization-information",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:"Gathering the Notarization information"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Before diving into the GitHub Actions setup, we need to gather some more information for the notarization step:"}]},{type:a,value:h},{type:b,tag:aj,props:{id:ck},children:[{type:b,tag:C,props:{href:"#generating-an-app-specific-password",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:cl}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"We need to generate an Apple’s "},{type:b,tag:C,props:{href:"https:\u002F\u002Fsupport.apple.com\u002Fen-us\u002FHT204397",rel:[K,L,M],target:N},children:[{type:a,value:"app-specific password"}]},{type:a,value:" for the notarization step:"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Navigate and sign in to "},{type:b,tag:C,props:{href:"https:\u002F\u002Fappleid.apple.com\u002Faccount\u002Fhome",rel:[K,L,M],target:N},children:[{type:a,value:"appleid.apple.com"}]},{type:a,value:" using the same account as your paid Apple Developer subscription"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"On the "},{type:b,tag:C,props:{href:"https:\u002F\u002Fappleid.apple.com\u002Faccount\u002Fmanage",rel:[K,L,M],target:N},children:[{type:a,value:"Sign-in and Security page"}]},{type:a,value:", select “App-Specific Passwords”"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"App-specific password",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%203.png"},children:[]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Then select “Generate App-Specific Password”, and give it a meaningful name, such as “Project CI Notarization”"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Then, enter your account password and finally “Continue”"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"You should now see a generated password, please note it down as we’ll need it later."}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:aj,props:{id:cm},children:[{type:b,tag:C,props:{href:"#getting-your-team-id",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:cn}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Head over to the "},{type:b,tag:C,props:{href:"https:\u002F\u002Fdeveloper.apple.com\u002Faccount\u002F#!\u002Fmembership",rel:[K,L,M],target:N},children:[{type:a,value:"membership page"}]},{type:a,value:", logging in if necessary"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Inside the page, you should see a "},{type:b,tag:q,props:{},children:[{type:a,value:cE}]},{type:a,value:" field. Note it down, as we will need it later"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:al,props:{id:"setting-up-the-github-actions-pipeline"},children:[{type:b,tag:C,props:{href:"#setting-up-the-github-actions-pipeline",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:"Setting up the GitHub Actions pipeline"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Now that we gathered all the necessary information, it’s time to set up the GitHub Actions steps that will code-sign and notarize our app."}]},{type:a,value:h},{type:b,tag:aj,props:{id:co},children:[{type:b,tag:C,props:{href:"#setting-up-the-secrets",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:cp}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Navigate to your GitHub project Settings \u003E Security \u003E Secrets \u003E Actions. Here we’ll need to register several secrets for the process to work correctly, so let’s start:"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"PROD_MACOS_CERTIFICATE"}]},{type:a,value:" should contain the base64 of the certificate we generated earlier. In particular, you should paste the content of the "},{type:b,tag:q,props:{},children:[{type:a,value:cD}]},{type:a,value:" file here"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"PROD_MACOS_CERTIFICATE_NAME"}]},{type:a,value:" should contain the full certificate name, such as "},{type:b,tag:q,props:{},children:[{type:a,value:"Developer ID Application: Your Name (K1234567)"}]}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"PROD_MACOS_CERTIFICATE_PWD"}]},{type:a,value:" should contain the password you choose when exporting the certificate from the "},{type:b,tag:q,props:{},children:[{type:a,value:cB}]},{type:a,value:" app"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:cF}]},{type:a,value:" should contain your apple developer email, the same you use for the Apple Developer subscription"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:cG}]},{type:a,value:" should contain the app-specific password we generated earlier"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:cH}]},{type:a,value:" should contain the "},{type:b,tag:q,props:{},children:[{type:a,value:cE}]},{type:a,value:" we got earlier from the membership page"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"PROD_MACOS_CI_KEYCHAIN_PWD"}]},{type:a,value:" should contain a strong, randomly generated password. Feel free to use your tool of choice for this."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"If you did everything right, you should end up with these 7 secrets in your GitHub Actions:"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Github Secrets",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%204.png"},children:[]}]},{type:a,value:h},{type:b,tag:aj,props:{id:cq},children:[{type:b,tag:C,props:{href:"#defining-the-code-signing-step",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:cr}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Now that we have all our secrets in place, we are ready to define the code-signing step. For the sake of these examples, we assume that the app bundle will be placed in the "},{type:b,tag:q,props:{},children:[{type:a,value:cI}]},{type:a,value:" path inside the CI environment. Make sure to replace it with the appropriate location of your app."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"This is what the GitHub Actions step should look like in the end, with comments explaining the various sections:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[W,bf]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" Codesign app bundle\n  "},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cK}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" \n    "},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:"MACOS_CERTIFICATE"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:" secrets.PROD_MACOS_CERTIFICATE "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:"MACOS_CERTIFICATE_PWD"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:" secrets.PROD_MACOS_CERTIFICATE_PWD "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:"MACOS_CERTIFICATE_NAME"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:" secrets.PROD_MACOS_CERTIFICATE_NAME "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:"MACOS_CI_KEYCHAIN_PWD"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:" secrets.PROD_MACOS_CI_KEYCHAIN_PWD "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,cN,r]},children:[{type:a,value:"\n    # Turn our base64-encoded certificate back to a regular .p12 file"}]},{type:a,value:"\n    \n    echo $MACOS_CERTIFICATE "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:O}]},{type:a,value:" base64 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"decode "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:" certificate.p12\n\n    "},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# We need to create a new keychain, otherwise using the certificate will prompt"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# with a UI dialog asking for the certificate password, which we can't"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# use in a headless CI environment"}]},{type:a,value:"\n    \n    security create"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"p \"$MACOS_CI_KEYCHAIN_PWD\" build.keychain \n    security default"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"s build.keychain\n    security unlock"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:bJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"p \"$MACOS_CI_KEYCHAIN_PWD\" build.keychain\n    security import certificate.p12 "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"k build.keychain "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"P \"$MACOS_CERTIFICATE_PWD\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"T \u002Fusr\u002Fbin\u002Fcodesign\n    security set"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"partition"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"list "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"S apple"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"tool"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:cO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"s "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"k \"$MACOS_CI_KEYCHAIN_PWD\" build.keychain\n\n    "},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# We finally codesign our app bundle, specifying the Hardened runtime option"}]},{type:a,value:"\n    \n    \u002Fusr\u002Fbin\u002Fcodesign "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"force "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"s \"$MACOS_CERTIFICATE_NAME\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"options runtime target\u002Fmac\u002FEspanso.app "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"v\n"}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"A note before proceeding further:"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Specifying the "},{type:b,tag:q,props:{},children:[{type:a,value:"--options runtime"}]},{type:a,value:" flag for the "},{type:b,tag:q,props:{},children:[{type:a,value:cP}]},{type:a,value:" command enables the "},{type:b,tag:C,props:{href:cQ,rel:[K,L,M],target:N},children:[{type:a,value:"Hardened Runtime"}]},{type:a,value:" for our app. This is necessary to pass the following notarization step (otherwise it fails when notarizing), but this might interfere with your app, as it disables JIT and other dynamic features. If you need them, you’ll need to specify the exceptions in your app’s entitlement file, as explained in the "},{type:b,tag:C,props:{href:cQ,rel:[K,L,M],target:N},children:[{type:a,value:"hardened runtime"}]},{type:a,value:" documentation."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:aj,props:{id:cs},children:[{type:b,tag:C,props:{href:"#defining-the-notarization-step",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:ct}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"After the code-signing step, our app is ready to be Notarized, which is necessary to prevent macOS from showing a scary warning to our users when opening the app."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"The GitHub Action step should look like the following. This again assumes that the app bundle is located in the "},{type:b,tag:q,props:{},children:[{type:a,value:cI}]},{type:a,value:" path, so adapt it accordingly:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[W,bf]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"Notarize app bundle\""}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:cK}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cF}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:" secrets.PROD_MACOS_NOTARIZATION_APPLE_ID "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:" secrets.PROD_MACOS_NOTARIZATION_TEAM_ID "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cG}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:" secrets.PROD_MACOS_NOTARIZATION_PWD "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:cM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,cN,r]},children:[{type:a,value:"\n    # Store the notarization credentials so that we can prevent a UI password dialog\n    # from blocking the CI"}]},{type:a,value:"\n\n    echo \"Create keychain profile\"\n    xcrun notarytool store"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"credentials \"notarytool"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"id \"$PROD_MACOS_NOTARIZATION_APPLE_ID\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"team"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"id \"$PROD_MACOS_NOTARIZATION_TEAM_ID\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"password \"$PROD_MACOS_NOTARIZATION_PWD\"\n\n    "},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# We can't notarize an app bundle directly, but we need to compress it as an archive."}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# Therefore, we create a zip file containing our app bundle, so that we can send it to the"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# notarization service"}]},{type:a,value:"\n\n    echo \"Creating temp notarization archive\"\n    ditto "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"c "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"k "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"keepParent \"target\u002Fmac\u002FEspanso.app\" \"notarization.zip\"\n\n    "},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# Here we send the notarization request to the Apple's Notarization service, waiting for the result."}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# This typically takes a few seconds inside a CI environment, but it might take more depending on the App"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# characteristics. Visit the Notarization docs for more information and strategies on how to optimize it if"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# you're curious"}]},{type:a,value:"\n\n    echo \"Notarize app\"\n    xcrun notarytool submit \"notarization.zip\" "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"wait\n\n    "},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# Finally, we need to \"attach the staple\" to our executable, which will allow our app to be"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"# validated by macOS even when an internet connection is not available."}]},{type:a,value:"\n    echo \"Attach staple\"\n    xcrun stapler staple \"target\u002Fmac\u002FEspanso.app\"\n"}]}]}]},{type:a,value:h},{type:b,tag:aj,props:{id:cu},children:[{type:b,tag:C,props:{href:"#bonus-troubleshooting-notarization-issues",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:cv}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"While you are testing the notarization process, it might happen that the above GitHub Action step fails, with an error like:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[W,bf]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:"Current status"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" Invalid"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aP}]},{type:a,value:".Processing complete\n  "},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:"id"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" \u003CRANDOM"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,T,$]},children:[{type:a,value:"status"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:" Invalid\n"}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"In these cases, you can view the notarization logs by using the following command (replacing "},{type:b,tag:q,props:{},children:[{type:a,value:"\u003CRANDOM-ID\u003E"}]},{type:a,value:" with the actual one, which you can see in the step logs)"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[W,bf]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"xcrun notarytool log \u003CRANDOM"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:cT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:"profile\"\n"}]}]}]},{type:a,value:h},{type:b,tag:al,props:{id:"conclusion"},children:[{type:b,tag:C,props:{href:"#conclusion",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:"Conclusion"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Your app should now be fully code-signed and notarized, great job! As a result, no more scary warnings will be shown to your users:"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Warnings before and after",src:"\u002Fposts\u002Fmacos-code-sign\u002FUntitled%205.png"},children:[]}]},{type:a,value:h},{type:b,tag:aj,props:{id:cw},children:[{type:b,tag:C,props:{href:"#acknowledgments",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:cx}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"This article wouldn’t have been possible without "},{type:b,tag:C,props:{href:cC,rel:[K,L,M],target:N},children:[{type:a,value:"this awesome article"}]},{type:a,value:" by Localazy for the code-signing steps and "},{type:b,tag:C,props:{href:"https:\u002F\u002Fgithub.com\u002Fakeru-inc\u002Fxcnotary\u002Fissues\u002F22#issuecomment-1179170957",rel:[K,L,M],target:N},children:[{type:a,value:"this GitHub comment"}]},{type:a,value:" for the Notarization part, kudos to "},{type:b,tag:C,props:{href:"https:\u002F\u002Ftwitter.com\u002Fhonzabilek4",rel:[K,L,M],target:N},children:[{type:a,value:"Jan Bílek"}]},{type:a,value:bK},{type:b,tag:C,props:{href:"https:\u002F\u002Fgithub.com\u002Fbradking",rel:[K,L,M],target:N},children:[{type:a,value:"Brad King"}]},{type:a,value:aQ}]}]},excerpt:{type:aM,children:[{type:b,tag:k,props:{},children:[{type:a,value:cy},{type:b,tag:C,props:{href:bF,rel:[K,L,M],target:N},children:[{type:a,value:bG}]},{type:a,value:cz}]}]},dir:bH,path:"\u002Farticles\u002F2022-08-15-automatic-code-signing-and-notarization-for-macos-apps-using-github-actions",extension:bI,createdAt:aO,updatedAt:aO,cleanedSlug:"automatic-code-signing-and-notarization-for-macos-apps-using-github-actions"},{slug:"2022-05-02-building-robust-applications-by-making-invalid-states-unrepresentable",description:bL,layout:by,title:cV,author:bz,date:"2022-05-02T00:00:00.000Z",categories:"react trick guide robust applications invalid states unrepresentable typescript static types",social_title:cV,social_subtitle:bM,toc:[{id:cW,depth:ai,text:cX},{id:cY,depth:ai,text:cZ},{id:c_,depth:ai,text:c$},{id:da,depth:ai,text:bM},{id:db,depth:ai,text:dc}],body:{type:aM,children:[{type:b,tag:k,props:{},children:[{type:a,value:bL}]},{type:a,value:h},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"In this article, we are going to discuss a functional programming technique that can greatly improve the reliability of your front-end applications: making invalid states unrepresentable. Although these concepts can be applied to most frameworks and languages, we are going to focus on React applications written in TypeScript."}]},{type:a,value:h},{type:b,tag:aj,props:{id:cW},children:[{type:b,tag:C,props:{href:"#our-example",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:cX}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"To start our discussion, we are going to focus on a simple login form as an example (you can find the complete code in "},{type:b,tag:C,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Freactinvalidstatesunrepresentable-bad-tbwvi?file=\u002Fsrc\u002FApp.tsx",rel:[K,L,M],target:N},children:[{type:a,value:"this Codesanbox"}]},{type:a,value:").\nIn a nutshell, the example is composed of:"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:dd},{type:b,tag:q,props:{},children:[{type:a,value:de}]},{type:a,value:" component, which contains the input fields and invokes a callback when the user clicks on "},{type:b,tag:q,props:{},children:[{type:a,value:df}]}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:dd},{type:b,tag:q,props:{},children:[{type:a,value:aR}]},{type:a,value:" function, which simulates a network call to a login endpoint. If successful, this function returns a "},{type:b,tag:am,props:{},children:[{type:a,value:d}]},{type:a,value:D}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"The "},{type:b,tag:q,props:{},children:[{type:a,value:a_}]},{type:a,value:" component, which keeps the application state and displays the appropriate messages\u002Fcomponents."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Login example",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_1.gif"},children:[]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Here's the complete code:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aw,W]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"import"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:" useState "},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"from"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"react\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aq,u]},children:[{type:a,value:de}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:"\n  onLogin\n"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,aq,u]},children:[{type:a,value:dg}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"void"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setUser"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:di},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setPass"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:"Insert login "},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"details"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"use "},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"'test'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"as"}]},{type:a,value:" password "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"for"}]},{type:a,value:" correct logins"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:dj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"user\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:"User"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:dk},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:"input\n        type"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"text\""}]},{type:a,value:dl},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:dm},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"setUser"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:dn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:dj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dp}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:"Password"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:dk},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:"input\n        name"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:dp}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"password\""}]},{type:a,value:dl},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:di},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:dm},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"setPass"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:dn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dg}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:df},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F Simulate a login request"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:dq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dr}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:dq}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" reject"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"setTimeout"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"pass "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"test\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F Return a fake user token"}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ds}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"c6041ffc-5e13-4f6d-bb33-bf9d3ae20262\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"else"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:"reject"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dr}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:"Error"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"\"invalid password\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,bc]},children:[{type:a,value:"1000"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bP}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:bl},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setLoading"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setUserToken"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,dt]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,du,X]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:" setError"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,dt]},children:[{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,du,X]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aH}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]}]}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aq,u]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F If we don't reset them here, we might have inconsistencies"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F after multiple logins"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:dw}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aq,u]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:dx},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aQ}]},{type:a,value:dy},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aQ}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:b$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:aj,props:{id:cY},children:[{type:b,tag:C,props:{href:"#the-problem",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:cZ}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"The example proposed above works as expected, but it's not very maintainable. The main problem lies in the fact that the different app-state fields (loading, error, userToken) are stored and updated independently."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Suppose at some point, a coworker not particularly familiar with this area of the codebase changes the "},{type:b,tag:q,props:{},children:[{type:a,value:as}]},{type:a,value:" logic to fit some new requirements. As part of the process, they mistakenly forget to reset the error state with "},{type:b,tag:q,props:{},children:[{type:a,value:dz}]},{type:a,value:i}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aw,W]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"  "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aq,u]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F The coworker deletes the following line"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F setError(undefined);  \u003C- this one gets deleted"}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dv},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:dw}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bn}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"The coworker now attempts to log in and it works as expected:"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Login seems to work as expected",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_2.gif"},children:[]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"The happy coworker then proceeds to create PR and, with a non-zero probability, the PR gets approved and goes into staging\u002Fproduction."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Happy ending, right? Not exactly. The application can now enter an "},{type:b,tag:am,props:{},children:[{type:a,value:"inconsistent state"}]},{type:a,value:" when a user gets the first login wrong and the second one correct:"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Login inconsistent state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Flogin_example_3.gif"},children:[]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"As you can see, "},{type:b,tag:br,props:{},children:[{type:a,value:"the error message is still being shown after a successful login attempt"}]},{type:a,value:".\nThis is happening because the "},{type:b,tag:q,props:{},children:[{type:a,value:dz}]},{type:a,value:" call has been removed, and as a result, the error message is not being reset when performing a new login attempt."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"It might be easy to blame the coworker for such an oversight, but actually, the problem lies in the way the application state was originally structured. By having the "},{type:b,tag:q,props:{},children:[{type:a,value:af}]},{type:a,value:", "},{type:b,tag:q,props:{},children:[{type:a,value:bl}]},{type:a,value:bK},{type:b,tag:q,props:{},children:[{type:a,value:ar}]},{type:a,value:" states being updated independently, we made it easier to get into an inconsistent state."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Remember, "},{type:b,tag:br,props:{},children:[{type:a,value:"the best systems are the ones that make it harder to do wrong things."}]},{type:a,value:" In the following sections, we're going to analyze a design that could have prevented such mistakes."}]},{type:a,value:h},{type:b,tag:be,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"In the previous example, I chose an hypothetical coworker as the person doing the mistake. I'm definitely not implying that only coworkers make mistakes, everyone does. I do plenty of mistakes on a daily basis :)"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:aj,props:{id:c_},children:[{type:b,tag:C,props:{href:"#a-better-approach-but-still-not-optimal",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:c$}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"I hear some of you screaming: \""},{type:b,tag:am,props:{},children:[{type:a,value:"You should have used useReducer\u002FRedux\u002FZustand\u002F{random pokemon name} instead of those multiple useState!"}]},{type:a,value:"\""}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Indeed, in real-world scenarios, you would have likely used a more structured approach to handle the app state, but "},{type:b,tag:br,props:{},children:[{type:a,value:"that doesn't necessarily solve the problem of invalid states"}]},{type:a,value:D}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"For example, let's refactor the "},{type:b,tag:q,props:{},children:[{type:a,value:a_}]},{type:a,value:" code to use React's "},{type:b,tag:C,props:{href:"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#usereducer",rel:[K,L,M],target:N},children:[{type:a,value:cb}]},{type:a,value:" instead of multiple "},{type:b,tag:q,props:{},children:[{type:a,value:aS}]},{type:a,value:i}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aw,W]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F This is the app state"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bs}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F The various actions we can use to update that state"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dB}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dC}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dD}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dE}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:dF},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:dG},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:dH},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:dI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:dJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:dK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:H}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:dO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:dP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bP}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aq,u]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:au}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dR},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aq,u]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:dx},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aQ}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:dy},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aQ}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:b$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"This version improves our example on multiple fronts:"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"The handlers ("},{type:b,tag:q,props:{},children:[{type:a,value:as}]},{type:a,value:bK},{type:b,tag:q,props:{},children:[{type:a,value:aJ}]},{type:a,value:") don't need to know about the internal state representation anymore, but can simply dispatch actions in a "},{type:b,tag:am,props:{},children:[{type:a,value:"declarative"}]},{type:a,value:" way."}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"It's harder to forget updating a slice of the state, as they are handled in a central place (the "},{type:b,tag:q,props:{},children:[{type:a,value:ba}]},{type:a,value:" function) instead of being scattered around handlers."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"That said, despite making it harder to make the state inconsistent, it's still possible to do so."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Let's say that our product manager requests to implement a \"failed attempts\" counter. In a rush, we modify the "},{type:b,tag:q,props:{},children:[{type:a,value:cd}]},{type:a,value:" case of the reducer to be based on the previous state:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aw,W]},children:[{type:b,tag:q,props:{},children:[{type:a,value:"    "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aP}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:"\n        failedAttempts"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:" state"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:"failedAttempts "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"+"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,bc]},children:[{type:a,value:"1"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"As a result, the \"Loading...\" label is still shown after a failed login attempt:"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Inconsistent state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Finvalid-state.png"},children:[]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Of course, this is another silly oversight that would have been easy to spot. We forgot to set "},{type:b,tag:q,props:{},children:[{type:a,value:dT}]},{type:a,value:", and instead took the previous state value ("},{type:b,tag:q,props:{},children:[{type:a,value:H}]},{type:a,value:") using the spread operator "},{type:b,tag:q,props:{},children:[{type:a,value:"...state"}]},{type:a,value:". Unfortunately, in real-world systems it's easy to make such mistakes when the state is made of many fields, and such oversights might not be as easy to spot."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Luckily, we can take this solution a step further. What if we let the compiler spot such mistakes? The answer is "},{type:b,tag:br,props:{},children:[{type:a,value:"making invalid states unrepresentable"}]},{type:a,value:D}]},{type:a,value:h},{type:b,tag:aj,props:{id:da},children:[{type:b,tag:C,props:{href:"#making-invalid-states-unrepresentable",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:bM}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Let's start from the previous state representation:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aw,W]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bs}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:J}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"The first question we should be asking ourselves is: "},{type:b,tag:am,props:{},children:[{type:a,value:"what are the possible states of this system?"}]},{type:a,value:" There is no single best answer, but a possible representation could be:"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Idle"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Login pending"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Login success"}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Login failure"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:be,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"If the "},{type:b,tag:q,props:{},children:[{type:a,value:"idle"}]},{type:a,value:" state doesn't make sense to you, keep in mind we are trying to model "},{type:b,tag:am,props:{},children:[{type:a,value:"all"}]},{type:a,value:" the possible states of this system. Idle represents the state of the system before the user makes a login attempt."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Then, we can think about which "},{type:b,tag:am,props:{},children:[{type:a,value:"fields and values"}]},{type:a,value:" those states can have:"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Idle\n"},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:ce}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Login pending\n"},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"loading = true"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Login success\n"},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:ce}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"userToken = string"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"Login failure\n"},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:ce}]},{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"error = Error\u002Funknown\u002Fwhatever is relevant"}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"At this point, we can translate these states into code using Typescript's "},{type:b,tag:C,props:{href:"https:\u002F\u002Fwww.typescriptlang.org\u002Fdocs\u002Fhandbook\u002Ftypescript-in-5-minutes-func.html#discriminated-unions",rel:[K,L,M],target:N},children:[{type:a,value:"Discriminated unions"}]},{type:a,value:" (also known as "},{type:b,tag:am,props:{},children:[{type:a,value:"Algebraic Data Types"}]},{type:a,value:"):"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aw,W]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bs}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Note how for each state, we are explicitly specifying which fields are present and, for some of them, even their value. Discriminated unions give us two superpowers:"}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"We don't need to add optional fields everywhere, nor do we need to check for undefined values. If a state has "},{type:b,tag:q,props:{},children:[{type:a,value:"type = \"success\""}]},{type:a,value:" then Typescript "},{type:b,tag:am,props:{},children:[{type:a,value:"guarantees"}]},{type:a,value:" that the "},{type:b,tag:q,props:{},children:[{type:a,value:ar}]},{type:a,value:" field will be available. In the same way, we won't be able to access the "},{type:b,tag:q,props:{},children:[{type:a,value:ar}]},{type:a,value:" if the state is "},{type:b,tag:q,props:{},children:[{type:a,value:cd}]}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aw,W]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F This compiles correctly"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:dW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,G]},children:[{type:a,value:"\u002F\u002F This doesn't (and it's good!)"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:dW}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:dX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:Q,props:{},children:[{type:a,value:h},{type:b,tag:y,props:{},children:[{type:a,value:"We won't be able to set inconsistent states in the reducer"}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Updating our previous example with the new approach, we get:"}]},{type:a,value:h},{type:b,tag:I,props:{className:[U]},children:[{type:b,tag:V,props:{className:[aw,W]},children:[{type:b,tag:q,props:{},children:[{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:bs}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:H}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:dV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:cf}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dB}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bv},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dC}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:bu},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dD}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,X]},children:[{type:a,value:dE}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:dF},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:dG},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:dH},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:dI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:ba}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:dJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:dK},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dL}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:dM},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:H}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dN},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:dO},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aP}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:cc},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:aL},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:dP},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bP}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:u}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:a_}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aF}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dQ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:cb}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aq,u]},children:[{type:a,value:as}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:r}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:au}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bp}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:aR}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dR},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bq}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:A}]},{type:a,value:dS},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:P}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aq,u]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:az}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:aX}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bT},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aI},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:bU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ak}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:b,tag:c,props:{className:[d,u]},children:[{type:a,value:bX}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:bx},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"!=="}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:ao}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:as},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:i}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:bZ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aD}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aQ}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:b$}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:D}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:k},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:a,value:bi},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:m}]},{type:a,value:aJ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:ca},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:bj},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:z},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:v},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:E}]},{type:a,value:I},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:t}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:p}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:h}]}]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"At this point, Typescript will make sure that the state is always in a consistent state. For example, the previous mistake (forgetting "},{type:b,tag:q,props:{},children:[{type:a,value:dT}]},{type:a,value:" in the "},{type:b,tag:q,props:{},children:[{type:a,value:cd}]},{type:a,value:" case due to the spread operator) won't compile:"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:b,tag:ag,props:{alt:"Typescript fails to compile an invalid state",src:"\u002Fposts\u002Fstates-unrepresentable\u002Ftypescript1.png"},children:[]}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"We made "},{type:b,tag:am,props:{},children:[{type:a,value:"invalid states unrepresentable"}]},{type:a,value:" 😎"}]},{type:a,value:h},{type:b,tag:be,props:{},children:[{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"Note: You might be wondering why we added the "},{type:b,tag:q,props:{},children:[{type:a,value:bl}]},{type:a,value:" field to all states. The reason is that I thought it would make the example easier to understand. But in this simple scenario, we could drop the "},{type:b,tag:q,props:{},children:[{type:a,value:bl}]},{type:a,value:" field entirely and only show the loading message when the state is pending ("},{type:b,tag:q,props:{},children:[{type:a,value:"state.type === 'pending'"}]},{type:a,value:")."}]},{type:a,value:h}]},{type:a,value:h},{type:b,tag:aj,props:{id:db},children:[{type:b,tag:C,props:{href:"#final-thoughts",ariaHidden:H,tabIndex:Y},children:[{type:b,tag:c,props:{className:[Z,_]},children:[]}]},{type:a,value:dc}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"All right! We started from a problematic example and gradually improved the way our state is represented, making the app more robust along the way."}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"It's important to consider these techniques as an additional tool you have at your disposal rather than absolute truths. There might be cases where these techniques are impractical for several reasons. As always, use the right tool for the job!"}]},{type:a,value:h},{type:b,tag:k,props:{},children:[{type:a,value:"If you're interested, you can find the complete code for our final solution in "},{type:b,tag:C,props:{href:"https:\u002F\u002Fcodesandbox.io\u002Fs\u002Freactinvalidstatesunrepresentable-good-9l8pym?file=\u002Fsrc\u002FApp.tsx",rel:[K,L,M],target:N},children:[{type:a,value:"this Codesandbox"}]},{type:a,value:D}]}]},excerpt:{type:aM,children:[{type:b,tag:k,props:{},children:[{type:a,value:bL}]}]},dir:bH,path:"\u002Farticles\u002F2022-05-02-building-robust-applications-by-making-invalid-states-unrepresentable",extension:bI,createdAt:aO,updatedAt:aO,cleanedSlug:"building-robust-applications-by-making-invalid-states-unrepresentable"}]}],fetch:{},mutations:void 0}}("text","element","span","token","punctuation","operator"," ","\n",":","keyword","p",";","{","}","(",")","code","string","-","\u003E","function","\n    ","\u003C","=","li","\n      ",",","\n  ","a",".","\u002F","builtin","comment","true","div","boolean","nofollow","noopener","noreferrer","_blank","|","const","ul","\n\n","state","key","nuxt-content-highlight","pre","line-numbers","class-name",-1,"icon","icon-link","atrule","type","\n        ","false","=\u003E","return","error","img","user",2,"h2","\"failure\"","h1","em"," pass","\"success\"","\n\n  ","function-variable","userToken","handleLogin","\n  type","\"pending\"","case","language-ts","undefined","\n\n    ","dispatch"," type","\n      type","\n      loading","in"," $","[","]","unknown","\n\n      ","handleLogout","?"," action","root","property-access","2022-08-21T13:18:47.510Z","...","!","login","useState"," newUserToken ","&&","\n          "," initialState","\"logout\"","\n        loading","language-javascript","App","setUserToken","reducer","crt","number","constant","blockquote","language-yaml","e","\n        type","button onClick","button","===","loading","async","setLoading","try","await","catch","strong","State","\n  loading","\n  error","\n  userToken"," State ","type ","post","Federico Terzi","user.crt","modulus ","noout "," openssl md5\n","openssl x509 ","https:\u002F\u002Fespanso.org\u002F","Espanso","\u002Farticles",".md","keychain "," and ","In the last decade, many functional programming concepts have been making their way into modern, non-functional languages. Instead of going all-in, developers can choose to gradually adopt some of the paradigms in their applications, enjoying the best of both worlds.","Making invalid states unrepresentable","if","export","default","setError","div className","\"App\"","Login Example","loading ","Loading","An error occurred","String","LoginBox onLogin","You're logged "," Your user token ","is","Logout","useReducer","\n        error","failure","loading = false","\"idle\"","Fixing the “Expecting: TRUSTED CERTIFICATE” error with Sectigo certificates","The other day, I finally received the code-signing certificate from Sectigo. In the confirmation email, they explained the steps to download the certificate, and after following them, I found myself with a "," file."," user","generating-an-app-specific-password","Generating an app-specific password","getting-your-team-id","Getting your Team ID","setting-up-the-secrets","Setting up the Secrets","defining-the-code-signing-step","Defining the Code-signing step","defining-the-notarization-step","Defining the Notarization step","bonus-troubleshooting-notarization-issues","Bonus: troubleshooting Notarization issues","acknowledgments","Acknowledgments","After almost 3 years, we finally took the necessary steps to code-sign ",". This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice.","Selecting the right option from the “Create a New Certificate” section","Keychain Access","https:\u002F\u002Flocalazy.com\u002Fblog\u002Fhow-to-automatically-sign-macos-apps-using-github-actions","Certificates.base64","Team ID","PROD_MACOS_NOTARIZATION_APPLE_ID","PROD_MACOS_NOTARIZATION_PWD","PROD_MACOS_NOTARIZATION_TEAM_ID","target\u002Fmac\u002FEspanso.app","name","# Extract the secrets we defined earlier as environment variables","env","run","scalar","apple","codesign","https:\u002F\u002Fdeveloper.apple.com\u002Fdocumentation\u002Fsecurity\u002Fhardened_runtime","profile\" ","keychain","profile \"notarytool","ID","The single, most important trick to build robust applications","our-example","Our example","the-problem","The problem","a-better-approach-but-still-not-optimal","A better approach (but still not optimal)","making-invalid-states-unrepresentable","final-thoughts","Final thoughts","A ","LoginBox","Login","onLogin","\"\"","pass","label htmlFor","label","\n        value","\n        onChange","target","value","\"pass\"","Promise","new","resolve","generic-function","generic","newUserToken","\u002F\u002F We need to explicitly tell react that we are not loading anymore","error ","userToken ","setError(undefined)","PendingAction","SuccessAction","FailureAction","LogoutAction","Action"," PendingAction "," SuccessAction "," FailureAction "," LogoutAction"," State"," Action","switch","action","\n        userToken","userToken\n      ","error\n      "," dispatch"," userToken"," error ","loading: false","\n      userToken","\n      error","console","log")));
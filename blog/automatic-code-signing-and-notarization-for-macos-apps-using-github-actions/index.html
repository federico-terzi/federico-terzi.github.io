<!doctype html>
<!-- 
  Hi there! Welcome to my website :)
  It seems you are interested in the source code, did you
  know that the website is open-source? See:
  https://github.com/federico-terzi/federico-terzi.github.io
-->
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Automatic Code-signing and Notarization for macOS apps using GitHub Actions - Federico Terzi - A Software Engineering Journey</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="title" name="title" content="Federico Terzi - A Software Engineering Journey"><meta data-n-head="ssr" name="format-detection" content="telephone=no"><meta data-n-head="ssr" data-hid="description" name="description" content="After almost 3 years, we finally took the necessary steps to code-sign Espanso. This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice."><meta data-n-head="ssr" data-hid="og:title" property="og:title" content="Automatic Code-signing and Notarization for macOS apps using GitHub Actions"><meta data-n-head="ssr" data-hid="og:description" property="og:description" content="After almost 3 years, we finally took the necessary steps to code-sign Espanso. This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice."><meta data-n-head="ssr" data-hid="og:image" property="og:image" content="https://federicoterzi.com/social/2022-08-15-automatic-code-signing-and-notarization-for-macos-apps-using-github-actions.png"><meta data-n-head="ssr" name="twitter:card" content="summary"><meta data-n-head="ssr" name="twitter:site" content="@terzi_federico"><meta data-n-head="ssr" name="twitter:title" content="Automatic Code-signing and Notarization for macOS apps using GitHub Actions"><meta data-n-head="ssr" name="twitter:description" content="After almost 3 years, we finally took the necessary steps to code-sign Espanso. This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice."><meta data-n-head="ssr" name="twitter:image" content="https://federicoterzi.com/social/2022-08-15-automatic-code-signing-and-notarization-for-macos-apps-using-github-actions.png"><link data-n-head="ssr" rel="stylesheet" href="/colors.css"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32"><link data-n-head="ssr" rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16"><link data-n-head="ssr" rel="manifest" href="/site.webmanifest"><link data-n-head="ssr" rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180"><link data-n-head="ssr" rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="preload" href="/_nuxt/e638994.js" as="script"><link rel="preload" href="/_nuxt/17ba505.js" as="script"><link rel="preload" href="/_nuxt/4293a24.js" as="script"><link rel="preload" href="/_nuxt/90cdebc.js" as="script"><link rel="preload" href="/_nuxt/a829c7d.js" as="script"><style data-vue-ssr-id="c3ae2b30:0 d75bdb94:0 fa7ff0ca:0 56b15182:0 7ab12987:0 68efd426:0 4c3275e1:0 476c9a84:0 0356ed00:0 fcd77316:0 44de9599:0 71a90360:0">@font-face{font-family:Inter;font-style:normal;font-weight:400;font-display:swap;src:url(/_nuxt/fonts/inter-v7-latin-regular.33e43c3.eot);src:local(""),url(/_nuxt/fonts/inter-v7-latin-regular.33e43c3.eot?#iefix) format("embedded-opentype"),url(/_nuxt/fonts/inter-v7-latin-regular.5e6a773.woff2) format("woff2"),url(/_nuxt/fonts/inter-v7-latin-regular.cefb4aa.woff) format("woff"),url(/_nuxt/fonts/inter-v7-latin-regular.0e67589.ttf) format("truetype"),url(/_nuxt/b8db5cf5416facf0c5ec4489d0ee9bbe.svg#Inter) format("svg")}@font-face{font-family:Inter;font-style:normal;font-weight:700;font-display:swap;src:url(/_nuxt/fonts/inter-v7-latin-700.129e115.eot);src:local(""),url(/_nuxt/fonts/inter-v7-latin-700.129e115.eot?#iefix) format("embedded-opentype"),url(/_nuxt/fonts/inter-v7-latin-700.c2ceaa0.woff2) format("woff2"),url(/_nuxt/fonts/inter-v7-latin-700.7f5a89b.woff) format("woff"),url(/_nuxt/fonts/inter-v7-latin-700.6bb53f6.ttf) format("truetype"),url(/_nuxt/0a85e1f2fd11f8afbfa155c7c5ec0a12.svg#Inter) format("svg")}@font-face{font-family:"PT Serif";font-style:normal;font-weight:400;font-display:swap;src:url(/_nuxt/fonts/pt-serif-v16-latin-regular.ef9b698.eot);src:local(""),url(/_nuxt/fonts/pt-serif-v16-latin-regular.ef9b698.eot?#iefix) format("embedded-opentype"),url(/_nuxt/fonts/pt-serif-v16-latin-regular.511cda7.woff2) format("woff2"),url(/_nuxt/fonts/pt-serif-v16-latin-regular.b4f2a8d.woff) format("woff"),url(/_nuxt/fonts/pt-serif-v16-latin-regular.1602721.ttf) format("truetype"),url(/_nuxt/2b24347634a541da72419674a1818855.svg#PTSerif) format("svg")}html{--content-primary:#1a1a1a;--content-primary-inverted:#fff;--accent-primary:#c84c32;--accent-secondary:#2e4364;--accent-tertiary:#ecdbba;--accent-menu:#2e4364;--background-primary:#fff;--background-elevated:#f1f1f1;--background-semitransparent:hsla(0,0%,100%,0.7);--details:rgba(26,26,26,0.1)}html[data-theme=dark]{--content-primary:#fff;--content-primary-inverted:#1a1a1a;--accent-primary:#ef6b50;--accent-secondary:#8bb8ff;--accent-tertiary:#ecdbba;--accent-menu:#fff;--background-primary:#000;--background-elevated:#343434;--background-semitransparent:rgba(0,0,0,0.7);--details:hsla(0,0%,100%,0.1)}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}body,html{font-family:Inter,sans-serif;color:var(--content-primary);background-color:transparent;margin:0;padding:0}*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.main-layout-container{max-width:1512px;margin:auto}.main-layout-content{padding-top:95px;min-height:100vh}@media (max-width:992px){.main-layout-content{padding-top:50px;max-width:100vw;overflow-x:hidden}}.container[data-v-71b3c000]{position:fixed;top:0;left:0;right:0;bottom:0;width:100%;height:100%;overflow:hidden;z-index:-10;background-color:var(--background-primary);transition:all .5s ease}.blurred[data-v-71b3c000]{filter:blur(50px);height:450px;width:450px}.animate[data-v-71b3c000]{-webkit-animation:rotate-center-data-v-71b3c000 120s linear infinite both;animation:rotate-center-data-v-71b3c000 120s linear infinite both}.red[data-v-71b3c000]{top:25vh;left:-10vw;background-color:var(--accent-primary)}.blue[data-v-71b3c000],.red[data-v-71b3c000]{position:absolute;opacity:.15}.blue[data-v-71b3c000]{top:0;right:-10vw;background-color:var(--accent-secondary)}.yellow[data-v-71b3c000]{position:absolute;top:75vh;left:40vw;background-color:var(--accent-tertiary);opacity:.4}html[data-theme=dark] .yellow[data-v-71b3c000]{opacity:.2}@media (max-width:992px){.blurred[data-v-71b3c000]{height:300px;width:300px}}@-webkit-keyframes rotate-center-data-v-71b3c000{0%{transform:rotate(0) translateX(0) translateY(0)}50%{transform:rotate(180deg) translateX(300px) translateY(300px)}to{transform:rotate(1turn) translateX(0) translateY(0)}}@keyframes rotate-center-data-v-71b3c000{0%{transform:rotate(0) translateX(0) translateY(0)}50%{transform:rotate(180deg) translateX(300px) translateY(300px)}to{transform:rotate(1turn) translateX(0) translateY(0)}}.header[data-v-47a7b6cf]{position:fixed;top:0;right:0;left:0;z-index:20;background-color:transparent;box-shadow:none;transition:all .2s ease-in-out}html:not([data-scroll="0"]) .header[data-v-47a7b6cf]{background-color:var(--background-primary);box-shadow:0 4px 43px rgba(0,0,0,.1)}.content[data-v-47a7b6cf]{display:flex;align-items:center;justify-content:space-between;padding:25px;max-width:1512px;margin:auto}.logo-link[data-v-47a7b6cf]{text-decoration:none}.details[data-v-47a7b6cf]{display:flex}.logo[data-v-47a7b6cf]{margin-right:16px}.details-text[data-v-47a7b6cf]{display:flex;flex-direction:column;justify-content:center}.name[data-v-47a7b6cf]{font-size:24px;line-height:28px;color:var(--accent-primary)}.name[data-v-47a7b6cf],.tagline[data-v-47a7b6cf]{font-weight:700;text-shadow:0 4px 4px rgba(0,0,0,.05)}.tagline[data-v-47a7b6cf]{font-size:14px;line-height:17px;opacity:.8;color:var(--content-primary)}html[data-theme=dark] .tagline[data-v-47a7b6cf]{opacity:.9}.menu-link[data-v-47a7b6cf]{position:relative;font-style:normal;font-weight:700;font-size:18px;line-height:22px;color:var(--accent-menu);margin-left:48px;text-decoration:none;transition:all .3s ease}.menu-link[data-v-47a7b6cf]:hover{color:var(--accent-primary)}.menu-link[data-v-47a7b6cf]:after{content:"";position:absolute;display:block;width:100%;height:2px;bottom:-3px;left:0;background-color:var(--accent-secondary);transform:scaleX(0);opacity:0;transition:all .3s ease}.menu-link[data-v-47a7b6cf]:hover:after{transform:scaleX(1);opacity:1;background-color:var(--accent-primary)}.open-mobile-menu[data-v-47a7b6cf]{display:none}.mobile-menu[data-v-47a7b6cf]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:var(--background-semitransparent);z-index:1000;box-shadow:0 3px 18px rgba(0,0,0,.1);display:flex;flex-direction:column;justify-content:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);perspective:1000px}.menu-divider[data-v-47a7b6cf]{opacity:.05;border-bottom:2px solid #2e4364;margin-right:32px;margin-left:32px}.fade-enter-active[data-v-47a7b6cf],.fade-leave-active[data-v-47a7b6cf]{transition:opacity .5s}.fade-enter[data-v-47a7b6cf],.fade-leave-to[data-v-47a7b6cf]{opacity:0;-webkit-backdrop-filter:blur(0);backdrop-filter:blur(0)}@media (max-width:992px){.name[data-v-47a7b6cf]{font-size:14px;line-height:17px}.tagline[data-v-47a7b6cf]{display:none}.details-text[data-v-47a7b6cf]{opacity:0;transition:opacity .2s ease-in-out}html:not([data-scroll="0"]) .details-text[data-v-47a7b6cf]{opacity:1}.content[data-v-47a7b6cf]{padding:14px}.extended-menu[data-v-47a7b6cf]{display:none}.open-mobile-menu[data-v-47a7b6cf]{display:block;margin-right:4px;filter:drop-shadow(0 4px 16px rgba(0,0,0,.25))}.menu-link[data-v-47a7b6cf]{text-align:center;margin-left:0;margin-top:18px;margin-bottom:18px;-webkit-animation:slide-in-bck-center-data-v-47a7b6cf .7s cubic-bezier(.25,.46,.45,.94) both;animation:slide-in-bck-center-data-v-47a7b6cf .7s cubic-bezier(.25,.46,.45,.94) both}.mobile-menu-links[data-v-47a7b6cf]{display:flex;flex-direction:column;justify-content:center;flex:1}.mobile-menu-label[data-v-47a7b6cf]{text-align:center;font-size:12px;margin-bottom:100px}}@-webkit-keyframes slide-in-bck-center-data-v-47a7b6cf{0%{transform:translateZ(600px);opacity:0}to{transform:translateZ(0);opacity:1}}@keyframes slide-in-bck-center-data-v-47a7b6cf{0%{transform:translateZ(600px);opacity:0}to{transform:translateZ(0);opacity:1}}.container[data-v-66baf38d]{position:relative;width:46px;height:46px}.f[data-v-66baf38d],.t[data-v-66baf38d]{position:absolute}.t[data-v-66baf38d]{left:-3px;top:-1px}@media (max-width:992px){.container[data-v-66baf38d],.f[data-v-66baf38d],.t[data-v-66baf38d]{height:32px;width:32px}.t[data-v-66baf38d]{left:-1px;top:0}}.post-title[data-v-4240d724]{font-style:normal;font-weight:700;font-size:36px;line-height:44px;color:var(--content-primary);margin-top:0;margin-bottom:6px}.post-details[data-v-4240d724]{font-size:14px;line-height:17px;color:var(--content-secondary);margin-bottom:34px}.post-footer[data-v-4240d724]{margin-top:28px}.short-page-container{max-width:700px;margin-right:auto;margin-left:auto;margin-top:30px;padding:28px}.short-page-title{margin-bottom:50px;margin-left:-8px}@media (max-width:992px){.short-page-container{margin-top:10px}}.post-footer-container[data-v-63505c64]{font-size:18px;line-height:22px;border-top:1px solid var(--details);padding-top:28px;display:flex}.post-footer-image[data-v-63505c64]{height:138px;width:138px}.post-footer-content[data-v-63505c64]{margin-left:28px}.post-footer-content p[data-v-63505c64]:first-child{margin-top:0}.red[data-v-63505c64]{color:var(--accent-primary)}.blue[data-v-63505c64],.red[data-v-63505c64]{font-weight:700}.blue[data-v-63505c64]{color:var(--accent-secondary)}a[data-v-63505c64]{text-underline-offset:2px;text-decoration-thickness:2px}@media (max-width:992px){.post-footer-container[data-v-63505c64]{align-items:center;flex-direction:column}.post-footer-content[data-v-63505c64]{margin-left:0;margin-top:28px}}.footer-container[data-v-83760644]{font-size:14px;line-height:17px;text-align:center;color:var(--accent-menu);margin-top:40px;padding-right:16px;padding-left:16px}.bold[data-v-83760644]{font-weight:700}.red[data-v-83760644]{color:var(--accent-primary)}.social-bar-container{position:fixed;left:24px;bottom:24px;background:var(--background-elevated);border:1px solid var(--details);box-sizing:border-box;box-shadow:0 3px 8px 2px rgba(0,0,0,.1);border-radius:4px;display:flex;justify-content:space-evenly;width:360px;padding-top:10px;padding-bottom:10px;transition:all .3s ease}html[data-scrolled-to-bottom=true] .social-bar-container{opacity:0;transform:translateY(100px)}.social-bar-container a{display:flex;align-items:center;filter:drop-shadow(0 4px 6px rgba(0,0,0,.25));transition:all .3s ease}.social-bar-container a:hover{transform:scale(1.2) translateY(-3px)}.social-bar-container a path{stroke:var(--accent-primary)}.social-bar-divider{border-left:1px solid var(--details)}@media (max-width:992px){.social-bar-container{left:0;right:0;bottom:0;width:100%;border-radius:0}}</style><link rel="preload" href="/_nuxt/static/1699098675/blog/automatic-code-signing-and-notarization-for-macos-apps-using-github-actions/state.js" as="script"><link rel="preload" href="/_nuxt/static/1699098675/blog/automatic-code-signing-and-notarization-for-macos-apps-using-github-actions/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1699098675/manifest.js" as="script">
    <script>const debounce=t=>{let c;return(...e)=>{c&&cancelAnimationFrame(c),c=requestAnimationFrame(()=>{t(...e)})}},handleScroll=()=>{document.documentElement.dataset.scroll=window.scrollY,document.documentElement.dataset.scrolledToBottom=window.innerHeight+window.scrollY>=document.body?.offsetHeight?"true":"false"};function switchTheme(e){"dark"===e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light")}document.addEventListener("scroll",debounce(handleScroll),{passive:!0}),handleScroll();const prefersDarkScheme=window.matchMedia("(prefers-color-scheme: dark)");prefersDarkScheme.matches&&switchTheme("dark"),window.matchMedia("(prefers-color-scheme: dark)").addListener(e=>e.matches?switchTheme("dark"):switchTheme("light"))</script>
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="main-layout-container"><div class="container" data-v-71b3c000><div class="blurred red animate" data-v-71b3c000></div> <div class="blurred yellow animate" data-v-71b3c000></div> <div class="blurred blue animate" data-v-71b3c000></div></div> <div id="header" class="header" data-v-47a7b6cf><div class="content" data-v-47a7b6cf><a href="/" class="logo-link nuxt-link-active" data-v-47a7b6cf><div class="details" data-v-47a7b6cf><div class="container logo" data-v-66baf38d data-v-47a7b6cf><svg width="51" height="47" viewBox="0 0 51 47" fill="none" xmlns="http://www.w3.org/2000/svg" class="f" data-v-66baf38d data-v-66baf38d><g filter="url(#filter0_d_15_34)" data-v-66baf38d data-v-66baf38d><path d="M2.09039 44.1666V2H48L2.09039 44.1666Z" fill="#C84C32" data-v-66baf38d data-v-66baf38d></path></g><defs data-v-66baf38d data-v-66baf38d><filter id="filter0_d_15_34" x="0.0543151" y="0.506876" width="49.9818" height="46.2388" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB" data-v-66baf38d data-v-66baf38d><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-66baf38d data-v-66baf38d></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" data-v-66baf38d data-v-66baf38d></feColorMatrix><feOffset dy="0.542954" data-v-66baf38d data-v-66baf38d></feOffset><feGaussianBlur stdDeviation="1.01804" data-v-66baf38d data-v-66baf38d></feGaussianBlur><feComposite in2="hardAlpha" operator="out" data-v-66baf38d data-v-66baf38d></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" data-v-66baf38d data-v-66baf38d></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_15_34" data-v-66baf38d data-v-66baf38d></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_15_34" result="shape" data-v-66baf38d data-v-66baf38d></feBlend></filter></defs></svg> <svg width="53" height="49" viewBox="0 0 53 49" fill="none" xmlns="http://www.w3.org/2000/svg" class="t" data-v-66baf38d data-v-66baf38d><g filter="url(#filter0_d_15_35)" data-v-66baf38d data-v-66baf38d><path d="M28.0452 45.0836L5 3H51L28.0452 45.0836Z" fill="url(#paint0_linear_15_35)" data-v-66baf38d data-v-66baf38d></path></g><defs data-v-66baf38d data-v-66baf38d><filter id="filter0_d_15_35" x="0.656367" y="0.556706" width="51.9725" height="48.0561" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB" data-v-66baf38d data-v-66baf38d><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-66baf38d data-v-66baf38d></feFlood><feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" data-v-66baf38d data-v-66baf38d></feColorMatrix><feOffset dx="-1.35739" dy="0.542954" data-v-66baf38d data-v-66baf38d></feOffset><feGaussianBlur stdDeviation="1.49312" data-v-66baf38d data-v-66baf38d></feGaussianBlur><feComposite in2="hardAlpha" operator="out" data-v-66baf38d data-v-66baf38d></feComposite><feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0" data-v-66baf38d data-v-66baf38d></feColorMatrix><feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_15_35" data-v-66baf38d data-v-66baf38d></feBlend><feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_15_35" result="shape" data-v-66baf38d data-v-66baf38d></feBlend></filter><linearGradient id="paint0_linear_15_35" x1="28" y1="3" x2="28" y2="45.0836" gradientUnits="userSpaceOnUse" data-v-66baf38d data-v-66baf38d><stop stop-color="#ECDBBA" stop-opacity="0.49" data-v-66baf38d data-v-66baf38d></stop><stop offset="1" stop-color="#ECDBBA" data-v-66baf38d data-v-66baf38d></stop></linearGradient></defs></svg></div> <div class="details-text" data-v-47a7b6cf><span class="name" data-v-47a7b6cf>Federico Terzi</span> <span class="tagline" data-v-47a7b6cf>A Software Engineering Journey</span></div></div></a> <div class="extended-menu" data-v-47a7b6cf><a href="/#about" class="menu-link" data-v-47a7b6cf>About</a><a href="/projects" class="menu-link" data-v-47a7b6cf>Projects</a><a href="/blog" class="menu-link nuxt-link-active" data-v-47a7b6cf>Blog</a><a href="/talks" class="menu-link" data-v-47a7b6cf>Talks</a><a href="/contact-me" class="menu-link" data-v-47a7b6cf>Contact me</a></div> <div class="open-mobile-menu" data-v-47a7b6cf><svg width="26" height="18" viewBox="0 0 26 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="menu-icon" data-v-47a7b6cf data-v-47a7b6cf><path d="M2 9.25H23.75" stroke="#C84C32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" data-v-47a7b6cf data-v-47a7b6cf></path><path d="M2 2H23.75" stroke="#C84C32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" data-v-47a7b6cf data-v-47a7b6cf></path><path d="M2 16.5H23.75" stroke="#C84C32" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" data-v-47a7b6cf data-v-47a7b6cf></path></svg></div> <!----></div></div> <div class="main-layout-content"><article data-v-4240d724><div class="short-page-container" data-v-4240d724><!----> <h1 class="post-title" data-v-4240d724>Automatic Code-signing and Notarization for macOS apps using GitHub Actions</h1> <p class="post-details" data-v-4240d724>
      August 15th, 2022 - by Federico Terzi
    </p> <div class="post-content" data-v-4240d724><div class="nuxt-content" data-v-4240d724><p data-v-4240d724>After almost 3 years, we finally took the necessary steps to code-sign <a href="https://espanso.org/" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>Espanso</a>. This article covers the step I’ve taken to integrate the code-signing and notarization steps in our automatic CI flow. This process is built with GitHub Actions in mind, but you can easily port it to your CI provider of choice.</p>

<h1 id="prerequisites" data-v-4240d724><a href="#prerequisites" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Prerequisites</h1>
<ul data-v-4240d724>
<li data-v-4240d724>Having a paid <a href="https://developer.apple.com/programs/" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>Apple Developer Program</a> subscription. This costs about ~$99 per year depending on your country and is necessary to generate the required certificates.</li>
<li data-v-4240d724>Having a CI that builds your final App bundle. This bundle can be generated in a lot of different ways, just keep in mind we’ll need the final <code data-v-4240d724>bundle.app</code> inside the CI to perform the signing and notarization. This article won't cover the bundle generation, so please take care of that beforehand if you haven't already.</li>
</ul>
<h1 id="generating-the-certificate" data-v-4240d724><a href="#generating-the-certificate" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Generating the Certificate</h1>
<blockquote data-v-4240d724>
<p data-v-4240d724>If you have already generated a certificate for your app, feel free to skip this section</p>
</blockquote>
<p data-v-4240d724>In order to sign the app, we need a valid certificate issued from Apple. You can issue one following these steps:</p>
<ul data-v-4240d724>
<li data-v-4240d724>Navigate to the Apple Developer portal into the <a href="https://developer.apple.com/account/resources/certificates/list" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>Certificates, Identifiers & Profiles section</a> and select “Create a New Profile”</li>
<li data-v-4240d724>You’ll be asked to choose a certificate type, select “Developer ID Application” from the options and then continue</li>
</ul>
<p data-v-4240d724><img alt="Selecting the right option from the “Create a New Certificate” section" src="/posts/macos-code-sign/Untitled.png" data-v-4240d724></p>
<p data-v-4240d724>Selecting the right option from the “Create a New Certificate” section</p>
<ul data-v-4240d724>
<li data-v-4240d724>For the “Developer ID Certificate Intermediary” choose <code data-v-4240d724>G2 Sub-CA (Xcode 11.4.1 or later)</code> and keep this webpage open, we’ll get back to it later</li>
</ul>
<p data-v-4240d724><img alt="Certificate Intermediary selection" src="/posts/macos-code-sign/Untitled%201.png" data-v-4240d724></p>
<ul data-v-4240d724>
<li data-v-4240d724>Then, we need to generate a <em data-v-4240d724>Certificate Signing Request (CSR).</em> We can do so by opening the “Keychain Access” app on macOS, selecting <code data-v-4240d724>Certificate Assistant > Request a Certificate From a Certificate Authority...</code></li>
</ul>
<p data-v-4240d724><img alt="Generate a CSR" src="/posts/macos-code-sign/Untitled%202.png" data-v-4240d724></p>
<ul data-v-4240d724>
<li data-v-4240d724>
<p data-v-4240d724>You’ll be prompted for some information, make sure to specify the same email you used for your paid Apple Developer subscription, then check the <code data-v-4240d724>Save to Disk</code> option, and click <code data-v-4240d724>Continue</code></p>
<p data-v-4240d724><img alt="Certificate information" src="/posts/macos-code-sign/Screenshot_2022-08-15_at_11.26.54.png" data-v-4240d724></p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>This will create a <code data-v-4240d724>CertificateSigningRequest.certSigningRequest</code> file in your location of choice. Go back to the “Create a New Certificate” webpage we opened earlier and click on “Choose File”, selecting the certificate request file we just created. Finally, click “Continue”</p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>On the Apple Developer portal, you should now see your new certificate. Download it and open it using the <code data-v-4240d724>Keychain Access</code> app on your mac. It should look like this:</p>
<p data-v-4240d724><img alt="Final certificate inside Keychain Access" src="/posts/macos-code-sign/Screenshot_2022-08-15_at_11.39.43.png" data-v-4240d724></p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>Please note down the full name of the certificate (such as <code data-v-4240d724>Developer ID Application: Your Name (K1234)</code>, as we will need it later)</p>
</li>
</ul>
<p data-v-4240d724>This certificate is ready to be used locally, but we want to export it in a format that is usable inside an automated (and headless) CI environment. For this reason, we are going to use the same trick from <a href="https://localazy.com/blog/how-to-automatically-sign-macos-apps-using-github-actions" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>this great article</a> by Localazy, exporting the certificate file and then encoding it as base64.</p>
<ul data-v-4240d724>
<li data-v-4240d724>
<p data-v-4240d724>Select both the certificate (Developer ID Application: …) and the private key (the item below), then right click and choose “Export 2 items…”</p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>In the panel that opens up, select a target location for the certificate file and choose <code data-v-4240d724>Personal Information Exchange (.p12)</code> format.</p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>You’ll be asked for a password, generate a strong one using your tool of choice and note it down, as we’ll need it in the upcoming steps</p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>Open a terminal, <code data-v-4240d724>cd</code> into the directory in which you created the certificate file, and convert it into base64 using this command:</p>
<div class="nuxt-content-highlight" data-v-4240d724><pre class="line-numbers language-bash" data-v-4240d724><code data-v-4240d724>base64 Certificates <span class="token operator" data-v-4240d724>></span> Certificates.base64
</code></pre></div>
<p data-v-4240d724>This command will create a new <code data-v-4240d724>Certificates.base64</code> file with the certificate encoded as base64 string. Keep this file around, as we’ll need it when populating the GitHub Actions secrets.</p>
</li>
</ul>
<h1 id="gathering-the-notarization-information" data-v-4240d724><a href="#gathering-the-notarization-information" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Gathering the Notarization information</h1>
<p data-v-4240d724>Before diving into the GitHub Actions setup, we need to gather some more information for the notarization step:</p>
<h2 id="generating-an-app-specific-password" data-v-4240d724><a href="#generating-an-app-specific-password" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Generating an app-specific password</h2>
<p data-v-4240d724>We need to generate an Apple’s <a href="https://support.apple.com/en-us/HT204397" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>app-specific password</a> for the notarization step:</p>
<ul data-v-4240d724>
<li data-v-4240d724>
<p data-v-4240d724>Navigate and sign in to <a href="https://appleid.apple.com/account/home" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>appleid.apple.com</a> using the same account as your paid Apple Developer subscription</p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>On the <a href="https://appleid.apple.com/account/manage" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>Sign-in and Security page</a>, select “App-Specific Passwords”</p>
<p data-v-4240d724><img alt="App-specific password" src="/posts/macos-code-sign/Untitled%203.png" data-v-4240d724></p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>Then select “Generate App-Specific Password”, and give it a meaningful name, such as “Project CI Notarization”</p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>Then, enter your account password and finally “Continue”</p>
</li>
<li data-v-4240d724>
<p data-v-4240d724>You should now see a generated password, please note it down as we’ll need it later.</p>
</li>
</ul>
<h2 id="getting-your-team-id" data-v-4240d724><a href="#getting-your-team-id" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Getting your Team ID</h2>
<ul data-v-4240d724>
<li data-v-4240d724>Head over to the <a href="https://developer.apple.com/account/#!/membership" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>membership page</a>, logging in if necessary</li>
<li data-v-4240d724>Inside the page, you should see a <code data-v-4240d724>Team ID</code> field. Note it down, as we will need it later</li>
</ul>
<h1 id="setting-up-the-github-actions-pipeline" data-v-4240d724><a href="#setting-up-the-github-actions-pipeline" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Setting up the GitHub Actions pipeline</h1>
<p data-v-4240d724>Now that we gathered all the necessary information, it’s time to set up the GitHub Actions steps that will code-sign and notarize our app.</p>
<h2 id="setting-up-the-secrets" data-v-4240d724><a href="#setting-up-the-secrets" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Setting up the Secrets</h2>
<p data-v-4240d724>Navigate to your GitHub project Settings > Security > Secrets > Actions. Here we’ll need to register several secrets for the process to work correctly, so let’s start:</p>
<ul data-v-4240d724>
<li data-v-4240d724><code data-v-4240d724>PROD_MACOS_CERTIFICATE</code> should contain the base64 of the certificate we generated earlier. In particular, you should paste the content of the <code data-v-4240d724>Certificates.base64</code> file here</li>
<li data-v-4240d724><code data-v-4240d724>PROD_MACOS_CERTIFICATE_NAME</code> should contain the full certificate name, such as <code data-v-4240d724>Developer ID Application: Your Name (K1234567)</code></li>
<li data-v-4240d724><code data-v-4240d724>PROD_MACOS_CERTIFICATE_PWD</code> should contain the password you choose when exporting the certificate from the <code data-v-4240d724>Keychain Access</code> app</li>
<li data-v-4240d724><code data-v-4240d724>PROD_MACOS_NOTARIZATION_APPLE_ID</code> should contain your apple developer email, the same you use for the Apple Developer subscription</li>
<li data-v-4240d724><code data-v-4240d724>PROD_MACOS_NOTARIZATION_PWD</code> should contain the app-specific password we generated earlier</li>
<li data-v-4240d724><code data-v-4240d724>PROD_MACOS_NOTARIZATION_TEAM_ID</code> should contain the <code data-v-4240d724>Team ID</code> we got earlier from the membership page</li>
<li data-v-4240d724><code data-v-4240d724>PROD_MACOS_CI_KEYCHAIN_PWD</code> should contain a strong, randomly generated password. Feel free to use your tool of choice for this.</li>
</ul>
<p data-v-4240d724>If you did everything right, you should end up with these 7 secrets in your GitHub Actions:</p>
<p data-v-4240d724><img alt="Github Secrets" src="/posts/macos-code-sign/Untitled%204.png" data-v-4240d724></p>
<h2 id="defining-the-code-signing-step" data-v-4240d724><a href="#defining-the-code-signing-step" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Defining the Code-signing step</h2>
<p data-v-4240d724>Now that we have all our secrets in place, we are ready to define the code-signing step. For the sake of these examples, we assume that the app bundle will be placed in the <code data-v-4240d724>target/mac/Espanso.app</code> path inside the CI environment. Make sure to replace it with the appropriate location of your app.</p>
<p data-v-4240d724>This is what the GitHub Actions step should look like in the end, with comments explaining the various sections:</p>
<div class="nuxt-content-highlight" data-v-4240d724><pre class="line-numbers language-yaml" data-v-4240d724><code data-v-4240d724><span class="token punctuation" data-v-4240d724>-</span> <span class="token key atrule" data-v-4240d724>name</span><span class="token punctuation" data-v-4240d724>:</span> Codesign app bundle
  <span class="token comment" data-v-4240d724># Extract the secrets we defined earlier as environment variables</span>
  <span class="token key atrule" data-v-4240d724>env</span><span class="token punctuation" data-v-4240d724>:</span> 
    <span class="token key atrule" data-v-4240d724>MACOS_CERTIFICATE</span><span class="token punctuation" data-v-4240d724>:</span> $<span class="token punctuation" data-v-4240d724>{</span><span class="token punctuation" data-v-4240d724>{</span> secrets.PROD_MACOS_CERTIFICATE <span class="token punctuation" data-v-4240d724>}</span><span class="token punctuation" data-v-4240d724>}</span>
    <span class="token key atrule" data-v-4240d724>MACOS_CERTIFICATE_PWD</span><span class="token punctuation" data-v-4240d724>:</span> $<span class="token punctuation" data-v-4240d724>{</span><span class="token punctuation" data-v-4240d724>{</span> secrets.PROD_MACOS_CERTIFICATE_PWD <span class="token punctuation" data-v-4240d724>}</span><span class="token punctuation" data-v-4240d724>}</span>
    <span class="token key atrule" data-v-4240d724>MACOS_CERTIFICATE_NAME</span><span class="token punctuation" data-v-4240d724>:</span> $<span class="token punctuation" data-v-4240d724>{</span><span class="token punctuation" data-v-4240d724>{</span> secrets.PROD_MACOS_CERTIFICATE_NAME <span class="token punctuation" data-v-4240d724>}</span><span class="token punctuation" data-v-4240d724>}</span>
    <span class="token key atrule" data-v-4240d724>MACOS_CI_KEYCHAIN_PWD</span><span class="token punctuation" data-v-4240d724>:</span> $<span class="token punctuation" data-v-4240d724>{</span><span class="token punctuation" data-v-4240d724>{</span> secrets.PROD_MACOS_CI_KEYCHAIN_PWD <span class="token punctuation" data-v-4240d724>}</span><span class="token punctuation" data-v-4240d724>}</span>
  <span class="token key atrule" data-v-4240d724>run</span><span class="token punctuation" data-v-4240d724>:</span> <span class="token punctuation" data-v-4240d724>|</span><span class="token scalar string" data-v-4240d724>
    # Turn our base64-encoded certificate back to a regular .p12 file</span>
    
    echo $MACOS_CERTIFICATE <span class="token punctuation" data-v-4240d724>|</span> base64 <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>decode <span class="token punctuation" data-v-4240d724>></span> certificate.p12

    <span class="token comment" data-v-4240d724># We need to create a new keychain, otherwise using the certificate will prompt</span>
    <span class="token comment" data-v-4240d724># with a UI dialog asking for the certificate password, which we can't</span>
    <span class="token comment" data-v-4240d724># use in a headless CI environment</span>
    
    security create<span class="token punctuation" data-v-4240d724>-</span>keychain <span class="token punctuation" data-v-4240d724>-</span>p "$MACOS_CI_KEYCHAIN_PWD" build.keychain 
    security default<span class="token punctuation" data-v-4240d724>-</span>keychain <span class="token punctuation" data-v-4240d724>-</span>s build.keychain
    security unlock<span class="token punctuation" data-v-4240d724>-</span>keychain <span class="token punctuation" data-v-4240d724>-</span>p "$MACOS_CI_KEYCHAIN_PWD" build.keychain
    security import certificate.p12 <span class="token punctuation" data-v-4240d724>-</span>k build.keychain <span class="token punctuation" data-v-4240d724>-</span>P "$MACOS_CERTIFICATE_PWD" <span class="token punctuation" data-v-4240d724>-</span>T /usr/bin/codesign
    security set<span class="token punctuation" data-v-4240d724>-</span>key<span class="token punctuation" data-v-4240d724>-</span>partition<span class="token punctuation" data-v-4240d724>-</span>list <span class="token punctuation" data-v-4240d724>-</span>S apple<span class="token punctuation" data-v-4240d724>-</span>tool<span class="token punctuation" data-v-4240d724>:</span><span class="token punctuation" data-v-4240d724>,</span>apple<span class="token punctuation" data-v-4240d724>:</span><span class="token punctuation" data-v-4240d724>,</span><span class="token key atrule" data-v-4240d724>codesign</span><span class="token punctuation" data-v-4240d724>:</span> <span class="token punctuation" data-v-4240d724>-</span>s <span class="token punctuation" data-v-4240d724>-</span>k "$MACOS_CI_KEYCHAIN_PWD" build.keychain

    <span class="token comment" data-v-4240d724># We finally codesign our app bundle, specifying the Hardened runtime option</span>
    
    /usr/bin/codesign <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>force <span class="token punctuation" data-v-4240d724>-</span>s "$MACOS_CERTIFICATE_NAME" <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>options runtime target/mac/Espanso.app <span class="token punctuation" data-v-4240d724>-</span>v
</code></pre></div>
<p data-v-4240d724>A note before proceeding further:</p>
<ul data-v-4240d724>
<li data-v-4240d724>Specifying the <code data-v-4240d724>--options runtime</code> flag for the <code data-v-4240d724>codesign</code> command enables the <a href="https://developer.apple.com/documentation/security/hardened_runtime" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>Hardened Runtime</a> for our app. This is necessary to pass the following notarization step (otherwise it fails when notarizing), but this might interfere with your app, as it disables JIT and other dynamic features. If you need them, you’ll need to specify the exceptions in your app’s entitlement file, as explained in the <a href="https://developer.apple.com/documentation/security/hardened_runtime" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>hardened runtime</a> documentation.</li>
</ul>
<h2 id="defining-the-notarization-step" data-v-4240d724><a href="#defining-the-notarization-step" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Defining the Notarization step</h2>
<p data-v-4240d724>After the code-signing step, our app is ready to be Notarized, which is necessary to prevent macOS from showing a scary warning to our users when opening the app.</p>
<p data-v-4240d724>The GitHub Action step should look like the following. This again assumes that the app bundle is located in the <code data-v-4240d724>target/mac/Espanso.app</code> path, so adapt it accordingly:</p>
<div class="nuxt-content-highlight" data-v-4240d724><pre class="line-numbers language-yaml" data-v-4240d724><code data-v-4240d724><span class="token punctuation" data-v-4240d724>-</span> <span class="token key atrule" data-v-4240d724>name</span><span class="token punctuation" data-v-4240d724>:</span> <span class="token string" data-v-4240d724>"Notarize app bundle"</span>
  <span class="token comment" data-v-4240d724># Extract the secrets we defined earlier as environment variables</span>
  <span class="token key atrule" data-v-4240d724>env</span><span class="token punctuation" data-v-4240d724>:</span>
    <span class="token key atrule" data-v-4240d724>PROD_MACOS_NOTARIZATION_APPLE_ID</span><span class="token punctuation" data-v-4240d724>:</span> $<span class="token punctuation" data-v-4240d724>{</span><span class="token punctuation" data-v-4240d724>{</span> secrets.PROD_MACOS_NOTARIZATION_APPLE_ID <span class="token punctuation" data-v-4240d724>}</span><span class="token punctuation" data-v-4240d724>}</span>
    <span class="token key atrule" data-v-4240d724>PROD_MACOS_NOTARIZATION_TEAM_ID</span><span class="token punctuation" data-v-4240d724>:</span> $<span class="token punctuation" data-v-4240d724>{</span><span class="token punctuation" data-v-4240d724>{</span> secrets.PROD_MACOS_NOTARIZATION_TEAM_ID <span class="token punctuation" data-v-4240d724>}</span><span class="token punctuation" data-v-4240d724>}</span>
    <span class="token key atrule" data-v-4240d724>PROD_MACOS_NOTARIZATION_PWD</span><span class="token punctuation" data-v-4240d724>:</span> $<span class="token punctuation" data-v-4240d724>{</span><span class="token punctuation" data-v-4240d724>{</span> secrets.PROD_MACOS_NOTARIZATION_PWD <span class="token punctuation" data-v-4240d724>}</span><span class="token punctuation" data-v-4240d724>}</span>
  <span class="token key atrule" data-v-4240d724>run</span><span class="token punctuation" data-v-4240d724>:</span> <span class="token punctuation" data-v-4240d724>|</span><span class="token scalar string" data-v-4240d724>
    # Store the notarization credentials so that we can prevent a UI password dialog
    # from blocking the CI</span>

    echo "Create keychain profile"
    xcrun notarytool store<span class="token punctuation" data-v-4240d724>-</span>credentials "notarytool<span class="token punctuation" data-v-4240d724>-</span>profile" <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>apple<span class="token punctuation" data-v-4240d724>-</span>id "$PROD_MACOS_NOTARIZATION_APPLE_ID" <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>team<span class="token punctuation" data-v-4240d724>-</span>id "$PROD_MACOS_NOTARIZATION_TEAM_ID" <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>password "$PROD_MACOS_NOTARIZATION_PWD"

    <span class="token comment" data-v-4240d724># We can't notarize an app bundle directly, but we need to compress it as an archive.</span>
    <span class="token comment" data-v-4240d724># Therefore, we create a zip file containing our app bundle, so that we can send it to the</span>
    <span class="token comment" data-v-4240d724># notarization service</span>

    echo "Creating temp notarization archive"
    ditto <span class="token punctuation" data-v-4240d724>-</span>c <span class="token punctuation" data-v-4240d724>-</span>k <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>keepParent "target/mac/Espanso.app" "notarization.zip"

    <span class="token comment" data-v-4240d724># Here we send the notarization request to the Apple's Notarization service, waiting for the result.</span>
    <span class="token comment" data-v-4240d724># This typically takes a few seconds inside a CI environment, but it might take more depending on the App</span>
    <span class="token comment" data-v-4240d724># characteristics. Visit the Notarization docs for more information and strategies on how to optimize it if</span>
    <span class="token comment" data-v-4240d724># you're curious</span>

    echo "Notarize app"
    xcrun notarytool submit "notarization.zip" <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>keychain<span class="token punctuation" data-v-4240d724>-</span>profile "notarytool<span class="token punctuation" data-v-4240d724>-</span>profile" <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>wait

    <span class="token comment" data-v-4240d724># Finally, we need to "attach the staple" to our executable, which will allow our app to be</span>
    <span class="token comment" data-v-4240d724># validated by macOS even when an internet connection is not available.</span>
    echo "Attach staple"
    xcrun stapler staple "target/mac/Espanso.app"
</code></pre></div>
<h2 id="bonus-troubleshooting-notarization-issues" data-v-4240d724><a href="#bonus-troubleshooting-notarization-issues" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Bonus: troubleshooting Notarization issues</h2>
<p data-v-4240d724>While you are testing the notarization process, it might happen that the above GitHub Action step fails, with an error like:</p>
<div class="nuxt-content-highlight" data-v-4240d724><pre class="line-numbers language-yaml" data-v-4240d724><code data-v-4240d724><span class="token key atrule" data-v-4240d724>Current status</span><span class="token punctuation" data-v-4240d724>:</span> Invalid<span class="token punctuation" data-v-4240d724>...</span>.Processing complete
  <span class="token key atrule" data-v-4240d724>id</span><span class="token punctuation" data-v-4240d724>:</span> &lt;RANDOM<span class="token punctuation" data-v-4240d724>-</span>ID<span class="token punctuation" data-v-4240d724>></span>
  <span class="token key atrule" data-v-4240d724>status</span><span class="token punctuation" data-v-4240d724>:</span> Invalid
</code></pre></div>
<p data-v-4240d724>In these cases, you can view the notarization logs by using the following command (replacing <code data-v-4240d724>&lt;RANDOM-ID></code> with the actual one, which you can see in the step logs)</p>
<div class="nuxt-content-highlight" data-v-4240d724><pre class="line-numbers language-yaml" data-v-4240d724><code data-v-4240d724>xcrun notarytool log &lt;RANDOM<span class="token punctuation" data-v-4240d724>-</span>ID<span class="token punctuation" data-v-4240d724>></span> <span class="token punctuation" data-v-4240d724>-</span><span class="token punctuation" data-v-4240d724>-</span>keychain<span class="token punctuation" data-v-4240d724>-</span>profile "notarytool<span class="token punctuation" data-v-4240d724>-</span>profile"
</code></pre></div>
<h1 id="conclusion" data-v-4240d724><a href="#conclusion" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Conclusion</h1>
<p data-v-4240d724>Your app should now be fully code-signed and notarized, great job! As a result, no more scary warnings will be shown to your users:</p>
<p data-v-4240d724><img alt="Warnings before and after" src="/posts/macos-code-sign/Untitled%205.png" data-v-4240d724></p>
<h2 id="acknowledgments" data-v-4240d724><a href="#acknowledgments" aria-hidden="true" tabindex="-1" data-v-4240d724><span class="icon icon-link" data-v-4240d724></span></a>Acknowledgments</h2>
<p data-v-4240d724>This article wouldn’t have been possible without <a href="https://localazy.com/blog/how-to-automatically-sign-macos-apps-using-github-actions" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>this awesome article</a> by Localazy for the code-signing steps and <a href="https://github.com/akeru-inc/xcnotary/issues/22#issuecomment-1179170957" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>this GitHub comment</a> for the Notarization part, kudos to <a href="https://twitter.com/honzabilek4" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>Jan Bílek</a> and <a href="https://github.com/bradking" rel="nofollow noopener noreferrer" target="_blank" data-v-4240d724>Brad King</a>!</p></div></div> <div class="post-footer-container post-footer" data-v-63505c64 data-v-4240d724><img src="/_nuxt/img/profile-picture-small.40e71b2.png" alt="Federico Terzi Picture" class="post-footer-image" data-v-63505c64> <div class="post-footer-content" data-v-63505c64><p data-v-63505c64>Hi 👋, I’m <span class="red" data-v-63505c64>Federico</span>, thanks for reading!</p> <p data-v-63505c64>
      If you liked this article, make sure to follow me on
      <a href="https://twitter.com/terzi_federico" class="blue" data-v-63505c64>Twitter</a> to
      stay updated with the latest ones :)
    </p> <p data-v-63505c64>
      If you are into technical topics, you might also enjoy my
      <a href="https://www.youtube.com/c/FedericoTerzi" class="red" data-v-63505c64>YouTube</a>
      channel.
    </p></div></div></div></article></div> <div class="footer-container" data-v-83760644><p data-v-83760644><span class="bold" data-v-83760644>Designed</span> and
    <span class="bold" data-v-83760644>coded</span> with<span class="red" data-v-83760644> ♥</span> by me.
    Copyright © Federico Terzi 2019-2023 - P.IVA 03864201201
  </p></div> <div class="social-bar-container"><a href="https://twitter.com/terzi_federico"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23 3.00005C22.0424 3.67552 20.9821 4.19216 19.86 4.53005C19.2577 3.83756 18.4573 3.34674 17.567 3.12397C16.6767 2.90121 15.7395 2.95724 14.8821 3.2845C14.0247 3.61176 13.2884 4.19445 12.773 4.95376C12.2575 5.71308 11.9877 6.61238 12 7.53005V8.53005C10.2426 8.57561 8.50127 8.18586 6.93101 7.39549C5.36074 6.60513 4.01032 5.43868 3 4.00005C3 4.00005 -1 13 8 17C5.94053 18.398 3.48716 19.099 1 19C10 24 21 19 21 7.50005C20.9991 7.2215 20.9723 6.94364 20.92 6.67005C21.9406 5.66354 22.6608 4.39276 23 3.00005V3.00005Z" stroke="#2E4364" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a> <div class="social-bar-divider"></div> <a href="https://github.com/federico-terzi/"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_31_53)"><path d="M16 21.9999V18.1299C16.0375 17.6531 15.9731 17.1737 15.811 16.7237C15.6489 16.2737 15.3929 15.8634 15.06 15.5199C18.2 15.1699 21.5 13.9799 21.5 8.51994C21.4997 7.12376 20.9627 5.78114 20 4.76994C20.4559 3.54844 20.4236 2.19829 19.91 0.999938C19.91 0.999938 18.73 0.649938 16 2.47994C13.708 1.85876 11.292 1.85876 9 2.47994C6.27 0.649938 5.09 0.999938 5.09 0.999938C4.57638 2.19829 4.54414 3.54844 5 4.76994C4.03013 5.78864 3.49252 7.1434 3.5 8.54994C3.5 13.9699 6.8 15.1599 9.94 15.5499C9.611 15.8899 9.35726 16.2953 9.19531 16.7399C9.03335 17.1844 8.96681 17.658 9 18.1299V21.9999M9 18.9999C4 20.4999 4 16.4999 2 15.9999L9 18.9999Z" stroke="#2E4364" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_31_53"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg></a> <div class="social-bar-divider"></div> <a href="https://www.linkedin.com/in/federico-terzi/"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 8C17.5913 8 19.1174 8.63214 20.2426 9.75736C21.3679 10.8826 22 12.4087 22 14V21H18V14C18 13.4696 17.7893 12.9609 17.4142 12.5858C17.0391 12.2107 16.5304 12 16 12C15.4696 12 14.9609 12.2107 14.5858 12.5858C14.2107 12.9609 14 13.4696 14 14V21H10V14C10 12.4087 10.6321 10.8826 11.7574 9.75736C12.8826 8.63214 14.4087 8 16 8V8Z" stroke="#2E4364" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6 9H2V21H6V9Z" stroke="#2E4364" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M4 6C5.10457 6 6 5.10457 6 4C6 2.89543 5.10457 2 4 2C2.89543 2 2 2.89543 2 4C2 5.10457 2.89543 6 4 6Z" stroke="#2E4364" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a> <div class="social-bar-divider"></div> <a href="https://www.youtube.com/c/FedericoTerzi"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22.54 6.42C22.4212 5.94541 22.1793 5.51057 21.8387 5.15941C21.498 4.80824 21.0708 4.55318 20.6 4.42C18.88 4 12 4 12 4C12 4 5.12001 4 3.40001 4.46C2.92925 4.59318 2.50198 4.84824 2.16135 5.19941C1.82072 5.55057 1.5788 5.98541 1.46001 6.46C1.14522 8.20556 0.991243 9.97631 1.00001 11.75C0.988786 13.537 1.14277 15.3213 1.46001 17.08C1.59097 17.5398 1.83831 17.9581 2.17815 18.2945C2.51799 18.6308 2.93883 18.8738 3.40001 19C5.12001 19.46 12 19.46 12 19.46C12 19.46 18.88 19.46 20.6 19C21.0708 18.8668 21.498 18.6118 21.8387 18.2606C22.1793 17.9094 22.4212 17.4746 22.54 17C22.8524 15.2676 23.0063 13.5103 23 11.75C23.0112 9.96295 22.8572 8.1787 22.54 6.42V6.42Z" stroke="#2E4364" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.75 15.02L15.5 11.75L9.75 8.47998V15.02Z" stroke="#2E4364" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a></div></div></div></div><script defer src="/_nuxt/static/1699098675/blog/automatic-code-signing-and-notarization-for-macos-apps-using-github-actions/state.js"></script><script src="/_nuxt/e638994.js" defer></script><script src="/_nuxt/a829c7d.js" defer></script><script src="/_nuxt/17ba505.js" defer></script><script src="/_nuxt/4293a24.js" defer></script><script src="/_nuxt/90cdebc.js" defer></script>
  </body>
</html>
